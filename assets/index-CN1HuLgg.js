import{e as u,a as f,j as d}from"./index-Dt7Lsx6p.js";import{C as g}from"./content-wrapper-CDQMtKAm.js";import{a as p,m as c}from"./antd-DGkp10QV.js";import"./lodash-BVSlK2Pl.js";import"./prettier-DJQX7j1f.js";import"./chance-DnaHbaGl.js";class m{constructor(t,o="flipdown",r={}){if(typeof t!="number")throw new Error(`FlipDown: Constructor expected unix timestamp, got ${typeof t} instead.`);typeof o=="object"&&(r=o,o="flipdown"),this.element=document.getElementById(o),this.element.innerHTML="",this.initialized=!!this.element?.hasChildNodes(),this.now=this._getTime(),this.epoch=t,this.countdownEnded=!1,this.hasEndedCallback=null,this.rotors=[],this.rotorLeafFront=[],this.rotorLeafRear=[],this.rotorTops=[],this.rotorBottoms=[],this.countdown=null,this.daysRemaining=0,this.clockValues={},this.clockStrings={},this.clockValuesAsString=[],this.prevClockValuesAsString=[],this.opts=this._parseOptions(r),this._setOptions()}start(){return this.initialized||this._init(),this.countdown=setInterval(this._tick.bind(this),1e3),this}ifEnded(t){return this.hasEndedCallback=function(){t(),this.hasEndedCallback=null},this}_getTime(){return new Date().getTime()/1e3}_hasCountdownEnded(){return this.epoch-this.now<0?(this.countdownEnded=!0,this.hasEndedCallback!=null&&(this.hasEndedCallback(),this.hasEndedCallback=null),!0):(this.countdownEnded=!1,!1)}_parseOptions(t){let o=["Days","Hours","Minutes","Seconds"];return t.headings&&t.headings.length===4&&(o=t.headings),{theme:t.hasOwnProperty("theme")?t.theme:"dark",headings:o}}_setOptions(){this.element.classList.add(`flipdown__theme-${this.opts.theme}`)}_init(){this.initialized=!0,this._hasCountdownEnded()?this.daysremaining=0:this.daysremaining=Math.floor((this.epoch-this.now)/86400).toString().length;const t=this.daysremaining<=2?2:this.daysremaining;for(var o=0;o<t+6;o++)this.rotors.push(this._createRotor(0));const r=[];for(var o=0;o<t;o++)r.push(this.rotors[o]);this.element.appendChild(this._createRotorGroup(r,0));let e=t;for(var o=0;o<3;o++){const l=[];for(let s=0;s<2;s++)l.push(this.rotors[e]),e++;this.element.appendChild(this._createRotorGroup(l,o+1))}return this.rotorLeafFront=Array.prototype.slice.call(this.element.getElementsByClassName("rotor-leaf-front")),this.rotorLeafRear=Array.prototype.slice.call(this.element.getElementsByClassName("rotor-leaf-rear")),this.rotorTop=Array.prototype.slice.call(this.element.getElementsByClassName("rotor-top")),this.rotorBottom=Array.prototype.slice.call(this.element.getElementsByClassName("rotor-bottom")),this._tick(),this._updateClockValues(!0),this}_createRotorGroup(t,o){const r=document.createElement("div");r.className="rotor-group";const e=document.createElement("div");return e.className="rotor-group-heading",e.setAttribute("data-before",this.opts.headings[o]),r.appendChild(e),h(r,t),r}_createRotor(t=0){const o=document.createElement("div"),r=document.createElement("div"),e=document.createElement("figure"),n=document.createElement("figure"),l=document.createElement("div"),s=document.createElement("div");return o.className="rotor",r.className="rotor-leaf",e.className="rotor-leaf-rear",n.className="rotor-leaf-front",l.className="rotor-top",s.className="rotor-bottom",e.textContent=t,l.textContent=t,s.textContent=t,h(o,[r,l,s]),h(r,[e,n]),o}_tick(){this.now=this._getTime();let t=this.epoch-this.now<=0?0:this.epoch-this.now;this.clockValues.d=Math.floor(t/86400),t-=this.clockValues.d*86400,this.clockValues.h=Math.floor(t/3600),t-=this.clockValues.h*3600,this.clockValues.m=Math.floor(t/60),t-=this.clockValues.m*60,this.clockValues.s=Math.floor(t),this._updateClockValues(),this._hasCountdownEnded()}_updateClockValues(t=!1){this.clockStrings.d=a(this.clockValues.d,2),this.clockStrings.h=a(this.clockValues.h,2),this.clockStrings.m=a(this.clockValues.m,2),this.clockStrings.s=a(this.clockValues.s,2),this.clockValuesAsString=(this.clockStrings.d+this.clockStrings.h+this.clockStrings.m+this.clockStrings.s).split(""),this.rotorLeafFront.forEach((e,n)=>{e.textContent=this.prevClockValuesAsString[n]}),this.rotorBottom.forEach((e,n)=>{e.textContent=this.prevClockValuesAsString[n]});function o(){this.rotorTop.forEach((e,n)=>{e.textContent!=this.clockValuesAsString[n]&&(e.textContent=this.clockValuesAsString[n])})}function r(){this.rotorLeafRear.forEach((e,n)=>{if(e.textContent!=this.clockValuesAsString[n]){e.textContent=this.clockValuesAsString[n],e.parentElement.classList.add("flipped");var l=setInterval(function(){e.parentElement.classList.remove("flipped"),clearInterval(l)},500)}})}t?(o.call(this),r.call(this)):(setTimeout(o.bind(this),500),setTimeout(r.bind(this),500)),this.prevClockValuesAsString=this.clockValuesAsString}}function a(i,t){return i=i.toString(),i.length<t?a("0"+i,t):i}function h(i,t){t.forEach(o=>{i.appendChild(o)})}const w={name:"1u7jxvq",styles:".flipdown.flipdown__theme-dark{font-weight:bold;}.flipdown.flipdown__theme-dark .rotor-group-heading:before{color:#000000;}.flipdown.flipdown__theme-dark .rotor-group:nth-of-type(n + 2):nth-of-type(-n + 3):before,.flipdown.flipdown__theme-dark .rotor-group:nth-of-type(n + 2):nth-of-type(-n + 3):after{background-color:#151515;}.flipdown.flipdown__theme-dark .rotor,.flipdown.flipdown__theme-dark .rotor-top,.flipdown.flipdown__theme-dark .rotor-leaf-front{color:#ffffff;background-color:#151515;}.flipdown.flipdown__theme-dark .rotor-bottom,.flipdown.flipdown__theme-dark .rotor-leaf-rear{color:#efefef;background-color:#202020;}.flipdown.flipdown__theme-dark .rotor:after{border-top:solid 1px #151515;}.flipdown.flipdown__theme-light{font-weight:bold;}.flipdown.flipdown__theme-light .rotor-group-heading:before{color:#eeeeee;}.flipdown.flipdown__theme-light .rotor-group:nth-of-type(n + 2):nth-of-type(-n + 3):before,.flipdown.flipdown__theme-light .rotor-group:nth-of-type(n + 2):nth-of-type(-n + 3):after{background-color:#dddddd;}.flipdown.flipdown__theme-light .rotor,.flipdown.flipdown__theme-light .rotor-top,.flipdown.flipdown__theme-light .rotor-leaf-front{color:#222222;background-color:#dddddd;}.flipdown.flipdown__theme-light .rotor-bottom,.flipdown.flipdown__theme-light .rotor-leaf-rear{color:#333333;background-color:#eeeeee;}.flipdown.flipdown__theme-light .rotor:after{border-top:solid 1px #222222;}.flipdown{overflow:visible;width:100%;height:110px;display:flex;align-items:center;justify-content:center;}.flipdown .rotor-group{position:relative;float:left;padding-right:30px;}.flipdown .rotor-group:last-child{padding-right:0;}.flipdown .rotor-group-heading:before{display:block;height:30px;line-height:30px;text-align:center;}.flipdown .rotor-group:nth-of-type(1) .rotor-group-heading:before{content:attr(data-before);}.flipdown .rotor-group:nth-of-type(2) .rotor-group-heading:before{content:attr(data-before);}.flipdown .rotor-group:nth-of-type(3) .rotor-group-heading:before{content:attr(data-before);}.flipdown .rotor-group:nth-of-type(4) .rotor-group-heading:before{content:attr(data-before);}.flipdown .rotor-group:nth-of-type(n + 2):nth-of-type(-n + 3):before{content:'';position:absolute;bottom:20px;left:115px;width:10px;height:10px;border-radius:50%;}.flipdown .rotor-group:nth-of-type(n + 2):nth-of-type(-n + 3):after{content:'';position:absolute;bottom:50px;left:115px;width:10px;height:10px;border-radius:50%;}.flipdown .rotor{position:relative;float:left;width:50px;height:80px;margin:0px 5px 0px 0px;border-radius:4px;font-size:4rem;text-align:center;perspective:200px;}.flipdown .rotor:last-child{margin-right:0;}.flipdown .rotor-top,.flipdown .rotor-bottom{overflow:hidden;position:absolute;width:50px;height:40px;}.flipdown .rotor-leaf{z-index:1;position:absolute;width:50px;height:80px;transform-style:preserve-3d;transition:transform 0s;}.flipdown .rotor-leaf.flipped{transform:rotateX(-180deg);transition:all 0.5s ease-in-out;}.flipdown .rotor-leaf-front,.flipdown .rotor-leaf-rear{overflow:hidden;position:absolute;width:50px;height:40px;margin:0;transform:rotateX(0deg);backface-visibility:hidden;-webkit-backface-visibility:hidden;}.flipdown .rotor-leaf-front{line-height:80px;border-radius:4px 4px 0px 0px;}.flipdown .rotor-leaf-rear{line-height:0px;border-radius:0px 0px 4px 4px;transform:rotateX(-180deg);}.flipdown .rotor-top{line-height:80px;border-radius:4px 4px 0px 0px;}.flipdown .rotor-bottom{bottom:0;line-height:0px;border-radius:0px 0px 4px 4px;}.flipdown .rotor:after{content:'';z-index:2;position:absolute;bottom:0px;left:0px;width:50px;height:40px;border-radius:0px 0px 4px 4px;}@media (max-width: 550px){.flipdown{width:312px;height:70px;}.flipdown .rotor{font-size:2.2rem;margin-right:3px;}.flipdown .rotor,.flipdown .rotor-leaf,.flipdown .rotor-leaf-front,.flipdown .rotor-leaf-rear,.flipdown .rotor-top,.flipdown .rotor-bottom,.flipdown .rotor:after{width:30px;}.flipdown .rotor-group{padding-right:20px;}.flipdown .rotor-group:last-child{padding-right:0px;}.flipdown .rotor-group-heading:before{font-size:0.8rem;height:20px;line-height:20px;}.flipdown .rotor-group:nth-of-type(n + 2):nth-of-type(-n + 3):before,.flipdown .rotor-group:nth-of-type(n + 2):nth-of-type(-n + 3):after{left:69px;}.flipdown .rotor-group:nth-of-type(n + 2):nth-of-type(-n + 3):before{bottom:13px;height:8px;width:8px;}.flipdown .rotor-group:nth-of-type(n + 2):nth-of-type(-n + 3):after{bottom:29px;height:8px;width:8px;}.flipdown .rotor-leaf-front,.flipdown .rotor-top{line-height:50px;}.flipdown .rotor-leaf,.flipdown .rotor{height:50px;}.flipdown .rotor-leaf-front,.flipdown .rotor-leaf-rear,.flipdown .rotor-top,.flipdown .rotor-bottom,.flipdown .rotor:after{height:25px;}}"},x=()=>{const i=c(),t=i.year(),o=c(`${t}-11-24`);return i.isBefore(o)?t:t+1},b=()=>{const i=p.useRef(),{getInverseTheme:t}=u(),[o]=p.useState(x);return p.useEffect(()=>{i.current=new m(Number(new Date(`${o}-11-24`))/1e3).start()},[o]),f(g,{children:[f("div",{className:"mb-8 text-4xl font-bold italic",children:["The ",o-2023," ",d("sup",{children:"th"})," anniversary of marriage in"]}),d("div",{css:w,children:d("div",{id:"flipdown",className:`flipdown flipdown__theme-${t()}`})})]})},V=p.memo(b);export{V as default};
