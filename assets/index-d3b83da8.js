import{r as reactExports,m as middleware,R as RULESET,c as combine,K as KEYFRAMES,s as serialize,a as copy,b as replace,W as WEBKIT,D as DECLARATION,d as stringify,e as rulesheet,f as compile,h as hash,g as charat,M as MS,i as strlen,j as indexof,k as MOZ,l as match,n as dealloc,o as alloc,p as next,t as token,q as from,u as peek,v as delimit,w as slice$1,x as position,y as React,z as reactDomExports,A as React$1,_ as _objectSpread2,B as dayjs,I as Image$1,C as Modal,E as _setPrototypeOf$1,F as ReactDOM,G as _objectWithoutPropertiesLoose$2,H as _extends$3,J as AntdIcon,L as Divider,N as Appwrapper,O as ConfigProvider}from"./antd-4d5318cf.js";import{a as getAugmentedNamespace,g as getDefaultExportFromCjs,c as commonjsGlobal,l as lodashExports}from"./lodash-6114c6d4.js";import{C as Chance}from"./chance-d5bce0ad.js";function _mergeNamespaces(C,T){for(var $=0;$<T.length;$++){const V=T[$];if(typeof V!="string"&&!Array.isArray(V)){for(const Y in V)if(Y!=="default"&&!(Y in C)){const ee=Object.getOwnPropertyDescriptor(V,Y);ee&&Object.defineProperty(C,Y,ee.get?ee:{enumerable:!0,get:()=>V[Y]})}}}return Object.freeze(Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}))}(function(){const T=document.createElement("link").relList;if(T&&T.supports&&T.supports("modulepreload"))return;for(const Y of document.querySelectorAll('link[rel="modulepreload"]'))V(Y);new MutationObserver(Y=>{for(const ee of Y)if(ee.type==="childList")for(const te of ee.addedNodes)te.tagName==="LINK"&&te.rel==="modulepreload"&&V(te)}).observe(document,{childList:!0,subtree:!0});function $(Y){const ee={};return Y.integrity&&(ee.integrity=Y.integrity),Y.referrerPolicy&&(ee.referrerPolicy=Y.referrerPolicy),Y.crossOrigin==="use-credentials"?ee.credentials="include":Y.crossOrigin==="anonymous"?ee.credentials="omit":ee.credentials="same-origin",ee}function V(Y){if(Y.ep)return;Y.ep=!0;const ee=$(Y);fetch(Y.href,ee)}})();var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$4=Symbol.for("react.element"),l$4=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$5=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$5(C,T,$){var V,Y={},ee=null,te=null;$!==void 0&&(ee=""+$),T.key!==void 0&&(ee=""+T.key),T.ref!==void 0&&(te=T.ref);for(V in T)m$5.call(T,V)&&!p$5.hasOwnProperty(V)&&(Y[V]=T[V]);if(C&&C.defaultProps)for(V in T=C.defaultProps,T)Y[V]===void 0&&(Y[V]=T[V]);return{$$typeof:k$4,type:C,key:ee,ref:te,props:Y,_owner:n$5.current}}reactJsxRuntime_production_min.Fragment=l$4;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;function sheetForTag(C){if(C.sheet)return C.sheet;for(var T=0;T<document.styleSheets.length;T++)if(document.styleSheets[T].ownerNode===C)return document.styleSheets[T]}function createStyleElement(C){var T=document.createElement("style");return T.setAttribute("data-emotion",C.key),C.nonce!==void 0&&T.setAttribute("nonce",C.nonce),T.appendChild(document.createTextNode("")),T.setAttribute("data-s",""),T}var StyleSheet=function(){function C($){var V=this;this._insertTag=function(Y){var ee;V.tags.length===0?V.insertionPoint?ee=V.insertionPoint.nextSibling:V.prepend?ee=V.container.firstChild:ee=V.before:ee=V.tags[V.tags.length-1].nextSibling,V.container.insertBefore(Y,ee),V.tags.push(Y)},this.isSpeedy=$.speedy===void 0?!0:$.speedy,this.tags=[],this.ctr=0,this.nonce=$.nonce,this.key=$.key,this.container=$.container,this.prepend=$.prepend,this.insertionPoint=$.insertionPoint,this.before=null}var T=C.prototype;return T.hydrate=function(V){V.forEach(this._insertTag)},T.insert=function(V){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var Y=this.tags[this.tags.length-1];if(this.isSpeedy){var ee=sheetForTag(Y);try{ee.insertRule(V,ee.cssRules.length)}catch{}}else Y.appendChild(document.createTextNode(V));this.ctr++},T.flush=function(){this.tags.forEach(function(V){return V.parentNode&&V.parentNode.removeChild(V)}),this.tags=[],this.ctr=0},C}();function memoize$3(C){var T=Object.create(null);return function($){return T[$]===void 0&&(T[$]=C($)),T[$]}}var identifierWithPointTracking=function(T,$,V){for(var Y=0,ee=0;Y=ee,ee=peek(),Y===38&&ee===12&&($[V]=1),!token(ee);)next();return slice$1(T,position)},toRules=function(T,$){var V=-1,Y=44;do switch(token(Y)){case 0:Y===38&&peek()===12&&($[V]=1),T[V]+=identifierWithPointTracking(position-1,$,V);break;case 2:T[V]+=delimit(Y);break;case 4:if(Y===44){T[++V]=peek()===58?"&\f":"",$[V]=T[V].length;break}default:T[V]+=from(Y)}while(Y=next());return T},getRules=function(T,$){return dealloc(toRules(alloc(T),$))},fixedElements=new WeakMap,compat=function(T){if(!(T.type!=="rule"||!T.parent||T.length<1)){for(var $=T.value,V=T.parent,Y=T.column===V.column&&T.line===V.line;V.type!=="rule";)if(V=V.parent,!V)return;if(!(T.props.length===1&&$.charCodeAt(0)!==58&&!fixedElements.get(V))&&!Y){fixedElements.set(T,!0);for(var ee=[],te=getRules($,ee),J=V.props,ie=0,K=0;ie<te.length;ie++)for(var re=0;re<J.length;re++,K++)T.props[K]=ee[ie]?te[ie].replace(/&\f/g,J[re]):J[re]+" "+te[ie]}}},removeLabel=function(T){if(T.type==="decl"){var $=T.value;$.charCodeAt(0)===108&&$.charCodeAt(2)===98&&(T.return="",T.value="")}};function prefix$1(C,T){switch(hash(C,T)){case 5103:return WEBKIT+"print-"+C+C;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+C+C;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+C+MOZ+C+MS+C+C;case 6828:case 4268:return WEBKIT+C+MS+C+C;case 6165:return WEBKIT+C+MS+"flex-"+C+C;case 5187:return WEBKIT+C+replace(C,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+C;case 5443:return WEBKIT+C+MS+"flex-item-"+replace(C,/flex-|-self/,"")+C;case 4675:return WEBKIT+C+MS+"flex-line-pack"+replace(C,/align-content|flex-|-self/,"")+C;case 5548:return WEBKIT+C+MS+replace(C,"shrink","negative")+C;case 5292:return WEBKIT+C+MS+replace(C,"basis","preferred-size")+C;case 6060:return WEBKIT+"box-"+replace(C,"-grow","")+WEBKIT+C+MS+replace(C,"grow","positive")+C;case 4554:return WEBKIT+replace(C,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+C;case 6187:return replace(replace(replace(C,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),C,"")+C;case 5495:case 3959:return replace(C,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(C,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+C+C;case 4095:case 3583:case 4068:case 2532:return replace(C,/(.+)-inline(.+)/,WEBKIT+"$1$2")+C;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(C)-1-T>6)switch(charat(C,T+1)){case 109:if(charat(C,T+4)!==45)break;case 102:return replace(C,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(C,T+3)==108?"$3":"$2-$3"))+C;case 115:return~indexof(C,"stretch")?prefix$1(replace(C,"stretch","fill-available"),T)+C:C}break;case 4949:if(charat(C,T+1)!==115)break;case 6444:switch(charat(C,strlen(C)-3-(~indexof(C,"!important")&&10))){case 107:return replace(C,":",":"+WEBKIT)+C;case 101:return replace(C,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(C,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+C}break;case 5936:switch(charat(C,T+11)){case 114:return WEBKIT+C+MS+replace(C,/[svh]\w+-[tblr]{2}/,"tb")+C;case 108:return WEBKIT+C+MS+replace(C,/[svh]\w+-[tblr]{2}/,"tb-rl")+C;case 45:return WEBKIT+C+MS+replace(C,/[svh]\w+-[tblr]{2}/,"lr")+C}return WEBKIT+C+MS+C+C}return C}var prefixer=function(T,$,V,Y){if(T.length>-1&&!T.return)switch(T.type){case DECLARATION:T.return=prefix$1(T.value,T.length);break;case KEYFRAMES:return serialize([copy(T,{value:replace(T.value,"@","@"+WEBKIT)})],Y);case RULESET:if(T.length)return combine(T.props,function(ee){switch(match(ee,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(T,{props:[replace(ee,/:(read-\w+)/,":"+MOZ+"$1")]})],Y);case"::placeholder":return serialize([copy(T,{props:[replace(ee,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(T,{props:[replace(ee,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(T,{props:[replace(ee,/:(plac\w+)/,MS+"input-$1")]})],Y)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(T){var $=T.key;if($==="css"){var V=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(V,function(ue){var de=ue.getAttribute("data-emotion");de.indexOf(" ")!==-1&&(document.head.appendChild(ue),ue.setAttribute("data-s",""))})}var Y=T.stylisPlugins||defaultStylisPlugins,ee={},te,J=[];te=T.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+$+' "]'),function(ue){for(var de=ue.getAttribute("data-emotion").split(" "),ce=1;ce<de.length;ce++)ee[de[ce]]=!0;J.push(ue)});var ie,K=[compat,removeLabel];{var re,ne=[stringify,rulesheet(function(ue){re.insert(ue)})],le=middleware(K.concat(Y,ne)),ae=function(de){return serialize(compile(de),le)};ie=function(de,ce,be,Le){re=be,ae(de?de+"{"+ce.styles+"}":ce.styles),Le&&(se.inserted[ce.name]=!0)}}var se={key:$,sheet:new StyleSheet({key:$,container:te,nonce:T.nonce,speedy:T.speedy,prepend:T.prepend,insertionPoint:T.insertionPoint}),nonce:T.nonce,inserted:ee,registered:{},insert:ie};return se.sheet.hydrate(J),se},reactIs$1={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$2=b$2?Symbol.for("react.element"):60103,d$2=b$2?Symbol.for("react.portal"):60106,e$2=b$2?Symbol.for("react.fragment"):60107,f$2=b$2?Symbol.for("react.strict_mode"):60108,g$2=b$2?Symbol.for("react.profiler"):60114,h$4=b$2?Symbol.for("react.provider"):60109,k$3=b$2?Symbol.for("react.context"):60110,l$3=b$2?Symbol.for("react.async_mode"):60111,m$4=b$2?Symbol.for("react.concurrent_mode"):60111,n$4=b$2?Symbol.for("react.forward_ref"):60112,p$4=b$2?Symbol.for("react.suspense"):60113,q$4=b$2?Symbol.for("react.suspense_list"):60120,r$4=b$2?Symbol.for("react.memo"):60115,t$4=b$2?Symbol.for("react.lazy"):60116,v$3=b$2?Symbol.for("react.block"):60121,w$2=b$2?Symbol.for("react.fundamental"):60117,x$1=b$2?Symbol.for("react.responder"):60118,y$1=b$2?Symbol.for("react.scope"):60119;function z$1(C){if(typeof C=="object"&&C!==null){var T=C.$$typeof;switch(T){case c$2:switch(C=C.type,C){case l$3:case m$4:case e$2:case g$2:case f$2:case p$4:return C;default:switch(C=C&&C.$$typeof,C){case k$3:case n$4:case t$4:case r$4:case h$4:return C;default:return T}}case d$2:return T}}}function A$1(C){return z$1(C)===m$4}reactIs_production_min$1.AsyncMode=l$3;reactIs_production_min$1.ConcurrentMode=m$4;reactIs_production_min$1.ContextConsumer=k$3;reactIs_production_min$1.ContextProvider=h$4;reactIs_production_min$1.Element=c$2;reactIs_production_min$1.ForwardRef=n$4;reactIs_production_min$1.Fragment=e$2;reactIs_production_min$1.Lazy=t$4;reactIs_production_min$1.Memo=r$4;reactIs_production_min$1.Portal=d$2;reactIs_production_min$1.Profiler=g$2;reactIs_production_min$1.StrictMode=f$2;reactIs_production_min$1.Suspense=p$4;reactIs_production_min$1.isAsyncMode=function(C){return A$1(C)||z$1(C)===l$3};reactIs_production_min$1.isConcurrentMode=A$1;reactIs_production_min$1.isContextConsumer=function(C){return z$1(C)===k$3};reactIs_production_min$1.isContextProvider=function(C){return z$1(C)===h$4};reactIs_production_min$1.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===c$2};reactIs_production_min$1.isForwardRef=function(C){return z$1(C)===n$4};reactIs_production_min$1.isFragment=function(C){return z$1(C)===e$2};reactIs_production_min$1.isLazy=function(C){return z$1(C)===t$4};reactIs_production_min$1.isMemo=function(C){return z$1(C)===r$4};reactIs_production_min$1.isPortal=function(C){return z$1(C)===d$2};reactIs_production_min$1.isProfiler=function(C){return z$1(C)===g$2};reactIs_production_min$1.isStrictMode=function(C){return z$1(C)===f$2};reactIs_production_min$1.isSuspense=function(C){return z$1(C)===p$4};reactIs_production_min$1.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===e$2||C===m$4||C===g$2||C===f$2||C===p$4||C===q$4||typeof C=="object"&&C!==null&&(C.$$typeof===t$4||C.$$typeof===r$4||C.$$typeof===h$4||C.$$typeof===k$3||C.$$typeof===n$4||C.$$typeof===w$2||C.$$typeof===x$1||C.$$typeof===y$1||C.$$typeof===v$3)};reactIs_production_min$1.typeOf=z$1;reactIs$1.exports=reactIs_production_min$1;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$4=!0;function getRegisteredStyles(C,T,$){var V="";return $.split(" ").forEach(function(Y){C[Y]!==void 0?T.push(C[Y]+";"):V+=Y+" "}),V}var registerStyles=function(T,$,V){var Y=T.key+"-"+$.name;(V===!1||isBrowser$4===!1)&&T.registered[Y]===void 0&&(T.registered[Y]=$.styles)},insertStyles=function(T,$,V){registerStyles(T,$,V);var Y=T.key+"-"+$.name;if(T.inserted[$.name]===void 0){var ee=$;do T.insert($===ee?"."+Y:"",ee,T.sheet,!0),ee=ee.next;while(ee!==void 0)}};function murmur2(C){for(var T=0,$,V=0,Y=C.length;Y>=4;++V,Y-=4)$=C.charCodeAt(V)&255|(C.charCodeAt(++V)&255)<<8|(C.charCodeAt(++V)&255)<<16|(C.charCodeAt(++V)&255)<<24,$=($&65535)*1540483477+(($>>>16)*59797<<16),$^=$>>>24,T=($&65535)*1540483477+(($>>>16)*59797<<16)^(T&65535)*1540483477+((T>>>16)*59797<<16);switch(Y){case 3:T^=(C.charCodeAt(V+2)&255)<<16;case 2:T^=(C.charCodeAt(V+1)&255)<<8;case 1:T^=C.charCodeAt(V)&255,T=(T&65535)*1540483477+((T>>>16)*59797<<16)}return T^=T>>>13,T=(T&65535)*1540483477+((T>>>16)*59797<<16),((T^T>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(T){return T.charCodeAt(1)===45},isProcessableValue=function(T){return T!=null&&typeof T!="boolean"},processStyleName=memoize$3(function(C){return isCustomProperty(C)?C:C.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(T,$){switch(T){case"animation":case"animationName":if(typeof $=="string")return $.replace(animationRegex,function(V,Y,ee){return cursor={name:Y,styles:ee,next:cursor},Y})}return unitlessKeys[T]!==1&&!isCustomProperty(T)&&typeof $=="number"&&$!==0?$+"px":$},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(C,T,$){if($==null)return"";if($.__emotion_styles!==void 0)return $;switch(typeof $){case"boolean":return"";case"object":{if($.anim===1)return cursor={name:$.name,styles:$.styles,next:cursor},$.name;if($.styles!==void 0){var V=$.next;if(V!==void 0)for(;V!==void 0;)cursor={name:V.name,styles:V.styles,next:cursor},V=V.next;var Y=$.styles+";";return Y}return createStringFromObject(C,T,$)}case"function":{if(C!==void 0){var ee=cursor,te=$(C);return cursor=ee,handleInterpolation(C,T,te)}break}}if(T==null)return $;var J=T[$];return J!==void 0?J:$}function createStringFromObject(C,T,$){var V="";if(Array.isArray($))for(var Y=0;Y<$.length;Y++)V+=handleInterpolation(C,T,$[Y])+";";else for(var ee in $){var te=$[ee];if(typeof te!="object")T!=null&&T[te]!==void 0?V+=ee+"{"+T[te]+"}":isProcessableValue(te)&&(V+=processStyleName(ee)+":"+processStyleValue(ee,te)+";");else if(Array.isArray(te)&&typeof te[0]=="string"&&(T==null||T[te[0]]===void 0))for(var J=0;J<te.length;J++)isProcessableValue(te[J])&&(V+=processStyleName(ee)+":"+processStyleValue(ee,te[J])+";");else{var ie=handleInterpolation(C,T,te);switch(ee){case"animation":case"animationName":{V+=processStyleName(ee)+":"+ie+";";break}default:V+=ee+"{"+ie+"}"}}}return V}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(T,$,V){if(T.length===1&&typeof T[0]=="object"&&T[0]!==null&&T[0].styles!==void 0)return T[0];var Y=!0,ee="";cursor=void 0;var te=T[0];te==null||te.raw===void 0?(Y=!1,ee+=handleInterpolation(V,$,te)):ee+=te[0];for(var J=1;J<T.length;J++)ee+=handleInterpolation(V,$,T[J]),Y&&(ee+=te[J]);labelPattern.lastIndex=0;for(var ie="",K;(K=labelPattern.exec(ee))!==null;)ie+="-"+K[1];var re=murmur2(ee)+ie;return{name:re,styles:ee,next:cursor}},syncFallback=function(T){return T()},useInsertionEffect=React["useInsertionEffect"]?React["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,hasOwnProperty$h={}.hasOwnProperty,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(T){return reactExports.forwardRef(function($,V){var Y=reactExports.useContext(EmotionCacheContext);return T($,Y,V)})},ThemeContext=reactExports.createContext({}),typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(T,$){var V={};for(var Y in $)hasOwnProperty$h.call($,Y)&&(V[Y]=$[Y]);return V[typePropName]=T,V},Insertion=function(T){var $=T.cache,V=T.serialized,Y=T.isStringTag;return registerStyles($,V,Y),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles($,V,Y)}),null},Emotion=withEmotionCache(function(C,T,$){var V=C.css;typeof V=="string"&&T.registered[V]!==void 0&&(V=T.registered[V]);var Y=C[typePropName],ee=[V],te="";typeof C.className=="string"?te=getRegisteredStyles(T.registered,ee,C.className):C.className!=null&&(te=C.className+" ");var J=serializeStyles(ee,void 0,reactExports.useContext(ThemeContext));te+=T.key+"-"+J.name;var ie={};for(var K in C)hasOwnProperty$h.call(C,K)&&K!=="css"&&K!==typePropName&&(ie[K]=C[K]);return ie.ref=$,ie.className=te,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:T,serialized:J,isStringTag:typeof Y=="string"}),reactExports.createElement(Y,ie))}),Emotion$1=Emotion,Fragment=jsxRuntimeExports.Fragment;function jsx(C,T,$){return hasOwnProperty$h.call(T,"css")?jsxRuntimeExports.jsx(Emotion$1,createEmotionProps(C,T),$):jsxRuntimeExports.jsx(C,T,$)}function jsxs(C,T,$){return hasOwnProperty$h.call(T,"css")?jsxRuntimeExports.jsxs(Emotion$1,createEmotionProps(C,T),$):jsxRuntimeExports.jsxs(C,T,$)}var client={},m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$1=reactExports;function h$3(C,T){return C===T&&(C!==0||1/C===1/T)||C!==C&&T!==T}var k$2=typeof Object.is=="function"?Object.is:h$3,l$2=e$1.useState,m$2=e$1.useEffect,n$3=e$1.useLayoutEffect,p$3=e$1.useDebugValue;function q$3(C,T){var $=T(),V=l$2({inst:{value:$,getSnapshot:T}}),Y=V[0].inst,ee=V[1];return n$3(function(){Y.value=$,Y.getSnapshot=T,r$3(Y)&&ee({inst:Y})},[C,$,T]),m$2(function(){return r$3(Y)&&ee({inst:Y}),C(function(){r$3(Y)&&ee({inst:Y})})},[C]),p$3($),$}function r$3(C){var T=C.getSnapshot;C=C.value;try{var $=T();return!k$2(C,$)}catch{return!0}}function t$3(C,T){return T()}var u$3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$3:q$3;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$1.useSyncExternalStore!==void 0?e$1.useSyncExternalStore:u$3;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports,withSelector={exports:{}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$2=reactExports,n$2=shimExports;function p$2(C,T){return C===T&&(C!==0||1/C===1/T)||C!==C&&T!==T}var q$2=typeof Object.is=="function"?Object.is:p$2,r$2=n$2.useSyncExternalStore,t$2=h$2.useRef,u$2=h$2.useEffect,v$2=h$2.useMemo,w$1=h$2.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(C,T,$,V,Y){var ee=t$2(null);if(ee.current===null){var te={hasValue:!1,value:null};ee.current=te}else te=ee.current;ee=v$2(function(){function ie(ae){if(!K){if(K=!0,re=ae,ae=V(ae),Y!==void 0&&te.hasValue){var se=te.value;if(Y(se,ae))return ne=se}return ne=ae}if(se=ne,q$2(re,ae))return se;var ue=V(ae);return Y!==void 0&&Y(se,ue)?se:(re=ae,ne=ue)}var K=!1,re,ne,le=$===void 0?null:$;return[function(){return ie(T())},le===null?void 0:function(){return ie(le())}]},[T,$,V,Y]);var J=r$2(C,ee[0],ee[1]);return u$2(function(){te.hasValue=!0,te.value=J},[J]),w$1(J),J};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;function defaultNoopBatch(C){C()}let batch=defaultNoopBatch;const setBatch=C=>batch=C,getBatch=()=>batch,ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){var C;if(!reactExports.createContext)return{};const T=(C=gT[ContextKey])!=null?C:gT[ContextKey]=new Map;let $=T.get(reactExports.createContext);return $||($=reactExports.createContext(null),T.set(reactExports.createContext,$)),$}const ReactReduxContext=getContext();function createReduxContextHook(C=ReactReduxContext){return function(){return reactExports.useContext(C)}}const useReduxContext=createReduxContextHook(),notInitialized=()=>{throw new Error("uSES not initialized!")};let useSyncExternalStoreWithSelector=notInitialized;const initializeUseSelector=C=>{useSyncExternalStoreWithSelector=C},refEquality=(C,T)=>C===T;function createSelectorHook(C=ReactReduxContext){const T=C===ReactReduxContext?useReduxContext:createReduxContextHook(C);return function(V,Y={}){const{equalityFn:ee=refEquality,stabilityCheck:te=void 0,noopCheck:J=void 0}=typeof Y=="function"?{equalityFn:Y}:Y,{store:ie,subscription:K,getServerState:re,stabilityCheck:ne,noopCheck:le}=T();reactExports.useRef(!0);const ae=reactExports.useCallback({[V.name](ue){return V(ue)}}[V.name],[V,ne,te]),se=useSyncExternalStoreWithSelector(K.addNestedSub,ie.getState,re||ie.getState,ae,ee);return reactExports.useDebugValue(se),se}}const useSelector=createSelectorHook();var reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$1=Symbol.for("react.memo"),q$1=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u$1;u$1=Symbol.for("react.module.reference");function v$1(C){if(typeof C=="object"&&C!==null){var T=C.$$typeof;switch(T){case b$1:switch(C=C.type,C){case d$1:case f$1:case e:case m$1:case n$1:return C;default:switch(C=C&&C.$$typeof,C){case k$1:case h$1:case l$1:case q$1:case p$1:case g$1:return C;default:return T}}case c$1:return T}}}reactIs_production_min.ContextConsumer=h$1;reactIs_production_min.ContextProvider=g$1;reactIs_production_min.Element=b$1;reactIs_production_min.ForwardRef=l$1;reactIs_production_min.Fragment=d$1;reactIs_production_min.Lazy=q$1;reactIs_production_min.Memo=p$1;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f$1;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m$1;reactIs_production_min.SuspenseList=n$1;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(C){return v$1(C)===h$1};reactIs_production_min.isContextProvider=function(C){return v$1(C)===g$1};reactIs_production_min.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===b$1};reactIs_production_min.isForwardRef=function(C){return v$1(C)===l$1};reactIs_production_min.isFragment=function(C){return v$1(C)===d$1};reactIs_production_min.isLazy=function(C){return v$1(C)===q$1};reactIs_production_min.isMemo=function(C){return v$1(C)===p$1};reactIs_production_min.isPortal=function(C){return v$1(C)===c$1};reactIs_production_min.isProfiler=function(C){return v$1(C)===f$1};reactIs_production_min.isStrictMode=function(C){return v$1(C)===e};reactIs_production_min.isSuspense=function(C){return v$1(C)===m$1};reactIs_production_min.isSuspenseList=function(C){return v$1(C)===n$1};reactIs_production_min.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===d$1||C===f$1||C===e||C===m$1||C===n$1||C===t$1||typeof C=="object"&&C!==null&&(C.$$typeof===q$1||C.$$typeof===p$1||C.$$typeof===g$1||C.$$typeof===h$1||C.$$typeof===l$1||C.$$typeof===u$1||C.getModuleId!==void 0)};reactIs_production_min.typeOf=v$1;function createListenerCollection(){const C=getBatch();let T=null,$=null;return{clear(){T=null,$=null},notify(){C(()=>{let V=T;for(;V;)V.callback(),V=V.next})},get(){let V=[],Y=T;for(;Y;)V.push(Y),Y=Y.next;return V},subscribe(V){let Y=!0,ee=$={callback:V,next:null,prev:$};return ee.prev?ee.prev.next=ee:T=ee,function(){!Y||T===null||(Y=!1,ee.next?ee.next.prev=ee.prev:$=ee.prev,ee.prev?ee.prev.next=ee.next:T=ee.next)}}}}const nullListeners={notify(){},get:()=>[]};function createSubscription(C,T){let $,V=nullListeners,Y=0,ee=!1;function te(ue){re();const de=V.subscribe(ue);let ce=!1;return()=>{ce||(ce=!0,de(),ne())}}function J(){V.notify()}function ie(){se.onStateChange&&se.onStateChange()}function K(){return ee}function re(){Y++,$||($=T?T.addNestedSub(ie):C.subscribe(ie),V=createListenerCollection())}function ne(){Y--,$&&Y===0&&($(),$=void 0,V.clear(),V=nullListeners)}function le(){ee||(ee=!0,re())}function ae(){ee&&(ee=!1,ne())}const se={addNestedSub:te,notifyNestedSubs:J,handleChangeWrapper:ie,isSubscribed:K,trySubscribe:le,tryUnsubscribe:ae,getListeners:()=>V};return se}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect$1=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect;function Provider({store:C,context:T,children:$,serverState:V,stabilityCheck:Y="once",noopCheck:ee="once"}){const te=reactExports.useMemo(()=>{const K=createSubscription(C);return{store:C,subscription:K,getServerState:V?()=>V:void 0,stabilityCheck:Y,noopCheck:ee}},[C,V,Y,ee]),J=reactExports.useMemo(()=>C.getState(),[C]);useIsomorphicLayoutEffect$1(()=>{const{subscription:K}=te;return K.onStateChange=K.notifyNestedSubs,K.trySubscribe(),J!==C.getState()&&K.notifyNestedSubs(),()=>{K.tryUnsubscribe(),K.onStateChange=void 0}},[te,J]);const ie=T||ReactReduxContext;return reactExports.createElement(ie.Provider,{value:te},$)}function createStoreHook(C=ReactReduxContext){const T=C===ReactReduxContext?useReduxContext:createReduxContextHook(C);return function(){const{store:V}=T();return V}}const useStore=createStoreHook();function createDispatchHook(C=ReactReduxContext){const T=C===ReactReduxContext?useStore:createStoreHook(C);return function(){return T().dispatch}}const useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector);setBatch(reactDomExports.unstable_batchedUpdates);/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(C){for(var T=1;T<arguments.length;T++){var $=arguments[T];for(var V in $)Object.prototype.hasOwnProperty.call($,V)&&(C[V]=$[V])}return C},_extends$2.apply(this,arguments)}var Action;(function(C){C.Pop="POP",C.Push="PUSH",C.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(C){C===void 0&&(C={});function T(V,Y){let{pathname:ee,search:te,hash:J}=V.location;return createLocation("",{pathname:ee,search:te,hash:J},Y.state&&Y.state.usr||null,Y.state&&Y.state.key||"default")}function $(V,Y){return typeof Y=="string"?Y:createPath$1(Y)}return getUrlBasedHistory(T,$,null,C)}function invariant$1(C,T){if(C===!1||C===null||typeof C>"u")throw new Error(T)}function warning$1(C,T){if(!C){typeof console<"u"&&console.warn(T);try{throw new Error(T)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(C,T){return{usr:C.state,key:C.key,idx:T}}function createLocation(C,T,$,V){return $===void 0&&($=null),_extends$2({pathname:typeof C=="string"?C:C.pathname,search:"",hash:""},typeof T=="string"?parsePath(T):T,{state:$,key:T&&T.key||V||createKey()})}function createPath$1(C){let{pathname:T="/",search:$="",hash:V=""}=C;return $&&$!=="?"&&(T+=$.charAt(0)==="?"?$:"?"+$),V&&V!=="#"&&(T+=V.charAt(0)==="#"?V:"#"+V),T}function parsePath(C){let T={};if(C){let $=C.indexOf("#");$>=0&&(T.hash=C.substr($),C=C.substr(0,$));let V=C.indexOf("?");V>=0&&(T.search=C.substr(V),C=C.substr(0,V)),C&&(T.pathname=C)}return T}function getUrlBasedHistory(C,T,$,V){V===void 0&&(V={});let{window:Y=document.defaultView,v5Compat:ee=!1}=V,te=Y.history,J=Action.Pop,ie=null,K=re();K==null&&(K=0,te.replaceState(_extends$2({},te.state,{idx:K}),""));function re(){return(te.state||{idx:null}).idx}function ne(){J=Action.Pop;let de=re(),ce=de==null?null:de-K;K=de,ie&&ie({action:J,location:ue.location,delta:ce})}function le(de,ce){J=Action.Push;let be=createLocation(ue.location,de,ce);$&&$(be,de),K=re()+1;let Le=getHistoryState(be,K),ve=ue.createHref(be);try{te.pushState(Le,"",ve)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;Y.location.assign(ve)}ee&&ie&&ie({action:J,location:ue.location,delta:1})}function ae(de,ce){J=Action.Replace;let be=createLocation(ue.location,de,ce);$&&$(be,de),K=re();let Le=getHistoryState(be,K),ve=ue.createHref(be);te.replaceState(Le,"",ve),ee&&ie&&ie({action:J,location:ue.location,delta:0})}function se(de){let ce=Y.location.origin!=="null"?Y.location.origin:Y.location.href,be=typeof de=="string"?de:createPath$1(de);return invariant$1(ce,"No window.location.(origin|href) available to create URL for href: "+be),new URL(be,ce)}let ue={get action(){return J},get location(){return C(Y,te)},listen(de){if(ie)throw new Error("A history only accepts one active listener");return Y.addEventListener(PopStateEventType,ne),ie=de,()=>{Y.removeEventListener(PopStateEventType,ne),ie=null}},createHref(de){return T(Y,de)},createURL:se,encodeLocation(de){let ce=se(de);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:le,replace:ae,go(de){return te.go(de)}};return ue}var ResultType;(function(C){C.data="data",C.deferred="deferred",C.redirect="redirect",C.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(C){return C.index===!0}function convertRoutesToDataRoutes(C,T,$,V){return $===void 0&&($=[]),V===void 0&&(V={}),C.map((Y,ee)=>{let te=[...$,ee],J=typeof Y.id=="string"?Y.id:te.join("-");if(invariant$1(Y.index!==!0||!Y.children,"Cannot specify children on an index route"),invariant$1(!V[J],'Found a route id collision on id "'+J+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute(Y)){let ie=_extends$2({},Y,T(Y),{id:J});return V[J]=ie,ie}else{let ie=_extends$2({},Y,T(Y),{id:J,children:void 0});return V[J]=ie,Y.children&&(ie.children=convertRoutesToDataRoutes(Y.children,T,te,V)),ie}})}function matchRoutes(C,T,$){$===void 0&&($="/");let V=typeof T=="string"?parsePath(T):T,Y=stripBasename(V.pathname||"/",$);if(Y==null)return null;let ee=flattenRoutes(C);rankRouteBranches(ee);let te=null;for(let J=0;te==null&&J<ee.length;++J)te=matchRouteBranch(ee[J],safelyDecodeURI(Y));return te}function convertRouteMatchToUiMatch(C,T){let{route:$,pathname:V,params:Y}=C;return{id:$.id,pathname:V,params:Y,data:T[$.id],handle:$.handle}}function flattenRoutes(C,T,$,V){T===void 0&&(T=[]),$===void 0&&($=[]),V===void 0&&(V="");let Y=(ee,te,J)=>{let ie={relativePath:J===void 0?ee.path||"":J,caseSensitive:ee.caseSensitive===!0,childrenIndex:te,route:ee};ie.relativePath.startsWith("/")&&(invariant$1(ie.relativePath.startsWith(V),'Absolute route path "'+ie.relativePath+'" nested under path '+('"'+V+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),ie.relativePath=ie.relativePath.slice(V.length));let K=joinPaths([V,ie.relativePath]),re=$.concat(ie);ee.children&&ee.children.length>0&&(invariant$1(ee.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+K+'".')),flattenRoutes(ee.children,T,re,K)),!(ee.path==null&&!ee.index)&&T.push({path:K,score:computeScore(K,ee.index),routesMeta:re})};return C.forEach((ee,te)=>{var J;if(ee.path===""||!((J=ee.path)!=null&&J.includes("?")))Y(ee,te);else for(let ie of explodeOptionalSegments(ee.path))Y(ee,te,ie)}),T}function explodeOptionalSegments(C){let T=C.split("/");if(T.length===0)return[];let[$,...V]=T,Y=$.endsWith("?"),ee=$.replace(/\?$/,"");if(V.length===0)return Y?[ee,""]:[ee];let te=explodeOptionalSegments(V.join("/")),J=[];return J.push(...te.map(ie=>ie===""?ee:[ee,ie].join("/"))),Y&&J.push(...te),J.map(ie=>C.startsWith("/")&&ie===""?"/":ie)}function rankRouteBranches(C){C.sort((T,$)=>T.score!==$.score?$.score-T.score:compareIndexes(T.routesMeta.map(V=>V.childrenIndex),$.routesMeta.map(V=>V.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=C=>C==="*";function computeScore(C,T){let $=C.split("/"),V=$.length;return $.some(isSplat)&&(V+=splatPenalty),T&&(V+=indexRouteValue),$.filter(Y=>!isSplat(Y)).reduce((Y,ee)=>Y+(paramRe.test(ee)?dynamicSegmentValue:ee===""?emptySegmentValue:staticSegmentValue),V)}function compareIndexes(C,T){return C.length===T.length&&C.slice(0,-1).every((V,Y)=>V===T[Y])?C[C.length-1]-T[T.length-1]:0}function matchRouteBranch(C,T){let{routesMeta:$}=C,V={},Y="/",ee=[];for(let te=0;te<$.length;++te){let J=$[te],ie=te===$.length-1,K=Y==="/"?T:T.slice(Y.length)||"/",re=matchPath({path:J.relativePath,caseSensitive:J.caseSensitive,end:ie},K);if(!re)return null;Object.assign(V,re.params);let ne=J.route;ee.push({params:V,pathname:joinPaths([Y,re.pathname]),pathnameBase:normalizePathname(joinPaths([Y,re.pathnameBase])),route:ne}),re.pathnameBase!=="/"&&(Y=joinPaths([Y,re.pathnameBase]))}return ee}function matchPath(C,T){typeof C=="string"&&(C={path:C,caseSensitive:!1,end:!0});let[$,V]=compilePath(C.path,C.caseSensitive,C.end),Y=T.match($);if(!Y)return null;let ee=Y[0],te=ee.replace(/(.)\/+$/,"$1"),J=Y.slice(1);return{params:V.reduce((K,re,ne)=>{if(re==="*"){let le=J[ne]||"";te=ee.slice(0,ee.length-le.length).replace(/(.)\/+$/,"$1")}return K[re]=safelyDecodeURIComponent(J[ne]||"",re),K},{}),pathname:ee,pathnameBase:te,pattern:C}}function compilePath(C,T,$){T===void 0&&(T=!1),$===void 0&&($=!0),warning$1(C==="*"||!C.endsWith("*")||C.endsWith("/*"),'Route path "'+C+'" will be treated as if it were '+('"'+C.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+C.replace(/\*$/,"/*")+'".'));let V=[],Y="^"+C.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(te,J)=>(V.push(J),"/([^\\/]+)"));return C.endsWith("*")?(V.push("*"),Y+=C==="*"||C==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):$?Y+="\\/*$":C!==""&&C!=="/"&&(Y+="(?:(?=\\/|$))"),[new RegExp(Y,T?void 0:"i"),V]}function safelyDecodeURI(C){try{return decodeURI(C)}catch(T){return warning$1(!1,'The URL path "'+C+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+T+").")),C}}function safelyDecodeURIComponent(C,T){try{return decodeURIComponent(C)}catch($){return warning$1(!1,'The value for the URL param "'+T+'" will not be decoded because'+(' the string "'+C+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+$+").")),C}}function stripBasename(C,T){if(T==="/")return C;if(!C.toLowerCase().startsWith(T.toLowerCase()))return null;let $=T.endsWith("/")?T.length-1:T.length,V=C.charAt($);return V&&V!=="/"?null:C.slice($)||"/"}function resolvePath(C,T){T===void 0&&(T="/");let{pathname:$,search:V="",hash:Y=""}=typeof C=="string"?parsePath(C):C;return{pathname:$?$.startsWith("/")?$:resolvePathname($,T):T,search:normalizeSearch(V),hash:normalizeHash(Y)}}function resolvePathname(C,T){let $=T.replace(/\/+$/,"").split("/");return C.split("/").forEach(Y=>{Y===".."?$.length>1&&$.pop():Y!=="."&&$.push(Y)}),$.length>1?$.join("/"):"/"}function getInvalidPathError(C,T,$,V){return"Cannot include a '"+C+"' character in a manually specified "+("`to."+T+"` field ["+JSON.stringify(V)+"].  Please separate it out to the ")+("`to."+$+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(C){return C.filter((T,$)=>$===0||T.route.path&&T.route.path.length>0)}function resolveTo(C,T,$,V){V===void 0&&(V=!1);let Y;typeof C=="string"?Y=parsePath(C):(Y=_extends$2({},C),invariant$1(!Y.pathname||!Y.pathname.includes("?"),getInvalidPathError("?","pathname","search",Y)),invariant$1(!Y.pathname||!Y.pathname.includes("#"),getInvalidPathError("#","pathname","hash",Y)),invariant$1(!Y.search||!Y.search.includes("#"),getInvalidPathError("#","search","hash",Y)));let ee=C===""||Y.pathname==="",te=ee?"/":Y.pathname,J;if(V||te==null)J=$;else{let ne=T.length-1;if(te.startsWith("..")){let le=te.split("/");for(;le[0]==="..";)le.shift(),ne-=1;Y.pathname=le.join("/")}J=ne>=0?T[ne]:"/"}let ie=resolvePath(Y,J),K=te&&te!=="/"&&te.endsWith("/"),re=(ee||te===".")&&$.endsWith("/");return!ie.pathname.endsWith("/")&&(K||re)&&(ie.pathname+="/"),ie}const joinPaths=C=>C.join("/").replace(/\/\/+/g,"/"),normalizePathname=C=>C.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=C=>!C||C==="?"?"":C.startsWith("?")?C:"?"+C,normalizeHash=C=>!C||C==="#"?"":C.startsWith("#")?C:"#"+C,redirect=function(T,$){$===void 0&&($=302);let V=$;typeof V=="number"?V={status:V}:typeof V.status>"u"&&(V.status=302);let Y=new Headers(V.headers);return Y.set("Location",T),new Response(null,_extends$2({},V,{headers:Y}))};class ErrorResponseImpl{constructor(T,$,V,Y){Y===void 0&&(Y=!1),this.status=T,this.statusText=$||"",this.internal=Y,V instanceof Error?(this.data=V.toString(),this.error=V):this.data=V}}function isRouteErrorResponse(C){return C!=null&&typeof C.status=="number"&&typeof C.statusText=="string"&&typeof C.internal=="boolean"&&"data"in C}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=C=>({hasErrorBoundary:!!C.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions";function createRouter(C){const T=C.window?C.window:typeof window<"u"?window:void 0,$=typeof T<"u"&&typeof T.document<"u"&&typeof T.document.createElement<"u",V=!$;invariant$1(C.routes.length>0,"You must provide a non-empty routes array to createRouter");let Y;if(C.mapRouteProperties)Y=C.mapRouteProperties;else if(C.detectErrorBoundary){let Xe=C.detectErrorBoundary;Y=at=>({hasErrorBoundary:Xe(at)})}else Y=defaultMapRouteProperties;let ee={},te=convertRoutesToDataRoutes(C.routes,Y,void 0,ee),J,ie=C.basename||"/",K=_extends$2({v7_normalizeFormMethod:!1,v7_prependBasename:!1},C.future),re=null,ne=new Set,le=null,ae=null,se=null,ue=C.hydrationData!=null,de=matchRoutes(te,C.history.location,ie),ce=null;if(de==null){let Xe=getInternalRouterError(404,{pathname:C.history.location.pathname}),{matches:at,route:ft}=getShortCircuitMatches(te);de=at,ce={[ft.id]:Xe}}let be=!de.some(Xe=>Xe.route.lazy)&&(!de.some(Xe=>Xe.route.loader)||C.hydrationData!=null),Le,ve={historyAction:C.history.action,location:C.history.location,matches:de,initialized:be,navigation:IDLE_NAVIGATION,restoreScrollPosition:C.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:C.hydrationData&&C.hydrationData.loaderData||{},actionData:C.hydrationData&&C.hydrationData.actionData||null,errors:C.hydrationData&&C.hydrationData.errors||ce,fetchers:new Map,blockers:new Map},ye=Action.Pop,Ae=!1,Be,qe=!1,Ue=new Map,Ke=null,Je=!1,mt=!1,ht=[],pt=[],bt=new Map,ct=0,We=-1,Pe=new Map,_e=new Set,xe=new Map,ge=new Map,ke=new Map,Ee=!1;function Me(){if(re=C.history.listen(Xe=>{let{action:at,location:ft,delta:Ct}=Xe;if(Ee){Ee=!1;return}warning$1(ke.size===0||Ct!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ht=lr({currentLocation:ve.location,nextLocation:ft,historyAction:at});if(Ht&&Ct!=null){Ee=!0,C.history.go(Ct*-1),nr(Ht,{state:"blocked",location:ft,proceed(){nr(Ht,{state:"proceeding",proceed:void 0,reset:void 0,location:ft}),C.history.go(Ct)},reset(){let Bt=new Map(ve.blockers);Bt.set(Ht,IDLE_BLOCKER),Ce({blockers:Bt})}});return}return He(at,ft)}),$){restoreAppliedTransitions(T,Ue);let Xe=()=>persistAppliedTransitions(T,Ue);T.addEventListener("pagehide",Xe),Ke=()=>T.removeEventListener("pagehide",Xe)}return ve.initialized||He(Action.Pop,ve.location),Le}function Oe(){re&&re(),Ke&&Ke(),ne.clear(),Be&&Be.abort(),ve.fetchers.forEach((Xe,at)=>$t(at)),ve.blockers.forEach((Xe,at)=>fr(at))}function pe(Xe){return ne.add(Xe),()=>ne.delete(Xe)}function Ce(Xe,at){ve=_extends$2({},ve,Xe),ne.forEach(ft=>ft(ve,{unstable_viewTransitionOpts:at}))}function Re(Xe,at){var ft,Ct;let Ht=ve.actionData!=null&&ve.navigation.formMethod!=null&&isMutationMethod(ve.navigation.formMethod)&&ve.navigation.state==="loading"&&((ft=Xe.state)==null?void 0:ft._isRedirect)!==!0,Bt;at.actionData?Object.keys(at.actionData).length>0?Bt=at.actionData:Bt=null:Ht?Bt=ve.actionData:Bt=null;let Ut=at.loaderData?mergeLoaderData(ve.loaderData,at.loaderData,at.matches||[],at.errors):ve.loaderData,Rt=ve.blockers;Rt.size>0&&(Rt=new Map(Rt),Rt.forEach((Qt,Nt)=>Rt.set(Nt,IDLE_BLOCKER)));let Ft=Ae===!0||ve.navigation.formMethod!=null&&isMutationMethod(ve.navigation.formMethod)&&((Ct=Xe.state)==null?void 0:Ct._isRedirect)!==!0;J&&(te=J,J=void 0),Je||ye===Action.Pop||(ye===Action.Push?C.history.push(Xe,Xe.state):ye===Action.Replace&&C.history.replace(Xe,Xe.state));let Xt;if(ye===Action.Pop){let Qt=Ue.get(ve.location.pathname);Qt&&Qt.has(Xe.pathname)?Xt={currentLocation:ve.location,nextLocation:Xe}:Ue.has(Xe.pathname)&&(Xt={currentLocation:Xe,nextLocation:ve.location})}else if(qe){let Qt=Ue.get(ve.location.pathname);Qt?Qt.add(Xe.pathname):(Qt=new Set([Xe.pathname]),Ue.set(ve.location.pathname,Qt)),Xt={currentLocation:ve.location,nextLocation:Xe}}Ce(_extends$2({},at,{actionData:Bt,loaderData:Ut,historyAction:ye,location:Xe,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:nt(Xe,at.matches||ve.matches),preventScrollReset:Ft,blockers:Rt}),Xt),ye=Action.Pop,Ae=!1,qe=!1,Je=!1,mt=!1,ht=[],pt=[]}async function De(Xe,at){if(typeof Xe=="number"){C.history.go(Xe);return}let ft=normalizeTo(ve.location,ve.matches,ie,K.v7_prependBasename,Xe,at?.fromRouteId,at?.relative),{path:Ct,submission:Ht,error:Bt}=normalizeNavigateOptions(K.v7_normalizeFormMethod,!1,ft,at),Ut=ve.location,Rt=createLocation(ve.location,Ct,at&&at.state);Rt=_extends$2({},Rt,C.history.encodeLocation(Rt));let Ft=at&&at.replace!=null?at.replace:void 0,Xt=Action.Push;Ft===!0?Xt=Action.Replace:Ft===!1||Ht!=null&&isMutationMethod(Ht.formMethod)&&Ht.formAction===ve.location.pathname+ve.location.search&&(Xt=Action.Replace);let Qt=at&&"preventScrollReset"in at?at.preventScrollReset===!0:void 0,Nt=lr({currentLocation:Ut,nextLocation:Rt,historyAction:Xt});if(Nt){nr(Nt,{state:"blocked",location:Rt,proceed(){nr(Nt,{state:"proceeding",proceed:void 0,reset:void 0,location:Rt}),De(Xe,at)},reset(){let Yt=new Map(ve.blockers);Yt.set(Nt,IDLE_BLOCKER),Ce({blockers:Yt})}});return}return await He(Xt,Rt,{submission:Ht,pendingError:Bt,preventScrollReset:Qt,replace:at&&at.replace,enableViewTransition:at&&at.unstable_viewTransition})}function Ne(){if(St(),Ce({revalidation:"loading"}),ve.navigation.state!=="submitting"){if(ve.navigation.state==="idle"){He(ve.historyAction,ve.location,{startUninterruptedRevalidation:!0});return}He(ye||ve.historyAction,ve.navigation.location,{overrideNavigation:ve.navigation})}}async function He(Xe,at,ft){Be&&Be.abort(),Be=null,ye=Xe,Je=(ft&&ft.startUninterruptedRevalidation)===!0,_t(ve.location,ve.matches),Ae=(ft&&ft.preventScrollReset)===!0,qe=(ft&&ft.enableViewTransition)===!0;let Ct=J||te,Ht=ft&&ft.overrideNavigation,Bt=matchRoutes(Ct,at,ie);if(!Bt){let Yt=getInternalRouterError(404,{pathname:at.pathname}),{matches:Jt,route:_r}=getShortCircuitMatches(Ct);cr(),Re(at,{matches:Jt,loaderData:{},errors:{[_r.id]:Yt}});return}if(ve.initialized&&!mt&&isHashChangeOnly(ve.location,at)&&!(ft&&ft.submission&&isMutationMethod(ft.submission.formMethod))){Re(at,{matches:Bt});return}Be=new AbortController;let Ut=createClientSideRequest(C.history,at,Be.signal,ft&&ft.submission),Rt,Ft;if(ft&&ft.pendingError)Ft={[findNearestBoundary(Bt).route.id]:ft.pendingError};else if(ft&&ft.submission&&isMutationMethod(ft.submission.formMethod)){let Yt=await Ge(Ut,at,ft.submission,Bt,{replace:ft.replace});if(Yt.shortCircuited)return;Rt=Yt.pendingActionData,Ft=Yt.pendingActionError,Ht=getLoadingNavigation(at,ft.submission),Ut=new Request(Ut.url,{signal:Ut.signal})}let{shortCircuited:Xt,loaderData:Qt,errors:Nt}=await it(Ut,at,Bt,Ht,ft&&ft.submission,ft&&ft.fetcherSubmission,ft&&ft.replace,Rt,Ft);Xt||(Be=null,Re(at,_extends$2({matches:Bt},Rt?{actionData:Rt}:{},{loaderData:Qt,errors:Nt})))}async function Ge(Xe,at,ft,Ct,Ht){Ht===void 0&&(Ht={}),St();let Bt=getSubmittingNavigation(at,ft);Ce({navigation:Bt});let Ut,Rt=getTargetMatch(Ct,at);if(!Rt.route.action&&!Rt.route.lazy)Ut={type:ResultType.error,error:getInternalRouterError(405,{method:Xe.method,pathname:at.pathname,routeId:Rt.route.id})};else if(Ut=await callLoaderOrAction("action",Xe,Rt,Ct,ee,Y,ie),Xe.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(Ut)){let Ft;return Ht&&Ht.replace!=null?Ft=Ht.replace:Ft=Ut.location===ve.location.pathname+ve.location.search,await dt(ve,Ut,{submission:ft,replace:Ft}),{shortCircuited:!0}}if(isErrorResult(Ut)){let Ft=findNearestBoundary(Ct,Rt.route.id);return(Ht&&Ht.replace)!==!0&&(ye=Action.Push),{pendingActionData:{},pendingActionError:{[Ft.route.id]:Ut.error}}}if(isDeferredResult(Ut))throw getInternalRouterError(400,{type:"defer-action"});return{pendingActionData:{[Rt.route.id]:Ut.data}}}async function it(Xe,at,ft,Ct,Ht,Bt,Ut,Rt,Ft){let Xt=Ct||getLoadingNavigation(at,Ht),Qt=Ht||Bt||getSubmissionFromNavigation(Xt),Nt=J||te,[Yt,Jt]=getMatchesToLoad(C.history,ve,ft,Qt,at,mt,ht,pt,xe,_e,Nt,ie,Rt,Ft);if(cr(Zt=>!(ft&&ft.some(wt=>wt.route.id===Zt))||Yt&&Yt.some(wt=>wt.route.id===Zt)),We=++ct,Yt.length===0&&Jt.length===0){let Zt=Vt();return Re(at,_extends$2({matches:ft,loaderData:{},errors:Ft||null},Rt?{actionData:Rt}:{},Zt?{fetchers:new Map(ve.fetchers)}:{})),{shortCircuited:!0}}if(!Je){Jt.forEach(wt=>{let et=ve.fetchers.get(wt.key),xt=getLoadingFetcher(void 0,et?et.data:void 0);ve.fetchers.set(wt.key,xt)});let Zt=Rt||ve.actionData;Ce(_extends$2({navigation:Xt},Zt?Object.keys(Zt).length===0?{actionData:null}:{actionData:Zt}:{},Jt.length>0?{fetchers:new Map(ve.fetchers)}:{}))}Jt.forEach(Zt=>{bt.has(Zt.key)&&It(Zt.key),Zt.controller&&bt.set(Zt.key,Zt.controller)});let _r=()=>Jt.forEach(Zt=>It(Zt.key));Be&&Be.signal.addEventListener("abort",_r);let{results:mr,loaderResults:ur,fetcherResults:or}=await vt(ve.matches,ft,Yt,Jt,Xe);if(Xe.signal.aborted)return{shortCircuited:!0};Be&&Be.signal.removeEventListener("abort",_r),Jt.forEach(Zt=>bt.delete(Zt.key));let pr=findRedirect(mr);if(pr){if(pr.idx>=Yt.length){let Zt=Jt[pr.idx-Yt.length].key;_e.add(Zt)}return await dt(ve,pr.result,{replace:Ut}),{shortCircuited:!0}}let{loaderData:ir,errors:vr}=processLoaderData(ve,ft,Yt,ur,Ft,Jt,or,ge);ge.forEach((Zt,wt)=>{Zt.subscribe(et=>{(et||Zt.done)&&ge.delete(wt)})});let xr=Vt(),Ar=ar(We),Lr=xr||Ar||Jt.length>0;return _extends$2({loaderData:ir,errors:vr},Lr?{fetchers:new Map(ve.fetchers)}:{})}function ut(Xe){return ve.fetchers.get(Xe)||IDLE_FETCHER}function tt(Xe,at,ft,Ct){if(V)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");bt.has(Xe)&&It(Xe);let Ht=J||te,Bt=normalizeTo(ve.location,ve.matches,ie,K.v7_prependBasename,ft,at,Ct?.relative),Ut=matchRoutes(Ht,Bt,ie);if(!Ut){Tt(Xe,at,getInternalRouterError(404,{pathname:Bt}));return}let{path:Rt,submission:Ft,error:Xt}=normalizeNavigateOptions(K.v7_normalizeFormMethod,!0,Bt,Ct);if(Xt){Tt(Xe,at,Xt);return}let Qt=getTargetMatch(Ut,Rt);if(Ae=(Ct&&Ct.preventScrollReset)===!0,Ft&&isMutationMethod(Ft.formMethod)){lt(Xe,at,Rt,Qt,Ut,Ft);return}xe.set(Xe,{routeId:at,path:Rt}),ot(Xe,at,Rt,Qt,Ut,Ft)}async function lt(Xe,at,ft,Ct,Ht,Bt){if(St(),xe.delete(Xe),!Ct.route.action&&!Ct.route.lazy){let Et=getInternalRouterError(405,{method:Bt.formMethod,pathname:ft,routeId:at});Tt(Xe,at,Et);return}let Ut=ve.fetchers.get(Xe),Rt=getSubmittingFetcher(Bt,Ut);ve.fetchers.set(Xe,Rt),Ce({fetchers:new Map(ve.fetchers)});let Ft=new AbortController,Xt=createClientSideRequest(C.history,ft,Ft.signal,Bt);bt.set(Xe,Ft);let Qt=ct,Nt=await callLoaderOrAction("action",Xt,Ct,Ht,ee,Y,ie);if(Xt.signal.aborted){bt.get(Xe)===Ft&&bt.delete(Xe);return}if(isRedirectResult(Nt))if(bt.delete(Xe),We>Qt){let Et=getDoneFetcher(void 0);ve.fetchers.set(Xe,Et),Ce({fetchers:new Map(ve.fetchers)});return}else{_e.add(Xe);let Et=getLoadingFetcher(Bt);return ve.fetchers.set(Xe,Et),Ce({fetchers:new Map(ve.fetchers)}),dt(ve,Nt,{fetcherSubmission:Bt})}if(isErrorResult(Nt)){Tt(Xe,at,Nt.error);return}if(isDeferredResult(Nt))throw getInternalRouterError(400,{type:"defer-action"});let Yt=ve.navigation.location||ve.location,Jt=createClientSideRequest(C.history,Yt,Ft.signal),_r=J||te,mr=ve.navigation.state!=="idle"?matchRoutes(_r,ve.navigation.location,ie):ve.matches;invariant$1(mr,"Didn't find any matches after fetcher action");let ur=++ct;Pe.set(Xe,ur);let or=getLoadingFetcher(Bt,Nt.data);ve.fetchers.set(Xe,or);let[pr,ir]=getMatchesToLoad(C.history,ve,mr,Bt,Yt,mt,ht,pt,xe,_e,_r,ie,{[Ct.route.id]:Nt.data},void 0);ir.filter(Et=>Et.key!==Xe).forEach(Et=>{let Kt=Et.key,hr=ve.fetchers.get(Kt),gr=getLoadingFetcher(void 0,hr?hr.data:void 0);ve.fetchers.set(Kt,gr),bt.has(Kt)&&It(Kt),Et.controller&&bt.set(Kt,Et.controller)}),Ce({fetchers:new Map(ve.fetchers)});let vr=()=>ir.forEach(Et=>It(Et.key));Ft.signal.addEventListener("abort",vr);let{results:xr,loaderResults:Ar,fetcherResults:Lr}=await vt(ve.matches,mr,pr,ir,Jt);if(Ft.signal.aborted)return;Ft.signal.removeEventListener("abort",vr),Pe.delete(Xe),bt.delete(Xe),ir.forEach(Et=>bt.delete(Et.key));let Zt=findRedirect(xr);if(Zt){if(Zt.idx>=pr.length){let Et=ir[Zt.idx-pr.length].key;_e.add(Et)}return dt(ve,Zt.result)}let{loaderData:wt,errors:et}=processLoaderData(ve,ve.matches,pr,Ar,void 0,ir,Lr,ge);if(ve.fetchers.has(Xe)){let Et=getDoneFetcher(Nt.data);ve.fetchers.set(Xe,Et)}let xt=ar(ur);ve.navigation.state==="loading"&&ur>We?(invariant$1(ye,"Expected pending action"),Be&&Be.abort(),Re(ve.navigation.location,{matches:mr,loaderData:wt,errors:et,fetchers:new Map(ve.fetchers)})):(Ce(_extends$2({errors:et,loaderData:mergeLoaderData(ve.loaderData,wt,mr,et)},xt||ir.length>0?{fetchers:new Map(ve.fetchers)}:{})),mt=!1)}async function ot(Xe,at,ft,Ct,Ht,Bt){let Ut=ve.fetchers.get(Xe),Rt=getLoadingFetcher(Bt,Ut?Ut.data:void 0);ve.fetchers.set(Xe,Rt),Ce({fetchers:new Map(ve.fetchers)});let Ft=new AbortController,Xt=createClientSideRequest(C.history,ft,Ft.signal);bt.set(Xe,Ft);let Qt=ct,Nt=await callLoaderOrAction("loader",Xt,Ct,Ht,ee,Y,ie);if(isDeferredResult(Nt)&&(Nt=await resolveDeferredData(Nt,Xt.signal,!0)||Nt),bt.get(Xe)===Ft&&bt.delete(Xe),Xt.signal.aborted)return;if(isRedirectResult(Nt))if(We>Qt){let Jt=getDoneFetcher(void 0);ve.fetchers.set(Xe,Jt),Ce({fetchers:new Map(ve.fetchers)});return}else{_e.add(Xe),await dt(ve,Nt);return}if(isErrorResult(Nt)){let Jt=findNearestBoundary(ve.matches,at);ve.fetchers.delete(Xe),Ce({fetchers:new Map(ve.fetchers),errors:{[Jt.route.id]:Nt.error}});return}invariant$1(!isDeferredResult(Nt),"Unhandled fetcher deferred data");let Yt=getDoneFetcher(Nt.data);ve.fetchers.set(Xe,Yt),Ce({fetchers:new Map(ve.fetchers)})}async function dt(Xe,at,ft){let{submission:Ct,fetcherSubmission:Ht,replace:Bt}=ft===void 0?{}:ft;at.revalidate&&(mt=!0);let Ut=createLocation(Xe.location,at.location,{_isRedirect:!0});if(invariant$1(Ut,"Expected a location on the redirect navigation"),$){let Yt=!1;if(at.reloadDocument)Yt=!0;else if(ABSOLUTE_URL_REGEX$1.test(at.location)){const Jt=C.history.createURL(at.location);Yt=Jt.origin!==T.location.origin||stripBasename(Jt.pathname,ie)==null}if(Yt){Bt?T.location.replace(at.location):T.location.assign(at.location);return}}Be=null;let Rt=Bt===!0?Action.Replace:Action.Push,{formMethod:Ft,formAction:Xt,formEncType:Qt}=Xe.navigation;!Ct&&!Ht&&Ft&&Xt&&Qt&&(Ct=getSubmissionFromNavigation(Xe.navigation));let Nt=Ct||Ht;if(redirectPreserveMethodStatusCodes.has(at.status)&&Nt&&isMutationMethod(Nt.formMethod))await He(Rt,Ut,{submission:_extends$2({},Nt,{formAction:at.location}),preventScrollReset:Ae});else{let Yt=getLoadingNavigation(Ut,Ct);await He(Rt,Ut,{overrideNavigation:Yt,fetcherSubmission:Ht,preventScrollReset:Ae})}}async function vt(Xe,at,ft,Ct,Ht){let Bt=await Promise.all([...ft.map(Ft=>callLoaderOrAction("loader",Ht,Ft,at,ee,Y,ie)),...Ct.map(Ft=>Ft.matches&&Ft.match&&Ft.controller?callLoaderOrAction("loader",createClientSideRequest(C.history,Ft.path,Ft.controller.signal),Ft.match,Ft.matches,ee,Y,ie):{type:ResultType.error,error:getInternalRouterError(404,{pathname:Ft.path})})]),Ut=Bt.slice(0,ft.length),Rt=Bt.slice(ft.length);return await Promise.all([resolveDeferredResults(Xe,ft,Ut,Ut.map(()=>Ht.signal),!1,ve.loaderData),resolveDeferredResults(Xe,Ct.map(Ft=>Ft.match),Rt,Ct.map(Ft=>Ft.controller?Ft.controller.signal:null),!0)]),{results:Bt,loaderResults:Ut,fetcherResults:Rt}}function St(){mt=!0,ht.push(...cr()),xe.forEach((Xe,at)=>{bt.has(at)&&(pt.push(at),It(at))})}function Tt(Xe,at,ft){let Ct=findNearestBoundary(ve.matches,at);$t(Xe),Ce({errors:{[Ct.route.id]:ft},fetchers:new Map(ve.fetchers)})}function $t(Xe){let at=ve.fetchers.get(Xe);bt.has(Xe)&&!(at&&at.state==="loading"&&Pe.has(Xe))&&It(Xe),xe.delete(Xe),Pe.delete(Xe),_e.delete(Xe),ve.fetchers.delete(Xe)}function It(Xe){let at=bt.get(Xe);invariant$1(at,"Expected fetch controller: "+Xe),at.abort(),bt.delete(Xe)}function qt(Xe){for(let at of Xe){let ft=ut(at),Ct=getDoneFetcher(ft.data);ve.fetchers.set(at,Ct)}}function Vt(){let Xe=[],at=!1;for(let ft of _e){let Ct=ve.fetchers.get(ft);invariant$1(Ct,"Expected fetcher: "+ft),Ct.state==="loading"&&(_e.delete(ft),Xe.push(ft),at=!0)}return qt(Xe),at}function ar(Xe){let at=[];for(let[ft,Ct]of Pe)if(Ct<Xe){let Ht=ve.fetchers.get(ft);invariant$1(Ht,"Expected fetcher: "+ft),Ht.state==="loading"&&(It(ft),Pe.delete(ft),at.push(ft))}return qt(at),at.length>0}function sr(Xe,at){let ft=ve.blockers.get(Xe)||IDLE_BLOCKER;return ke.get(Xe)!==at&&ke.set(Xe,at),ft}function fr(Xe){ve.blockers.delete(Xe),ke.delete(Xe)}function nr(Xe,at){let ft=ve.blockers.get(Xe)||IDLE_BLOCKER;invariant$1(ft.state==="unblocked"&&at.state==="blocked"||ft.state==="blocked"&&at.state==="blocked"||ft.state==="blocked"&&at.state==="proceeding"||ft.state==="blocked"&&at.state==="unblocked"||ft.state==="proceeding"&&at.state==="unblocked","Invalid blocker state transition: "+ft.state+" -> "+at.state);let Ct=new Map(ve.blockers);Ct.set(Xe,at),Ce({blockers:Ct})}function lr(Xe){let{currentLocation:at,nextLocation:ft,historyAction:Ct}=Xe;if(ke.size===0)return;ke.size>1&&warning$1(!1,"A router only supports one blocker at a time");let Ht=Array.from(ke.entries()),[Bt,Ut]=Ht[Ht.length-1],Rt=ve.blockers.get(Bt);if(!(Rt&&Rt.state==="proceeding")&&Ut({currentLocation:at,nextLocation:ft,historyAction:Ct}))return Bt}function cr(Xe){let at=[];return ge.forEach((ft,Ct)=>{(!Xe||Xe(Ct))&&(ft.cancel(),at.push(Ct),ge.delete(Ct))}),at}function dr(Xe,at,ft){if(le=Xe,se=at,ae=ft||null,!ue&&ve.navigation===IDLE_NAVIGATION){ue=!0;let Ct=nt(ve.location,ve.matches);Ct!=null&&Ce({restoreScrollPosition:Ct})}return()=>{le=null,se=null,ae=null}}function Sr(Xe,at){return ae&&ae(Xe,at.map(Ct=>convertRouteMatchToUiMatch(Ct,ve.loaderData)))||Xe.key}function _t(Xe,at){if(le&&se){let ft=Sr(Xe,at);le[ft]=se()}}function nt(Xe,at){if(le){let ft=Sr(Xe,at),Ct=le[ft];if(typeof Ct=="number")return Ct}return null}function rt(Xe){ee={},J=convertRoutesToDataRoutes(Xe,Y,void 0,ee)}return Le={get basename(){return ie},get state(){return ve},get routes(){return te},get window(){return T},initialize:Me,subscribe:pe,enableScrollRestoration:dr,navigate:De,fetch:tt,revalidate:Ne,createHref:Xe=>C.history.createHref(Xe),encodeLocation:Xe=>C.history.encodeLocation(Xe),getFetcher:ut,deleteFetcher:$t,dispose:Oe,getBlocker:sr,deleteBlocker:fr,_internalFetchControllers:bt,_internalActiveDeferreds:ge,_internalSetRoutes:rt},Le}function isSubmissionNavigation(C){return C!=null&&("formData"in C&&C.formData!=null||"body"in C&&C.body!==void 0)}function normalizeTo(C,T,$,V,Y,ee,te){let J,ie;if(ee!=null&&te!=="path"){J=[];for(let re of T)if(J.push(re),re.route.id===ee){ie=re;break}}else J=T,ie=T[T.length-1];let K=resolveTo(Y||".",getPathContributingMatches(J).map(re=>re.pathnameBase),stripBasename(C.pathname,$)||C.pathname,te==="path");return Y==null&&(K.search=C.search,K.hash=C.hash),(Y==null||Y===""||Y===".")&&ie&&ie.route.index&&!hasNakedIndexQuery(K.search)&&(K.search=K.search?K.search.replace(/^\?/,"?index&"):"?index"),V&&$!=="/"&&(K.pathname=K.pathname==="/"?$:joinPaths([$,K.pathname])),createPath$1(K)}function normalizeNavigateOptions(C,T,$,V){if(!V||!isSubmissionNavigation(V))return{path:$};if(V.formMethod&&!isValidMethod(V.formMethod))return{path:$,error:getInternalRouterError(405,{method:V.formMethod})};let Y=()=>({path:$,error:getInternalRouterError(400,{type:"invalid-body"})}),ee=V.formMethod||"get",te=C?ee.toUpperCase():ee.toLowerCase(),J=stripHashFromPath($);if(V.body!==void 0){if(V.formEncType==="text/plain"){if(!isMutationMethod(te))return Y();let le=typeof V.body=="string"?V.body:V.body instanceof FormData||V.body instanceof URLSearchParams?Array.from(V.body.entries()).reduce((ae,se)=>{let[ue,de]=se;return""+ae+ue+"="+de+`
`},""):String(V.body);return{path:$,submission:{formMethod:te,formAction:J,formEncType:V.formEncType,formData:void 0,json:void 0,text:le}}}else if(V.formEncType==="application/json"){if(!isMutationMethod(te))return Y();try{let le=typeof V.body=="string"?JSON.parse(V.body):V.body;return{path:$,submission:{formMethod:te,formAction:J,formEncType:V.formEncType,formData:void 0,json:le,text:void 0}}}catch{return Y()}}}invariant$1(typeof FormData=="function","FormData is not available in this environment");let ie,K;if(V.formData)ie=convertFormDataToSearchParams(V.formData),K=V.formData;else if(V.body instanceof FormData)ie=convertFormDataToSearchParams(V.body),K=V.body;else if(V.body instanceof URLSearchParams)ie=V.body,K=convertSearchParamsToFormData(ie);else if(V.body==null)ie=new URLSearchParams,K=new FormData;else try{ie=new URLSearchParams(V.body),K=convertSearchParamsToFormData(ie)}catch{return Y()}let re={formMethod:te,formAction:J,formEncType:V&&V.formEncType||"application/x-www-form-urlencoded",formData:K,json:void 0,text:void 0};if(isMutationMethod(re.formMethod))return{path:$,submission:re};let ne=parsePath($);return T&&ne.search&&hasNakedIndexQuery(ne.search)&&ie.append("index",""),ne.search="?"+ie,{path:createPath$1(ne),submission:re}}function getLoaderMatchesUntilBoundary(C,T){let $=C;if(T){let V=C.findIndex(Y=>Y.route.id===T);V>=0&&($=C.slice(0,V))}return $}function getMatchesToLoad(C,T,$,V,Y,ee,te,J,ie,K,re,ne,le,ae){let se=ae?Object.values(ae)[0]:le?Object.values(le)[0]:void 0,ue=C.createURL(T.location),de=C.createURL(Y),ce=ae?Object.keys(ae)[0]:void 0,Le=getLoaderMatchesUntilBoundary($,ce).filter((ye,Ae)=>{if(ye.route.lazy)return!0;if(ye.route.loader==null)return!1;if(isNewLoader(T.loaderData,T.matches[Ae],ye)||te.some(Ue=>Ue===ye.route.id))return!0;let Be=T.matches[Ae],qe=ye;return shouldRevalidateLoader(ye,_extends$2({currentUrl:ue,currentParams:Be.params,nextUrl:de,nextParams:qe.params},V,{actionResult:se,defaultShouldRevalidate:ee||ue.pathname+ue.search===de.pathname+de.search||ue.search!==de.search||isNewRouteInstance(Be,qe)}))}),ve=[];return ie.forEach((ye,Ae)=>{if(!$.some(Je=>Je.route.id===ye.routeId))return;let Be=matchRoutes(re,ye.path,ne);if(!Be){ve.push({key:Ae,routeId:ye.routeId,path:ye.path,matches:null,match:null,controller:null});return}let qe=T.fetchers.get(Ae),Ue=getTargetMatch(Be,ye.path),Ke=!1;K.has(Ae)?Ke=!1:J.includes(Ae)?Ke=!0:qe&&qe.state!=="idle"&&qe.data===void 0?Ke=ee:Ke=shouldRevalidateLoader(Ue,_extends$2({currentUrl:ue,currentParams:T.matches[T.matches.length-1].params,nextUrl:de,nextParams:$[$.length-1].params},V,{actionResult:se,defaultShouldRevalidate:ee})),Ke&&ve.push({key:Ae,routeId:ye.routeId,path:ye.path,matches:Be,match:Ue,controller:new AbortController})}),[Le,ve]}function isNewLoader(C,T,$){let V=!T||$.route.id!==T.route.id,Y=C[$.route.id]===void 0;return V||Y}function isNewRouteInstance(C,T){let $=C.route.path;return C.pathname!==T.pathname||$!=null&&$.endsWith("*")&&C.params["*"]!==T.params["*"]}function shouldRevalidateLoader(C,T){if(C.route.shouldRevalidate){let $=C.route.shouldRevalidate(T);if(typeof $=="boolean")return $}return T.defaultShouldRevalidate}async function loadLazyRouteModule(C,T,$){if(!C.lazy)return;let V=await C.lazy();if(!C.lazy)return;let Y=$[C.id];invariant$1(Y,"No route found in manifest");let ee={};for(let te in V){let ie=Y[te]!==void 0&&te!=="hasErrorBoundary";warning$1(!ie,'Route "'+Y.id+'" has a static property "'+te+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+te+'" will be ignored.')),!ie&&!immutableRouteKeys.has(te)&&(ee[te]=V[te])}Object.assign(Y,ee),Object.assign(Y,_extends$2({},T(Y),{lazy:void 0}))}async function callLoaderOrAction(C,T,$,V,Y,ee,te,J){J===void 0&&(J={});let ie,K,re,ne=se=>{let ue,de=new Promise((ce,be)=>ue=be);return re=()=>ue(),T.signal.addEventListener("abort",re),Promise.race([se({request:T,params:$.params,context:J.requestContext}),de])};try{let se=$.route[C];if($.route.lazy)if(se){let ue,de=await Promise.all([ne(se).catch(ce=>{ue=ce}),loadLazyRouteModule($.route,ee,Y)]);if(ue)throw ue;K=de[0]}else if(await loadLazyRouteModule($.route,ee,Y),se=$.route[C],se)K=await ne(se);else if(C==="action"){let ue=new URL(T.url),de=ue.pathname+ue.search;throw getInternalRouterError(405,{method:T.method,pathname:de,routeId:$.route.id})}else return{type:ResultType.data,data:void 0};else if(se)K=await ne(se);else{let ue=new URL(T.url),de=ue.pathname+ue.search;throw getInternalRouterError(404,{pathname:de})}invariant$1(K!==void 0,"You defined "+(C==="action"?"an action":"a loader")+" for route "+('"'+$.route.id+"\" but didn't return anything from your `"+C+"` ")+"function. Please return a value or `null`.")}catch(se){ie=ResultType.error,K=se}finally{re&&T.signal.removeEventListener("abort",re)}if(isResponse(K)){let se=K.status;if(redirectStatusCodes.has(se)){let ce=K.headers.get("Location");if(invariant$1(ce,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX$1.test(ce))ce=normalizeTo(new URL(T.url),V.slice(0,V.indexOf($)+1),te,!0,ce);else if(!J.isStaticRequest){let be=new URL(T.url),Le=ce.startsWith("//")?new URL(be.protocol+ce):new URL(ce),ve=stripBasename(Le.pathname,te)!=null;Le.origin===be.origin&&ve&&(ce=Le.pathname+Le.search+Le.hash)}if(J.isStaticRequest)throw K.headers.set("Location",ce),K;return{type:ResultType.redirect,status:se,location:ce,revalidate:K.headers.get("X-Remix-Revalidate")!==null,reloadDocument:K.headers.get("X-Remix-Reload-Document")!==null}}if(J.isRouteRequest)throw{type:ie===ResultType.error?ResultType.error:ResultType.data,response:K};let ue,de=K.headers.get("Content-Type");return de&&/\bapplication\/json\b/.test(de)?ue=await K.json():ue=await K.text(),ie===ResultType.error?{type:ie,error:new ErrorResponseImpl(se,K.statusText,ue),headers:K.headers}:{type:ResultType.data,data:ue,statusCode:K.status,headers:K.headers}}if(ie===ResultType.error)return{type:ie,error:K};if(isDeferredData(K)){var le,ae;return{type:ResultType.deferred,deferredData:K,statusCode:(le=K.init)==null?void 0:le.status,headers:((ae=K.init)==null?void 0:ae.headers)&&new Headers(K.init.headers)}}return{type:ResultType.data,data:K}}function createClientSideRequest(C,T,$,V){let Y=C.createURL(stripHashFromPath(T)).toString(),ee={signal:$};if(V&&isMutationMethod(V.formMethod)){let{formMethod:te,formEncType:J}=V;ee.method=te.toUpperCase(),J==="application/json"?(ee.headers=new Headers({"Content-Type":J}),ee.body=JSON.stringify(V.json)):J==="text/plain"?ee.body=V.text:J==="application/x-www-form-urlencoded"&&V.formData?ee.body=convertFormDataToSearchParams(V.formData):ee.body=V.formData}return new Request(Y,ee)}function convertFormDataToSearchParams(C){let T=new URLSearchParams;for(let[$,V]of C.entries())T.append($,typeof V=="string"?V:V.name);return T}function convertSearchParamsToFormData(C){let T=new FormData;for(let[$,V]of C.entries())T.append($,V);return T}function processRouteLoaderData(C,T,$,V,Y){let ee={},te=null,J,ie=!1,K={};return $.forEach((re,ne)=>{let le=T[ne].route.id;if(invariant$1(!isRedirectResult(re),"Cannot handle redirect results in processLoaderData"),isErrorResult(re)){let ae=findNearestBoundary(C,le),se=re.error;V&&(se=Object.values(V)[0],V=void 0),te=te||{},te[ae.route.id]==null&&(te[ae.route.id]=se),ee[le]=void 0,ie||(ie=!0,J=isRouteErrorResponse(re.error)?re.error.status:500),re.headers&&(K[le]=re.headers)}else isDeferredResult(re)?(Y.set(le,re.deferredData),ee[le]=re.deferredData.data):ee[le]=re.data,re.statusCode!=null&&re.statusCode!==200&&!ie&&(J=re.statusCode),re.headers&&(K[le]=re.headers)}),V&&(te=V,ee[Object.keys(V)[0]]=void 0),{loaderData:ee,errors:te,statusCode:J||200,loaderHeaders:K}}function processLoaderData(C,T,$,V,Y,ee,te,J){let{loaderData:ie,errors:K}=processRouteLoaderData(T,$,V,Y,J);for(let re=0;re<ee.length;re++){let{key:ne,match:le,controller:ae}=ee[re];invariant$1(te!==void 0&&te[re]!==void 0,"Did not find corresponding fetcher result");let se=te[re];if(!(ae&&ae.signal.aborted))if(isErrorResult(se)){let ue=findNearestBoundary(C.matches,le?.route.id);K&&K[ue.route.id]||(K=_extends$2({},K,{[ue.route.id]:se.error})),C.fetchers.delete(ne)}else if(isRedirectResult(se))invariant$1(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(se))invariant$1(!1,"Unhandled fetcher deferred data");else{let ue=getDoneFetcher(se.data);C.fetchers.set(ne,ue)}}return{loaderData:ie,errors:K}}function mergeLoaderData(C,T,$,V){let Y=_extends$2({},T);for(let ee of $){let te=ee.route.id;if(T.hasOwnProperty(te)?T[te]!==void 0&&(Y[te]=T[te]):C[te]!==void 0&&ee.route.loader&&(Y[te]=C[te]),V&&V.hasOwnProperty(te))break}return Y}function findNearestBoundary(C,T){return(T?C.slice(0,C.findIndex(V=>V.route.id===T)+1):[...C]).reverse().find(V=>V.route.hasErrorBoundary===!0)||C[0]}function getShortCircuitMatches(C){let T=C.length===1?C[0]:C.find($=>$.index||!$.path||$.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:T}],route:T}}function getInternalRouterError(C,T){let{pathname:$,routeId:V,method:Y,type:ee}=T===void 0?{}:T,te="Unknown Server Error",J="Unknown @remix-run/router error";return C===400?(te="Bad Request",Y&&$&&V?J="You made a "+Y+' request to "'+$+'" but '+('did not provide a `loader` for route "'+V+'", ')+"so there is no way to handle the request.":ee==="defer-action"?J="defer() is not supported in actions":ee==="invalid-body"&&(J="Unable to encode submission body")):C===403?(te="Forbidden",J='Route "'+V+'" does not match URL "'+$+'"'):C===404?(te="Not Found",J='No route matches URL "'+$+'"'):C===405&&(te="Method Not Allowed",Y&&$&&V?J="You made a "+Y.toUpperCase()+' request to "'+$+'" but '+('did not provide an `action` for route "'+V+'", ')+"so there is no way to handle the request.":Y&&(J='Invalid request method "'+Y.toUpperCase()+'"')),new ErrorResponseImpl(C||500,te,new Error(J),!0)}function findRedirect(C){for(let T=C.length-1;T>=0;T--){let $=C[T];if(isRedirectResult($))return{result:$,idx:T}}}function stripHashFromPath(C){let T=typeof C=="string"?parsePath(C):C;return createPath$1(_extends$2({},T,{hash:""}))}function isHashChangeOnly(C,T){return C.pathname!==T.pathname||C.search!==T.search?!1:C.hash===""?T.hash!=="":C.hash===T.hash?!0:T.hash!==""}function isDeferredResult(C){return C.type===ResultType.deferred}function isErrorResult(C){return C.type===ResultType.error}function isRedirectResult(C){return(C&&C.type)===ResultType.redirect}function isDeferredData(C){let T=C;return T&&typeof T=="object"&&typeof T.data=="object"&&typeof T.subscribe=="function"&&typeof T.cancel=="function"&&typeof T.resolveData=="function"}function isResponse(C){return C!=null&&typeof C.status=="number"&&typeof C.statusText=="string"&&typeof C.headers=="object"&&typeof C.body<"u"}function isValidMethod(C){return validRequestMethods.has(C.toLowerCase())}function isMutationMethod(C){return validMutationMethods.has(C.toLowerCase())}async function resolveDeferredResults(C,T,$,V,Y,ee){for(let te=0;te<$.length;te++){let J=$[te],ie=T[te];if(!ie)continue;let K=C.find(ne=>ne.route.id===ie.route.id),re=K!=null&&!isNewRouteInstance(K,ie)&&(ee&&ee[ie.route.id])!==void 0;if(isDeferredResult(J)&&(Y||re)){let ne=V[te];invariant$1(ne,"Expected an AbortSignal for revalidating fetcher deferred result"),await resolveDeferredData(J,ne,Y).then(le=>{le&&($[te]=le||$[te])})}}}async function resolveDeferredData(C,T,$){if($===void 0&&($=!1),!await C.deferredData.resolveData(T)){if($)try{return{type:ResultType.data,data:C.deferredData.unwrappedData}}catch(Y){return{type:ResultType.error,error:Y}}return{type:ResultType.data,data:C.deferredData.data}}}function hasNakedIndexQuery(C){return new URLSearchParams(C).getAll("index").some(T=>T==="")}function getTargetMatch(C,T){let $=typeof T=="string"?parsePath(T).search:T.search;if(C[C.length-1].route.index&&hasNakedIndexQuery($||""))return C[C.length-1];let V=getPathContributingMatches(C);return V[V.length-1]}function getSubmissionFromNavigation(C){let{formMethod:T,formAction:$,formEncType:V,text:Y,formData:ee,json:te}=C;if(!(!T||!$||!V)){if(Y!=null)return{formMethod:T,formAction:$,formEncType:V,formData:void 0,json:void 0,text:Y};if(ee!=null)return{formMethod:T,formAction:$,formEncType:V,formData:ee,json:void 0,text:void 0};if(te!==void 0)return{formMethod:T,formAction:$,formEncType:V,formData:void 0,json:te,text:void 0}}}function getLoadingNavigation(C,T){return T?{state:"loading",location:C,formMethod:T.formMethod,formAction:T.formAction,formEncType:T.formEncType,formData:T.formData,json:T.json,text:T.text}:{state:"loading",location:C,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(C,T){return{state:"submitting",location:C,formMethod:T.formMethod,formAction:T.formAction,formEncType:T.formEncType,formData:T.formData,json:T.json,text:T.text}}function getLoadingFetcher(C,T){return C?{state:"loading",formMethod:C.formMethod,formAction:C.formAction,formEncType:C.formEncType,formData:C.formData,json:C.json,text:C.text,data:T}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:T}}function getSubmittingFetcher(C,T){return{state:"submitting",formMethod:C.formMethod,formAction:C.formAction,formEncType:C.formEncType,formData:C.formData,json:C.json,text:C.text,data:T?T.data:void 0}}function getDoneFetcher(C){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:C}}function restoreAppliedTransitions(C,T){try{let $=C.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if($){let V=JSON.parse($);for(let[Y,ee]of Object.entries(V||{}))ee&&Array.isArray(ee)&&T.set(Y,new Set(ee||[]))}}catch{}}function persistAppliedTransitions(C,T){if(T.size>0){let $={};for(let[V,Y]of T)$[V]=[...Y];try{C.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify($))}catch(V){warning$1(!1,"Failed to save applied view transitions in sessionStorage ("+V+").")}}}/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(C){for(var T=1;T<arguments.length;T++){var $=arguments[T];for(var V in $)Object.prototype.hasOwnProperty.call($,V)&&(C[V]=$[V])}return C},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(C,T){let{relative:$}=T===void 0?{}:T;useInRouterContext()||invariant$1(!1);let{basename:V,navigator:Y}=reactExports.useContext(NavigationContext),{hash:ee,pathname:te,search:J}=useResolvedPath(C,{relative:$}),ie=te;return V!=="/"&&(ie=te==="/"?V:joinPaths([V,te])),Y.createHref({pathname:ie,search:J,hash:ee})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(C){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(C)}function useNavigate(){let{isDataRoute:C}=reactExports.useContext(RouteContext);return C?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let C=reactExports.useContext(DataRouterContext),{basename:T,navigator:$}=reactExports.useContext(NavigationContext),{matches:V}=reactExports.useContext(RouteContext),{pathname:Y}=useLocation(),ee=JSON.stringify(getPathContributingMatches(V).map(ie=>ie.pathnameBase)),te=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{te.current=!0}),reactExports.useCallback(function(ie,K){if(K===void 0&&(K={}),!te.current)return;if(typeof ie=="number"){$.go(ie);return}let re=resolveTo(ie,JSON.parse(ee),Y,K.relative==="path");C==null&&T!=="/"&&(re.pathname=re.pathname==="/"?T:joinPaths([T,re.pathname])),(K.replace?$.replace:$.push)(re,K.state,K)},[T,$,ee,Y,C])}const OutletContext=reactExports.createContext(null);function useOutletContext(){return reactExports.useContext(OutletContext)}function useOutlet(C){let T=reactExports.useContext(RouteContext).outlet;return T&&reactExports.createElement(OutletContext.Provider,{value:C},T)}function useResolvedPath(C,T){let{relative:$}=T===void 0?{}:T,{matches:V}=reactExports.useContext(RouteContext),{pathname:Y}=useLocation(),ee=JSON.stringify(getPathContributingMatches(V).map(te=>te.pathnameBase));return reactExports.useMemo(()=>resolveTo(C,JSON.parse(ee),Y,$==="path"),[C,ee,Y,$])}function useRoutesImpl(C,T,$){useInRouterContext()||invariant$1(!1);let{navigator:V}=reactExports.useContext(NavigationContext),{matches:Y}=reactExports.useContext(RouteContext),ee=Y[Y.length-1],te=ee?ee.params:{};ee&&ee.pathname;let J=ee?ee.pathnameBase:"/";ee&&ee.route;let ie=useLocation(),K;if(T){var re;let ue=typeof T=="string"?parsePath(T):T;J==="/"||(re=ue.pathname)!=null&&re.startsWith(J)||invariant$1(!1),K=ue}else K=ie;let ne=K.pathname||"/",le=J==="/"?ne:ne.slice(J.length)||"/",ae=matchRoutes(C,{pathname:le}),se=_renderMatches(ae&&ae.map(ue=>Object.assign({},ue,{params:Object.assign({},te,ue.params),pathname:joinPaths([J,V.encodeLocation?V.encodeLocation(ue.pathname).pathname:ue.pathname]),pathnameBase:ue.pathnameBase==="/"?J:joinPaths([J,V.encodeLocation?V.encodeLocation(ue.pathnameBase).pathname:ue.pathnameBase])})),Y,$);return T&&se?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},K),navigationType:Action.Pop}},se):se}function DefaultErrorComponent(){let C=useRouteError(),T=isRouteErrorResponse(C)?C.status+" "+C.statusText:C instanceof Error?C.message:JSON.stringify(C),$=C instanceof Error?C.stack:null,Y={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},ee=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},T),$?reactExports.createElement("pre",{style:Y},$):null,ee)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(T){super(T),this.state={location:T.location,revalidation:T.revalidation,error:T.error}}static getDerivedStateFromError(T){return{error:T}}static getDerivedStateFromProps(T,$){return $.location!==T.location||$.revalidation!=="idle"&&T.revalidation==="idle"?{error:T.error,location:T.location,revalidation:T.revalidation}:{error:T.error||$.error,location:$.location,revalidation:T.revalidation||$.revalidation}}componentDidCatch(T,$){console.error("React Router caught the following error during render",T,$)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(C){let{routeContext:T,match:$,children:V}=C,Y=reactExports.useContext(DataRouterContext);return Y&&Y.static&&Y.staticContext&&($.route.errorElement||$.route.ErrorBoundary)&&(Y.staticContext._deepestRenderedBoundaryId=$.route.id),reactExports.createElement(RouteContext.Provider,{value:T},V)}function _renderMatches(C,T,$){var V;if(T===void 0&&(T=[]),$===void 0&&($=null),C==null){var Y;if((Y=$)!=null&&Y.errors)C=$.matches;else return null}let ee=C,te=(V=$)==null?void 0:V.errors;if(te!=null){let J=ee.findIndex(ie=>ie.route.id&&te?.[ie.route.id]);J>=0||invariant$1(!1),ee=ee.slice(0,Math.min(ee.length,J+1))}return ee.reduceRight((J,ie,K)=>{let re=ie.route.id?te?.[ie.route.id]:null,ne=null;$&&(ne=ie.route.errorElement||defaultErrorElement);let le=T.concat(ee.slice(0,K+1)),ae=()=>{let se;return re?se=ne:ie.route.Component?se=reactExports.createElement(ie.route.Component,null):ie.route.element?se=ie.route.element:se=J,reactExports.createElement(RenderedRoute,{match:ie,routeContext:{outlet:J,matches:le,isDataRoute:$!=null},children:se})};return $&&(ie.route.ErrorBoundary||ie.route.errorElement||K===0)?reactExports.createElement(RenderErrorBoundary,{location:$.location,revalidation:$.revalidation,component:ne,error:re,children:ae(),routeContext:{outlet:null,matches:le,isDataRoute:!0}}):ae()},null)}var DataRouterHook$1=function(C){return C.UseBlocker="useBlocker",C.UseRevalidator="useRevalidator",C.UseNavigateStable="useNavigate",C}(DataRouterHook$1||{}),DataRouterStateHook$1=function(C){return C.UseBlocker="useBlocker",C.UseLoaderData="useLoaderData",C.UseActionData="useActionData",C.UseRouteError="useRouteError",C.UseNavigation="useNavigation",C.UseRouteLoaderData="useRouteLoaderData",C.UseMatches="useMatches",C.UseRevalidator="useRevalidator",C.UseNavigateStable="useNavigate",C.UseRouteId="useRouteId",C}(DataRouterStateHook$1||{});function useDataRouterContext$1(C){let T=reactExports.useContext(DataRouterContext);return T||invariant$1(!1),T}function useDataRouterState$1(C){let T=reactExports.useContext(DataRouterStateContext);return T||invariant$1(!1),T}function useRouteContext(C){let T=reactExports.useContext(RouteContext);return T||invariant$1(!1),T}function useCurrentRouteId(C){let T=useRouteContext(),$=T.matches[T.matches.length-1];return $.route.id||invariant$1(!1),$.route.id}function useNavigation(){return useDataRouterState$1(DataRouterStateHook$1.UseNavigation).navigation}function useMatches(){let{matches:C,loaderData:T}=useDataRouterState$1(DataRouterStateHook$1.UseMatches);return reactExports.useMemo(()=>C.map($=>convertRouteMatchToUiMatch($,T)),[C,T])}function useRouteError(){var C;let T=reactExports.useContext(RouteErrorContext),$=useDataRouterState$1(DataRouterStateHook$1.UseRouteError),V=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return T||((C=$.errors)==null?void 0:C[V])}function useNavigateStable(){let{router:C}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),T=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),$=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{$.current=!0}),reactExports.useCallback(function(Y,ee){ee===void 0&&(ee={}),$.current&&(typeof Y=="number"?C.navigate(Y):C.navigate(Y,_extends$1({fromRouteId:T},ee)))},[C,T])}function Router(C){let{basename:T="/",children:$=null,location:V,navigationType:Y=Action.Pop,navigator:ee,static:te=!1}=C;useInRouterContext()&&invariant$1(!1);let J=T.replace(/^\/*/,"/"),ie=reactExports.useMemo(()=>({basename:J,navigator:ee,static:te}),[J,ee,te]);typeof V=="string"&&(V=parsePath(V));let{pathname:K="/",search:re="",hash:ne="",state:le=null,key:ae="default"}=V,se=reactExports.useMemo(()=>{let ue=stripBasename(K,J);return ue==null?null:{location:{pathname:ue,search:re,hash:ne,state:le,key:ae},navigationType:Y}},[J,K,re,ne,le,ae,Y]);return se==null?null:reactExports.createElement(NavigationContext.Provider,{value:ie},reactExports.createElement(LocationContext.Provider,{children:$,value:se}))}new Promise(()=>{});function mapRouteProperties(C){let T={hasErrorBoundary:C.ErrorBoundary!=null||C.errorElement!=null};return C.Component&&Object.assign(T,{element:reactExports.createElement(C.Component),Component:void 0}),C.ErrorBoundary&&Object.assign(T,{errorElement:reactExports.createElement(C.ErrorBoundary),ErrorBoundary:void 0}),T}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(C){for(var T=1;T<arguments.length;T++){var $=arguments[T];for(var V in $)Object.prototype.hasOwnProperty.call($,V)&&(C[V]=$[V])}return C},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(C,T){if(C==null)return{};var $={},V=Object.keys(C),Y,ee;for(ee=0;ee<V.length;ee++)Y=V[ee],!(T.indexOf(Y)>=0)&&($[Y]=C[Y]);return $}function isModifiedEvent(C){return!!(C.metaKey||C.altKey||C.ctrlKey||C.shiftKey)}function shouldProcessLinkClick(C,T){return C.button===0&&(!T||T==="_self")&&!isModifiedEvent(C)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function createBrowserRouter(C,T){return createRouter({basename:T?.basename,future:_extends({},T?.future,{v7_prependBasename:!0}),history:createBrowserHistory({window:T?.window}),hydrationData:T?.hydrationData||parseHydrationData(),routes:C,mapRouteProperties,window:T?.window}).initialize()}function parseHydrationData(){var C;let T=(C=window)==null?void 0:C.__staticRouterHydrationData;return T&&T.errors&&(T=_extends({},T,{errors:deserializeErrors(T.errors)})),T}function deserializeErrors(C){if(!C)return null;let T=Object.entries(C),$={};for(let[V,Y]of T)if(Y&&Y.__type==="RouteErrorResponse")$[V]=new ErrorResponseImpl(Y.status,Y.statusText,Y.data,Y.internal===!0);else if(Y&&Y.__type==="Error"){if(Y.__subType){let ee=window[Y.__subType];if(typeof ee=="function")try{let te=new ee(Y.message);te.stack="",$[V]=te}catch{}}if($[V]==null){let ee=new Error(Y.message);ee.stack="",$[V]=ee}}else $[V]=Y;return $}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=React[START_TRANSITION];function startTransitionSafe(C){startTransitionImpl?startTransitionImpl(C):C()}class Deferred{constructor(){this.status="pending",this.promise=new Promise((T,$)=>{this.resolve=V=>{this.status==="pending"&&(this.status="resolved",T(V))},this.reject=V=>{this.status==="pending"&&(this.status="rejected",$(V))}})}}function RouterProvider(C){let{fallbackElement:T,router:$,future:V}=C,[Y,ee]=reactExports.useState($.state),[te,J]=reactExports.useState(),[ie,K]=reactExports.useState({isTransitioning:!1}),[re,ne]=reactExports.useState(),[le,ae]=reactExports.useState(),[se,ue]=reactExports.useState(),{v7_startTransition:de}=V||{},ce=reactExports.useCallback(Ae=>{de?startTransitionSafe(Ae):Ae()},[de]),be=reactExports.useCallback((Ae,Be)=>{let{unstable_viewTransitionOpts:qe}=Be;!qe||$.window==null||typeof $.window.document.startViewTransition!="function"?ce(()=>ee(Ae)):le&&re?(re.resolve(),le.skipTransition(),ue({state:Ae,currentLocation:qe.currentLocation,nextLocation:qe.nextLocation})):(J(Ae),K({isTransitioning:!0,currentLocation:qe.currentLocation,nextLocation:qe.nextLocation}))},[ce,le,re,$.window]);reactExports.useLayoutEffect(()=>$.subscribe(be),[$,be]),reactExports.useEffect(()=>{ie.isTransitioning&&ne(new Deferred)},[ie.isTransitioning]),reactExports.useEffect(()=>{if(re&&te&&$.window){let Ae=te,Be=re.promise,qe=$.window.document.startViewTransition(async()=>{ce(()=>ee(Ae)),await Be});qe.finished.finally(()=>{ne(void 0),ae(void 0),J(void 0),K({isTransitioning:!1})}),ae(qe)}},[ce,te,re,$.window]),reactExports.useEffect(()=>{re&&te&&Y.location.key===te.location.key&&re.resolve()},[re,le,Y.location,te]),reactExports.useEffect(()=>{!ie.isTransitioning&&se&&(J(se.state),K({isTransitioning:!0,currentLocation:se.currentLocation,nextLocation:se.nextLocation}),ue(void 0))},[ie.isTransitioning,se]);let Le=reactExports.useMemo(()=>({createHref:$.createHref,encodeLocation:$.encodeLocation,go:Ae=>$.navigate(Ae),push:(Ae,Be,qe)=>$.navigate(Ae,{state:Be,preventScrollReset:qe?.preventScrollReset}),replace:(Ae,Be,qe)=>$.navigate(Ae,{replace:!0,state:Be,preventScrollReset:qe?.preventScrollReset})}),[$]),ve=$.basename||"/",ye=reactExports.useMemo(()=>({router:$,navigator:Le,static:!1,basename:ve}),[$,Le,ve]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:ye},reactExports.createElement(DataRouterStateContext.Provider,{value:Y},reactExports.createElement(ViewTransitionContext.Provider,{value:ie},reactExports.createElement(Router,{basename:ve,location:Y.location,navigationType:Y.historyAction,navigator:Le},Y.initialized?reactExports.createElement(DataRoutes,{routes:$.routes,state:Y}):T)))),null)}function DataRoutes(C){let{routes:T,state:$}=C;return useRoutesImpl(T,void 0,$)}const isBrowser$3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(T,$){let{onClick:V,relative:Y,reloadDocument:ee,replace:te,state:J,target:ie,to:K,preventScrollReset:re,unstable_viewTransition:ne}=T,le=_objectWithoutPropertiesLoose$1(T,_excluded),{basename:ae}=reactExports.useContext(NavigationContext),se,ue=!1;if(typeof K=="string"&&ABSOLUTE_URL_REGEX.test(K)&&(se=K,isBrowser$3))try{let Le=new URL(window.location.href),ve=K.startsWith("//")?new URL(Le.protocol+K):new URL(K),ye=stripBasename(ve.pathname,ae);ve.origin===Le.origin&&ye!=null?K=ye+ve.search+ve.hash:ue=!0}catch{}let de=useHref(K,{relative:Y}),ce=useLinkClickHandler(K,{replace:te,state:J,target:ie,preventScrollReset:re,relative:Y,unstable_viewTransition:ne});function be(Le){V&&V(Le),Le.defaultPrevented||ce(Le)}return reactExports.createElement("a",_extends({},le,{href:se||de,onClick:ue||ee?V:be,ref:$,target:ie}))});function ScrollRestoration(C){let{getKey:T,storageKey:$}=C;return useScrollRestoration({getKey:T,storageKey:$}),null}var DataRouterHook;(function(C){C.UseScrollRestoration="useScrollRestoration",C.UseSubmit="useSubmit",C.UseSubmitFetcher="useSubmitFetcher",C.UseFetcher="useFetcher",C.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(C){C.UseFetchers="useFetchers",C.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(C){let T=reactExports.useContext(DataRouterContext);return T||invariant$1(!1),T}function useDataRouterState(C){let T=reactExports.useContext(DataRouterStateContext);return T||invariant$1(!1),T}function useLinkClickHandler(C,T){let{target:$,replace:V,state:Y,preventScrollReset:ee,relative:te,unstable_viewTransition:J}=T===void 0?{}:T,ie=useNavigate(),K=useLocation(),re=useResolvedPath(C,{relative:te});return reactExports.useCallback(ne=>{if(shouldProcessLinkClick(ne,$)){ne.preventDefault();let le=V!==void 0?V:createPath$1(K)===createPath$1(re);ie(C,{replace:le,state:Y,preventScrollReset:ee,relative:te,unstable_viewTransition:J})}},[K,ie,re,V,Y,$,C,ee,te,J])}const SCROLL_RESTORATION_STORAGE_KEY="react-router-scroll-positions";let savedScrollPositions={};function useScrollRestoration(C){let{getKey:T,storageKey:$}=C===void 0?{}:C,{router:V}=useDataRouterContext(DataRouterHook.UseScrollRestoration),{restoreScrollPosition:Y,preventScrollReset:ee}=useDataRouterState(DataRouterStateHook.UseScrollRestoration),{basename:te}=reactExports.useContext(NavigationContext),J=useLocation(),ie=useMatches(),K=useNavigation();reactExports.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),usePageHide(reactExports.useCallback(()=>{if(K.state==="idle"){let re=(T?T(J,ie):null)||J.key;savedScrollPositions[re]=window.scrollY}try{sessionStorage.setItem($||SCROLL_RESTORATION_STORAGE_KEY,JSON.stringify(savedScrollPositions))}catch{}window.history.scrollRestoration="auto"},[$,T,K.state,J,ie])),typeof document<"u"&&(reactExports.useLayoutEffect(()=>{try{let re=sessionStorage.getItem($||SCROLL_RESTORATION_STORAGE_KEY);re&&(savedScrollPositions=JSON.parse(re))}catch{}},[$]),reactExports.useLayoutEffect(()=>{let re=T&&te!=="/"?(le,ae)=>T(_extends({},le,{pathname:stripBasename(le.pathname,te)||le.pathname}),ae):T,ne=V?.enableScrollRestoration(savedScrollPositions,()=>window.scrollY,re);return()=>ne&&ne()},[V,te,T]),reactExports.useLayoutEffect(()=>{if(Y!==!1){if(typeof Y=="number"){window.scrollTo(0,Y);return}if(J.hash){let re=document.getElementById(decodeURIComponent(J.hash.slice(1)));if(re){re.scrollIntoView();return}}ee!==!0&&window.scrollTo(0,0)}},[J,Y,ee]))}function usePageHide(C,T){let{capture:$}=T||{};reactExports.useEffect(()=>{let V=$!=null?{capture:$}:void 0;return window.addEventListener("pagehide",C,V),()=>{window.removeEventListener("pagehide",C,V)}},[C,$])}function _typeof$2(C){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function($){return typeof $}:_typeof$2=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$2(C)}function _classCallCheck(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function _defineProperties(C,T){for(var $=0;$<T.length;$++){var V=T[$];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(C,V.key,V)}}function _createClass(C,T,$){return T&&_defineProperties(C.prototype,T),$&&_defineProperties(C,$),C}function _possibleConstructorReturn(C,T){return T&&(_typeof$2(T)==="object"||typeof T=="function")?T:_assertThisInitialized(C)}function _getPrototypeOf(C){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf(C)}function _assertThisInitialized(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function _inherits(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),T&&_setPrototypeOf(C,T)}function _setPrototypeOf(C,T){return _setPrototypeOf=Object.setPrototypeOf||function(V,Y){return V.__proto__=Y,V},_setPrototypeOf(C,T)}function _defineProperty$4(C,T,$){return T in C?Object.defineProperty(C,T,{value:$,enumerable:!0,configurable:!0,writable:!0}):C[T]=$,C}var PersistGate=function(C){_inherits(T,C);function T(){var $,V;_classCallCheck(this,T);for(var Y=arguments.length,ee=new Array(Y),te=0;te<Y;te++)ee[te]=arguments[te];return V=_possibleConstructorReturn(this,($=_getPrototypeOf(T)).call.apply($,[this].concat(ee))),_defineProperty$4(_assertThisInitialized(V),"state",{bootstrapped:!1}),_defineProperty$4(_assertThisInitialized(V),"_unsubscribe",void 0),_defineProperty$4(_assertThisInitialized(V),"handlePersistorState",function(){var J=V.props.persistor,ie=J.getState(),K=ie.bootstrapped;K&&(V.props.onBeforeLift?Promise.resolve(V.props.onBeforeLift()).finally(function(){return V.setState({bootstrapped:!0})}):V.setState({bootstrapped:!0}),V._unsubscribe&&V._unsubscribe())}),V}return _createClass(T,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),T}(reactExports.PureComponent);_defineProperty$4(PersistGate,"defaultProps",{children:null,loading:null});const index$1="",Http="/one-piece-react/assets/http-254294af.pdf";function commonjsRequire(C){throw new Error('Could not dynamically require "'+C+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(T,$){module.exports=T.pdfjsLib=$()})(globalThis,()=>(()=>{var __webpack_modules__=[,(C,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.VerbosityLevel=T.Util=T.UnknownErrorException=T.UnexpectedResponseException=T.TextRenderingMode=T.RenderingIntentFlag=T.PromiseCapability=T.PermissionFlag=T.PasswordResponses=T.PasswordException=T.PageActionEventType=T.OPS=T.MissingPDFException=T.MAX_IMAGE_SIZE_TO_CACHE=T.LINE_FACTOR=T.LINE_DESCENT_FACTOR=T.InvalidPDFException=T.ImageKind=T.IDENTITY_MATRIX=T.FormatError=T.FeatureTest=T.FONT_IDENTITY_MATRIX=T.DocumentActionEventType=T.CMapCompressionType=T.BaseException=T.BASELINE_FACTOR=T.AnnotationType=T.AnnotationReplyType=T.AnnotationPrefix=T.AnnotationMode=T.AnnotationFlag=T.AnnotationFieldFlag=T.AnnotationEditorType=T.AnnotationEditorPrefix=T.AnnotationEditorParamsType=T.AnnotationBorderStyleType=T.AnnotationActionEventType=T.AbortException=void 0,T.assert=_e,T.bytesToString=He,T.createValidAbsoluteUrl=ge,T.getModificationDate=sr,T.getUuid=dr,T.getVerbosityLevel=bt,T.info=ct,T.isArrayBuffer=Vt,T.isArrayEqual=ar,T.isNodeJS=void 0,T.normalizeUnicode=cr,T.objectFromMap=tt,T.objectSize=ut,T.setVerbosityLevel=pt,T.shadow=ke,T.string32=it,T.stringToBytes=Ge,T.stringToPDFString=$t,T.stringToUTF8String=It,T.unreachable=Pe,T.utf8StringToString=qt,T.warn=We;const $=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");T.isNodeJS=$;const V=[1,0,0,1,0,0];T.IDENTITY_MATRIX=V;const Y=[.001,0,0,.001,0,0];T.FONT_IDENTITY_MATRIX=Y;const ee=1e7;T.MAX_IMAGE_SIZE_TO_CACHE=ee;const te=1.35;T.LINE_FACTOR=te;const J=.35;T.LINE_DESCENT_FACTOR=J;const ie=J/te;T.BASELINE_FACTOR=ie;const K={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};T.RenderingIntentFlag=K;const re={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};T.AnnotationMode=re;const ne="pdfjs_internal_editor_";T.AnnotationEditorPrefix=ne;const le={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};T.AnnotationEditorType=le;const ae={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};T.AnnotationEditorParamsType=ae;const se={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};T.PermissionFlag=se;const ue={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};T.TextRenderingMode=ue;const de={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};T.ImageKind=de;const ce={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};T.AnnotationType=ce;const be={GROUP:"Group",REPLY:"R"};T.AnnotationReplyType=be;const Le={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};T.AnnotationFlag=Le;const ve={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};T.AnnotationFieldFlag=ve;const ye={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};T.AnnotationBorderStyleType=ye;const Ae={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};T.AnnotationActionEventType=Ae;const Be={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};T.DocumentActionEventType=Be;const qe={O:"PageOpen",C:"PageClose"};T.PageActionEventType=qe;const Ue={ERRORS:0,WARNINGS:1,INFOS:5};T.VerbosityLevel=Ue;const Ke={NONE:0,BINARY:1};T.CMapCompressionType=Ke;const Je={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};T.OPS=Je;const mt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};T.PasswordResponses=mt;let ht=Ue.WARNINGS;function pt(_t){Number.isInteger(_t)&&(ht=_t)}function bt(){return ht}function ct(_t){ht>=Ue.INFOS&&console.log(`Info: ${_t}`)}function We(_t){ht>=Ue.WARNINGS&&console.log(`Warning: ${_t}`)}function Pe(_t){throw new Error(_t)}function _e(_t,nt){_t||Pe(nt)}function xe(_t){switch(_t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ge(_t,nt=null,rt=null){if(!_t)return null;try{if(rt&&typeof _t=="string"&&(rt.addDefaultProtocol&&_t.startsWith("www.")&&_t.match(/\./g)?.length>=2&&(_t=`http://${_t}`),rt.tryConvertEncoding))try{_t=It(_t)}catch{}const Xe=nt?new URL(_t,nt):new URL(_t);if(xe(Xe))return Xe}catch{}return null}function ke(_t,nt,rt,Xe=!1){return Object.defineProperty(_t,nt,{value:rt,enumerable:!Xe,configurable:!0,writable:!1}),rt}const Ee=function(){function nt(rt,Xe){this.constructor===nt&&Pe("Cannot initialize BaseException."),this.message=rt,this.name=Xe}return nt.prototype=new Error,nt.constructor=nt,nt}();T.BaseException=Ee;class Me extends Ee{constructor(nt,rt){super(nt,"PasswordException"),this.code=rt}}T.PasswordException=Me;class Oe extends Ee{constructor(nt,rt){super(nt,"UnknownErrorException"),this.details=rt}}T.UnknownErrorException=Oe;class pe extends Ee{constructor(nt){super(nt,"InvalidPDFException")}}T.InvalidPDFException=pe;class Ce extends Ee{constructor(nt){super(nt,"MissingPDFException")}}T.MissingPDFException=Ce;class Re extends Ee{constructor(nt,rt){super(nt,"UnexpectedResponseException"),this.status=rt}}T.UnexpectedResponseException=Re;class De extends Ee{constructor(nt){super(nt,"FormatError")}}T.FormatError=De;class Ne extends Ee{constructor(nt){super(nt,"AbortException")}}T.AbortException=Ne;function He(_t){(typeof _t!="object"||_t?.length===void 0)&&Pe("Invalid argument for bytesToString");const nt=_t.length,rt=8192;if(nt<rt)return String.fromCharCode.apply(null,_t);const Xe=[];for(let at=0;at<nt;at+=rt){const ft=Math.min(at+rt,nt),Ct=_t.subarray(at,ft);Xe.push(String.fromCharCode.apply(null,Ct))}return Xe.join("")}function Ge(_t){typeof _t!="string"&&Pe("Invalid argument for stringToBytes");const nt=_t.length,rt=new Uint8Array(nt);for(let Xe=0;Xe<nt;++Xe)rt[Xe]=_t.charCodeAt(Xe)&255;return rt}function it(_t){return String.fromCharCode(_t>>24&255,_t>>16&255,_t>>8&255,_t&255)}function ut(_t){return Object.keys(_t).length}function tt(_t){const nt=Object.create(null);for(const[rt,Xe]of _t)nt[rt]=Xe;return nt}function lt(){const _t=new Uint8Array(4);return _t[0]=1,new Uint32Array(_t.buffer,0,1)[0]===1}function ot(){try{return new Function(""),!0}catch{return!1}}class dt{static get isLittleEndian(){return ke(this,"isLittleEndian",lt())}static get isEvalSupported(){return ke(this,"isEvalSupported",ot())}static get isOffscreenCanvasSupported(){return ke(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?ke(this,"platform",{isWin:!1,isMac:!1}):ke(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return ke(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}T.FeatureTest=dt;const vt=[...Array(256).keys()].map(_t=>_t.toString(16).padStart(2,"0"));class St{static makeHexColor(nt,rt,Xe){return`#${vt[nt]}${vt[rt]}${vt[Xe]}`}static scaleMinMax(nt,rt){let Xe;nt[0]?(nt[0]<0&&(Xe=rt[0],rt[0]=rt[1],rt[1]=Xe),rt[0]*=nt[0],rt[1]*=nt[0],nt[3]<0&&(Xe=rt[2],rt[2]=rt[3],rt[3]=Xe),rt[2]*=nt[3],rt[3]*=nt[3]):(Xe=rt[0],rt[0]=rt[2],rt[2]=Xe,Xe=rt[1],rt[1]=rt[3],rt[3]=Xe,nt[1]<0&&(Xe=rt[2],rt[2]=rt[3],rt[3]=Xe),rt[2]*=nt[1],rt[3]*=nt[1],nt[2]<0&&(Xe=rt[0],rt[0]=rt[1],rt[1]=Xe),rt[0]*=nt[2],rt[1]*=nt[2]),rt[0]+=nt[4],rt[1]+=nt[4],rt[2]+=nt[5],rt[3]+=nt[5]}static transform(nt,rt){return[nt[0]*rt[0]+nt[2]*rt[1],nt[1]*rt[0]+nt[3]*rt[1],nt[0]*rt[2]+nt[2]*rt[3],nt[1]*rt[2]+nt[3]*rt[3],nt[0]*rt[4]+nt[2]*rt[5]+nt[4],nt[1]*rt[4]+nt[3]*rt[5]+nt[5]]}static applyTransform(nt,rt){const Xe=nt[0]*rt[0]+nt[1]*rt[2]+rt[4],at=nt[0]*rt[1]+nt[1]*rt[3]+rt[5];return[Xe,at]}static applyInverseTransform(nt,rt){const Xe=rt[0]*rt[3]-rt[1]*rt[2],at=(nt[0]*rt[3]-nt[1]*rt[2]+rt[2]*rt[5]-rt[4]*rt[3])/Xe,ft=(-nt[0]*rt[1]+nt[1]*rt[0]+rt[4]*rt[1]-rt[5]*rt[0])/Xe;return[at,ft]}static getAxialAlignedBoundingBox(nt,rt){const Xe=this.applyTransform(nt,rt),at=this.applyTransform(nt.slice(2,4),rt),ft=this.applyTransform([nt[0],nt[3]],rt),Ct=this.applyTransform([nt[2],nt[1]],rt);return[Math.min(Xe[0],at[0],ft[0],Ct[0]),Math.min(Xe[1],at[1],ft[1],Ct[1]),Math.max(Xe[0],at[0],ft[0],Ct[0]),Math.max(Xe[1],at[1],ft[1],Ct[1])]}static inverseTransform(nt){const rt=nt[0]*nt[3]-nt[1]*nt[2];return[nt[3]/rt,-nt[1]/rt,-nt[2]/rt,nt[0]/rt,(nt[2]*nt[5]-nt[4]*nt[3])/rt,(nt[4]*nt[1]-nt[5]*nt[0])/rt]}static singularValueDecompose2dScale(nt){const rt=[nt[0],nt[2],nt[1],nt[3]],Xe=nt[0]*rt[0]+nt[1]*rt[2],at=nt[0]*rt[1]+nt[1]*rt[3],ft=nt[2]*rt[0]+nt[3]*rt[2],Ct=nt[2]*rt[1]+nt[3]*rt[3],Ht=(Xe+Ct)/2,Bt=Math.sqrt((Xe+Ct)**2-4*(Xe*Ct-ft*at))/2,Ut=Ht+Bt||1,Rt=Ht-Bt||1;return[Math.sqrt(Ut),Math.sqrt(Rt)]}static normalizeRect(nt){const rt=nt.slice(0);return nt[0]>nt[2]&&(rt[0]=nt[2],rt[2]=nt[0]),nt[1]>nt[3]&&(rt[1]=nt[3],rt[3]=nt[1]),rt}static intersect(nt,rt){const Xe=Math.max(Math.min(nt[0],nt[2]),Math.min(rt[0],rt[2])),at=Math.min(Math.max(nt[0],nt[2]),Math.max(rt[0],rt[2]));if(Xe>at)return null;const ft=Math.max(Math.min(nt[1],nt[3]),Math.min(rt[1],rt[3])),Ct=Math.min(Math.max(nt[1],nt[3]),Math.max(rt[1],rt[3]));return ft>Ct?null:[Xe,ft,at,Ct]}static bezierBoundingBox(nt,rt,Xe,at,ft,Ct,Ht,Bt){const Ut=[],Rt=[[],[]];let Ft,Xt,Qt,Nt,Yt,Jt,_r,mr;for(let ir=0;ir<2;++ir){if(ir===0?(Xt=6*nt-12*Xe+6*ft,Ft=-3*nt+9*Xe-9*ft+3*Ht,Qt=3*Xe-3*nt):(Xt=6*rt-12*at+6*Ct,Ft=-3*rt+9*at-9*Ct+3*Bt,Qt=3*at-3*rt),Math.abs(Ft)<1e-12){if(Math.abs(Xt)<1e-12)continue;Nt=-Qt/Xt,0<Nt&&Nt<1&&Ut.push(Nt);continue}_r=Xt*Xt-4*Qt*Ft,mr=Math.sqrt(_r),!(_r<0)&&(Yt=(-Xt+mr)/(2*Ft),0<Yt&&Yt<1&&Ut.push(Yt),Jt=(-Xt-mr)/(2*Ft),0<Jt&&Jt<1&&Ut.push(Jt))}let ur=Ut.length,or;const pr=ur;for(;ur--;)Nt=Ut[ur],or=1-Nt,Rt[0][ur]=or*or*or*nt+3*or*or*Nt*Xe+3*or*Nt*Nt*ft+Nt*Nt*Nt*Ht,Rt[1][ur]=or*or*or*rt+3*or*or*Nt*at+3*or*Nt*Nt*Ct+Nt*Nt*Nt*Bt;return Rt[0][pr]=nt,Rt[1][pr]=rt,Rt[0][pr+1]=Ht,Rt[1][pr+1]=Bt,Rt[0].length=Rt[1].length=pr+2,[Math.min(...Rt[0]),Math.min(...Rt[1]),Math.max(...Rt[0]),Math.max(...Rt[1])]}}T.Util=St;const Tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function $t(_t){if(_t[0]>=""){let rt;if(_t[0]===""&&_t[1]===""?rt="utf-16be":_t[0]===""&&_t[1]===""?rt="utf-16le":_t[0]===""&&_t[1]===""&&_t[2]===""&&(rt="utf-8"),rt)try{const Xe=new TextDecoder(rt,{fatal:!0}),at=Ge(_t);return Xe.decode(at)}catch(Xe){We(`stringToPDFString: "${Xe}".`)}}const nt=[];for(let rt=0,Xe=_t.length;rt<Xe;rt++){const at=Tt[_t.charCodeAt(rt)];nt.push(at?String.fromCharCode(at):_t.charAt(rt))}return nt.join("")}function It(_t){return decodeURIComponent(escape(_t))}function qt(_t){return unescape(encodeURIComponent(_t))}function Vt(_t){return typeof _t=="object"&&_t?.byteLength!==void 0}function ar(_t,nt){if(_t.length!==nt.length)return!1;for(let rt=0,Xe=_t.length;rt<Xe;rt++)if(_t[rt]!==nt[rt])return!1;return!0}function sr(_t=new Date){return[_t.getUTCFullYear().toString(),(_t.getUTCMonth()+1).toString().padStart(2,"0"),_t.getUTCDate().toString().padStart(2,"0"),_t.getUTCHours().toString().padStart(2,"0"),_t.getUTCMinutes().toString().padStart(2,"0"),_t.getUTCSeconds().toString().padStart(2,"0")].join("")}class fr{#e=!1;constructor(){this.promise=new Promise((nt,rt)=>{this.resolve=Xe=>{this.#e=!0,nt(Xe)},this.reject=Xe=>{this.#e=!0,rt(Xe)}})}get settled(){return this.#e}}T.PromiseCapability=fr;let nr=null,lr=null;function cr(_t){return nr||(nr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,lr=new Map([["","t"]])),_t.replaceAll(nr,(nt,rt,Xe)=>rt?rt.normalize("NFKC"):lr.get(Xe))}function dr(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const _t=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(_t);else for(let nt=0;nt<32;nt++)_t[nt]=Math.floor(Math.random()*255);return He(_t)}const Sr="pdfjs_internal_id_";T.AnnotationPrefix=Sr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(C){if(typeof C=="string"||C instanceof URL?C={url:C}:(0,_util.isArrayBuffer)(C)&&(C={data:C}),typeof C!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!C.url&&!C.data&&!C.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const T=new PDFDocumentLoadingTask,{docId:$}=T,V=C.url?getUrlProp(C.url):null,Y=C.data?getDataProp(C.data):null,ee=C.httpHeaders||null,te=C.withCredentials===!0,J=C.password??null,ie=C.range instanceof PDFDataRangeTransport?C.range:null,K=Number.isInteger(C.rangeChunkSize)&&C.rangeChunkSize>0?C.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let re=C.worker instanceof PDFWorker?C.worker:null;const ne=C.verbosity,le=typeof C.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(C.docBaseUrl)?C.docBaseUrl:null,ae=typeof C.cMapUrl=="string"?C.cMapUrl:null,se=C.cMapPacked!==!1,ue=C.CMapReaderFactory||DefaultCMapReaderFactory,de=typeof C.standardFontDataUrl=="string"?C.standardFontDataUrl:null,ce=C.StandardFontDataFactory||DefaultStandardFontDataFactory,be=C.stopAtErrors!==!0,Le=Number.isInteger(C.maxImageSize)&&C.maxImageSize>-1?C.maxImageSize:-1,ve=C.isEvalSupported!==!1,ye=typeof C.isOffscreenCanvasSupported=="boolean"?C.isOffscreenCanvasSupported:!_util.isNodeJS,Ae=Number.isInteger(C.canvasMaxAreaInBytes)?C.canvasMaxAreaInBytes:-1,Be=typeof C.disableFontFace=="boolean"?C.disableFontFace:_util.isNodeJS,qe=C.fontExtraProperties===!0,Ue=C.enableXfa===!0,Ke=C.ownerDocument||globalThis.document,Je=C.disableRange===!0,mt=C.disableStream===!0,ht=C.disableAutoFetch===!0,pt=C.pdfBug===!0,bt=ie?ie.length:C.length??NaN,ct=typeof C.useSystemFonts=="boolean"?C.useSystemFonts:!_util.isNodeJS&&!Be,We=typeof C.useWorkerFetch=="boolean"?C.useWorkerFetch:ue===_display_utils.DOMCMapReaderFactory&&ce===_display_utils.DOMStandardFontDataFactory&&ae&&de&&(0,_display_utils.isValidFetchUrl)(ae,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(de,document.baseURI),Pe=C.canvasFactory||new DefaultCanvasFactory({ownerDocument:Ke}),_e=C.filterFactory||new DefaultFilterFactory({docId:$,ownerDocument:Ke}),xe=null;(0,_util.setVerbosityLevel)(ne);const ge={canvasFactory:Pe,filterFactory:_e};if(We||(ge.cMapReaderFactory=new ue({baseUrl:ae,isCompressed:se}),ge.standardFontDataFactory=new ce({baseUrl:de})),!re){const Me={verbosity:ne,port:_worker_options.GlobalWorkerOptions.workerPort};re=Me.port?PDFWorker.fromPort(Me):new PDFWorker(Me),T._worker=re}const ke={docId:$,apiVersion:"3.11.174",data:Y,password:J,disableAutoFetch:ht,rangeChunkSize:K,length:bt,docBaseUrl:le,enableXfa:Ue,evaluatorOptions:{maxImageSize:Le,disableFontFace:Be,ignoreErrors:be,isEvalSupported:ve,isOffscreenCanvasSupported:ye,canvasMaxAreaInBytes:Ae,fontExtraProperties:qe,useSystemFonts:ct,cMapUrl:We?ae:null,standardFontDataUrl:We?de:null}},Ee={ignoreErrors:be,isEvalSupported:ve,disableFontFace:Be,fontExtraProperties:qe,enableXfa:Ue,ownerDocument:Ke,disableAutoFetch:ht,pdfBug:pt,styleElement:xe};return re.promise.then(function(){if(T.destroyed)throw new Error("Loading aborted");const Me=_fetchDocument(re,ke),Oe=new Promise(function(pe){let Ce;ie?Ce=new _transport_stream.PDFDataTransportStream({length:bt,initialData:ie.initialData,progressiveDone:ie.progressiveDone,contentDispositionFilename:ie.contentDispositionFilename,disableRange:Je,disableStream:mt},ie):Y||(Ce=(De=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(De):(0,_display_utils.isValidFetchUrl)(De.url)?new _displayFetch_stream.PDFFetchStream(De):new _displayNetwork.PDFNetworkStream(De))({url:V,length:bt,httpHeaders:ee,withCredentials:te,rangeChunkSize:K,disableRange:Je,disableStream:mt})),pe(Ce)});return Promise.all([Me,Oe]).then(function([pe,Ce]){if(T.destroyed)throw new Error("Loading aborted");const Re=new _message_handler.MessageHandler($,pe,re.port),De=new WorkerTransport(Re,T,Ce,Ee,ge);T._transport=De,Re.send("Ready",null)})}).catch(T._capability.reject),T}async function _fetchDocument(C,T){if(C.destroyed)throw new Error("Worker was destroyed");const $=await C.messageHandler.sendWithPromise("GetDocRequest",T,T.data?[T.data.buffer]:null);if(C.destroyed)throw new Error("Worker was destroyed");return $}function getUrlProp(C){if(C instanceof URL)return C.href;try{return new URL(C,window.location).href}catch{if(_util.isNodeJS&&typeof C=="string")return C}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(C){if(_util.isNodeJS&&typeof Buffer<"u"&&C instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(C instanceof Uint8Array&&C.byteLength===C.buffer.byteLength)return C;if(typeof C=="string")return(0,_util.stringToBytes)(C);if(typeof C=="object"&&!isNaN(C?.length)||(0,_util.isArrayBuffer)(C))return new Uint8Array(C);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(T){throw this._worker?.port&&delete this._worker._pendingDestroy,T}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(T,$,V=!1,Y=null){this.length=T,this.initialData=$,this.progressiveDone=V,this.contentDispositionFilename=Y,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(T){this._rangeListeners.push(T)}addProgressListener(T){this._progressListeners.push(T)}addProgressiveReadListener(T){this._progressiveReadListeners.push(T)}addProgressiveDoneListener(T){this._progressiveDoneListeners.push(T)}onDataRange(T,$){for(const V of this._rangeListeners)V(T,$)}onDataProgress(T,$){this._readyCapability.promise.then(()=>{for(const V of this._progressListeners)V(T,$)})}onDataProgressiveRead(T){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveReadListeners)$(T)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const T of this._progressiveDoneListeners)T()})}transportReady(){this._readyCapability.resolve()}requestDataRange(T,$){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(T,$){this._pdfInfo=T,this._transport=$,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(V=>{if(!V)return V;const Y=[];for(const ee in V)Y.push(...V[ee]);return Y}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(T){return this._transport.getPage(T)}getPageIndex(T){return this._transport.getPageIndex(T)}getDestinations(){return this._transport.getDestinations()}getDestination(T){return this._transport.getDestination(T)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(T=!1){return this._transport.startCleanup(T||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(T,$,V,Y=!1){this._pageIndex=T,this._pageInfo=$,this._transport=V,this._stats=Y?new _display_utils.StatTimer:null,this._pdfBug=Y,this.commonObjs=V.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:T,rotation:$=this.rotate,offsetX:V=0,offsetY:Y=0,dontFlip:ee=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:T,rotation:$,offsetX:V,offsetY:Y,dontFlip:ee})}getAnnotations({intent:T="display"}={}){const $=this._transport.getRenderingIntent(T);return this._transport.getAnnotations(this._pageIndex,$.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:T,viewport:$,intent:V="display",annotationMode:Y=_util.AnnotationMode.ENABLE,transform:ee=null,background:te=null,optionalContentConfigPromise:J=null,annotationCanvasMap:ie=null,pageColors:K=null,printAnnotationStorage:re=null}){this._stats?.time("Overall");const ne=this._transport.getRenderingIntent(V,Y,re);this.#t=!1,this.#n(),J||(J=this._transport.getOptionalContentConfig());let le=this._intentStates.get(ne.cacheKey);le||(le=Object.create(null),this._intentStates.set(ne.cacheKey,le)),le.streamReaderCancelTimeout&&(clearTimeout(le.streamReaderCancelTimeout),le.streamReaderCancelTimeout=null);const ae=!!(ne.renderingIntent&_util.RenderingIntentFlag.PRINT);le.displayReadyCapability||(le.displayReadyCapability=new _util.PromiseCapability,le.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(ne));const se=ce=>{le.renderTasks.delete(ue),(this._maybeCleanupAfterRender||ae)&&(this.#t=!0),this.#r(!ae),ce?(ue.capability.reject(ce),this._abortOperatorList({intentState:le,reason:ce instanceof Error?ce:new Error(ce)})):ue.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},ue=new InternalRenderTask({callback:se,params:{canvasContext:T,viewport:$,transform:ee,background:te},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ie,operatorList:le.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ae,pdfBug:this._pdfBug,pageColors:K});(le.renderTasks||=new Set).add(ue);const de=ue.task;return Promise.all([le.displayReadyCapability.promise,J]).then(([ce,be])=>{if(this.destroyed){se();return}this._stats?.time("Rendering"),ue.initializeGraphics({transparency:ce,optionalContentConfig:be}),ue.operatorListChanged()}).catch(se),de}getOperatorList({intent:T="display",annotationMode:$=_util.AnnotationMode.ENABLE,printAnnotationStorage:V=null}={}){function Y(){te.operatorList.lastChunk&&(te.opListReadCapability.resolve(te.operatorList),te.renderTasks.delete(J))}const ee=this._transport.getRenderingIntent(T,$,V,!0);let te=this._intentStates.get(ee.cacheKey);te||(te=Object.create(null),this._intentStates.set(ee.cacheKey,te));let J;return te.opListReadCapability||(J=Object.create(null),J.operatorListChanged=Y,te.opListReadCapability=new _util.PromiseCapability,(te.renderTasks||=new Set).add(J),te.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(ee)),te.opListReadCapability.promise}streamTextContent({includeMarkedContent:T=!1,disableNormalization:$=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:T===!0,disableNormalization:$===!0},{highWaterMark:100,size(Y){return Y.items.length}})}getTextContent(T={}){if(this._transport._htmlForXfa)return this.getXfa().then(V=>_xfa_text.XfaText.textContent(V));const $=this.streamTextContent(T);return new Promise(function(V,Y){function ee(){te.read().then(function({value:ie,done:K}){if(K){V(J);return}Object.assign(J.styles,ie.styles),J.items.push(...ie.items),ee()},Y)}const te=$.getReader(),J={items:[],styles:Object.create(null)};ee()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const T=[];for(const $ of this._intentStates.values())if(this._abortOperatorList({intentState:$,reason:new Error("Page was destroyed."),force:!0}),!$.opListReadCapability)for(const V of $.renderTasks)T.push(V.completed),V.cancel();return this.objs.clear(),this.#t=!1,this.#n(),Promise.all(T)}cleanup(T=!1){this.#t=!0;const $=this.#r(!1);return T&&$&&(this._stats&&=new _display_utils.StatTimer),$}#r(T=!1){if(this.#n(),!this.#t||this.destroyed)return!1;if(T)return this.#e=setTimeout(()=>{this.#e=null,this.#r(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:$,operatorList:V}of this._intentStates.values())if($.size>0||!V.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#n(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(T,$){const V=this._intentStates.get($);V&&(this._stats?.timeEnd("Page Request"),V.displayReadyCapability?.resolve(T))}_renderPageChunk(T,$){for(let V=0,Y=T.length;V<Y;V++)$.operatorList.fnArray.push(T.fnArray[V]),$.operatorList.argsArray.push(T.argsArray[V]);$.operatorList.lastChunk=T.lastChunk,$.operatorList.separateAnnots=T.separateAnnots;for(const V of $.renderTasks)V.operatorListChanged();T.lastChunk&&this.#r(!0)}_pumpOperatorList({renderingIntent:T,cacheKey:$,annotationStorageSerializable:V}){const{map:Y,transfers:ee}=V,J=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:T,cacheKey:$,annotationStorage:Y},ee).getReader(),ie=this._intentStates.get($);ie.streamReader=J;const K=()=>{J.read().then(({value:re,done:ne})=>{if(ne){ie.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(re,ie),K())},re=>{if(ie.streamReader=null,!this._transport.destroyed){if(ie.operatorList){ie.operatorList.lastChunk=!0;for(const ne of ie.renderTasks)ne.operatorListChanged();this.#r(!0)}if(ie.displayReadyCapability)ie.displayReadyCapability.reject(re);else if(ie.opListReadCapability)ie.opListReadCapability.reject(re);else throw re}})};K()}_abortOperatorList({intentState:T,reason:$,force:V=!1}){if(T.streamReader){if(T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null),!V){if(T.renderTasks.size>0)return;if($ instanceof _display_utils.RenderingCancelledException){let Y=RENDERING_CANCELLED_TIMEOUT;$.extraDelay>0&&$.extraDelay<1e3&&(Y+=$.extraDelay),T.streamReaderCancelTimeout=setTimeout(()=>{T.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:T,reason:$,force:!0})},Y);return}}if(T.streamReader.cancel(new _util.AbortException($.message)).catch(()=>{}),T.streamReader=null,!this._transport.destroyed){for(const[Y,ee]of this._intentStates)if(ee===T){this._intentStates.delete(Y);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(T,$){const V={data:structuredClone(T,$?{transfer:$}:null)};this.#t.then(()=>{for(const Y of this.#e)Y.call(this,V)})}addEventListener(T,$){this.#e.add($)}removeEventListener(T,$){this.#e.delete($)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const C=document?.currentScript?.src;C&&(PDFWorkerUtil.fallbackWorkerSrc=C.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(C,T){let $;try{if($=new URL(C),!$.origin||$.origin==="null")return!1}catch{return!1}const V=new URL(T,$);return $.origin===V.origin},PDFWorkerUtil.createCDNWrapper=function(C){const T=`importScripts("${C}");`;return URL.createObjectURL(new Blob([T]))}}class PDFWorker{static#workerPorts;constructor({name:C=null,port:T=null,verbosity:$=(0,_util.getVerbosityLevel)()}={}){if(this.name=C,this.destroyed=!1,this.verbosity=$,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,T){if(PDFWorker.#workerPorts?.has(T))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(T,this),this._initializeFromPort(T);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(C){this._port=C,this._messageHandler=new _message_handler.MessageHandler("main","worker",C),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:C}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,C)||(C=PDFWorkerUtil.createCDNWrapper(new URL(C,window.location).href));const T=new Worker(C),$=new _message_handler.MessageHandler("main","worker",T),V=()=>{T.removeEventListener("error",Y),$.destroy(),T.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Y=()=>{this._webWorker||V()};T.addEventListener("error",Y),$.on("test",te=>{if(T.removeEventListener("error",Y),this.destroyed){V();return}te?(this._messageHandler=$,this._port=T,this._webWorker=T,this._readyCapability.resolve(),$.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),$.destroy(),T.terminate())}),$.on("ready",te=>{if(T.removeEventListener("error",Y),this.destroyed){V();return}try{ee()}catch{this._setupFakeWorker()}});const ee=()=>{const te=new Uint8Array;$.send("test",te,[te.buffer])};ee();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(C=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const T=new LoopbackPort;this._port=T;const $=`fake${PDFWorkerUtil.fakeWorkerId++}`,V=new _message_handler.MessageHandler($+"_worker",$,T);C.setup(V,T);const Y=new _message_handler.MessageHandler($,$+"_worker",T);this._messageHandler=Y,this._readyCapability.resolve(),Y.send("configure",{verbosity:this.verbosity})}).catch(C=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${C.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(C){if(!C?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const T=this.#workerPorts?.get(C.port);if(T){if(T._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return T}return new PDFWorker(C)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#r=new Map;#n=null;constructor(T,$,V,Y,ee){this.messageHandler=T,this.loadingTask=$,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Y.ownerDocument,styleElement:Y.styleElement}),this._params=Y,this.canvasFactory=ee.canvasFactory,this.filterFactory=ee.filterFactory,this.cMapReaderFactory=ee.cMapReaderFactory,this.standardFontDataFactory=ee.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=V,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(T,$=null){const V=this.#e.get(T);if(V)return V;const Y=this.messageHandler.sendWithPromise(T,$);return this.#e.set(T,Y),Y}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(T,$=_util.AnnotationMode.ENABLE,V=null,Y=!1){let ee=_util.RenderingIntentFlag.DISPLAY,te=_annotation_storage.SerializableEmpty;switch(T){case"any":ee=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ee=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${T}`)}switch($){case _util.AnnotationMode.DISABLE:ee+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ee+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ee+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,te=(ee&_util.RenderingIntentFlag.PRINT&&V instanceof _annotation_storage.PrintAnnotationStorage?V:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${$}`)}return Y&&(ee+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ee,cacheKey:`${ee}_${te.hash}`,annotationStorageSerializable:te}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#n?.reject(new Error("Worker was destroyed during onPassword callback"));const T=[];for(const V of this.#t.values())T.push(V._destroy());this.#t.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const $=this.messageHandler.sendWithPromise("Terminate",null);return T.push($),Promise.all(T).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:T,loadingTask:$}=this;T.on("GetReader",(V,Y)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ee=>{this._lastProgress={loaded:ee.loaded,total:ee.total}},Y.onPull=()=>{this._fullReader.read().then(function({value:ee,done:te}){if(te){Y.close();return}(0,_util.assert)(ee instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Y.enqueue(new Uint8Array(ee),1,[ee])}).catch(ee=>{Y.error(ee)})},Y.onCancel=ee=>{this._fullReader.cancel(ee),Y.ready.catch(te=>{if(!this.destroyed)throw te})}}),T.on("ReaderHeadersReady",V=>{const Y=new _util.PromiseCapability,ee=this._fullReader;return ee.headersReady.then(()=>{(!ee.isStreamingSupported||!ee.isRangeSupported)&&(this._lastProgress&&$.onProgress?.(this._lastProgress),ee.onProgress=te=>{$.onProgress?.({loaded:te.loaded,total:te.total})}),Y.resolve({isStreamingSupported:ee.isStreamingSupported,isRangeSupported:ee.isRangeSupported,contentLength:ee.contentLength})},Y.reject),Y.promise}),T.on("GetRangeReader",(V,Y)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ee=this._networkStream.getRangeReader(V.begin,V.end);if(!ee){Y.close();return}Y.onPull=()=>{ee.read().then(function({value:te,done:J}){if(J){Y.close();return}(0,_util.assert)(te instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Y.enqueue(new Uint8Array(te),1,[te])}).catch(te=>{Y.error(te)})},Y.onCancel=te=>{ee.cancel(te),Y.ready.catch(J=>{if(!this.destroyed)throw J})}}),T.on("GetDoc",({pdfInfo:V})=>{this._numPages=V.numPages,this._htmlForXfa=V.htmlForXfa,delete V.htmlForXfa,$._capability.resolve(new PDFDocumentProxy(V,this))}),T.on("DocException",function(V){let Y;switch(V.name){case"PasswordException":Y=new _util.PasswordException(V.message,V.code);break;case"InvalidPDFException":Y=new _util.InvalidPDFException(V.message);break;case"MissingPDFException":Y=new _util.MissingPDFException(V.message);break;case"UnexpectedResponseException":Y=new _util.UnexpectedResponseException(V.message,V.status);break;case"UnknownErrorException":Y=new _util.UnknownErrorException(V.message,V.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}$._capability.reject(Y)}),T.on("PasswordRequest",V=>{if(this.#n=new _util.PromiseCapability,$.onPassword){const Y=ee=>{ee instanceof Error?this.#n.reject(ee):this.#n.resolve({password:ee})};try{$.onPassword(Y,V.code)}catch(ee){this.#n.reject(ee)}}else this.#n.reject(new _util.PasswordException(V.message,V.code));return this.#n.promise}),T.on("DataLoaded",V=>{$.onProgress?.({loaded:V.length,total:V.length}),this.downloadInfoCapability.resolve(V)}),T.on("StartRenderPage",V=>{if(this.destroyed)return;this.#t.get(V.pageIndex)._startRenderPage(V.transparency,V.cacheKey)}),T.on("commonobj",([V,Y,ee])=>{if(!this.destroyed&&!this.commonObjs.has(V))switch(Y){case"Font":const te=this._params;if("error"in ee){const K=ee.error;(0,_util.warn)(`Error during font loading: ${K}`),this.commonObjs.resolve(V,K);break}const J=te.pdfBug&&globalThis.FontInspector?.enabled?(K,re)=>globalThis.FontInspector.fontAdded(K,re):null,ie=new _font_loader.FontFaceObject(ee,{isEvalSupported:te.isEvalSupported,disableFontFace:te.disableFontFace,ignoreErrors:te.ignoreErrors,inspectFont:J});this.fontLoader.bind(ie).catch(K=>T.sendWithPromise("FontFallback",{id:V})).finally(()=>{!te.fontExtraProperties&&ie.data&&(ie.data=null),this.commonObjs.resolve(V,ie)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(V,ee);break;default:throw new Error(`Got unknown common object type ${Y}`)}}),T.on("obj",([V,Y,ee,te])=>{if(this.destroyed)return;const J=this.#t.get(Y);if(!J.objs.has(V))switch(ee){case"Image":if(J.objs.resolve(V,te),te){let ie;if(te.bitmap){const{width:K,height:re}=te;ie=K*re*4}else ie=te.data?.length||0;ie>_util.MAX_IMAGE_SIZE_TO_CACHE&&(J._maybeCleanupAfterRender=!0)}break;case"Pattern":J.objs.resolve(V,te);break;default:throw new Error(`Got unknown object type ${ee}`)}}),T.on("DocProgress",V=>{this.destroyed||$.onProgress?.({loaded:V.loaded,total:V.total})}),T.on("FetchBuiltInCMap",V=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(V):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),T.on("FetchStandardFontData",V=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(V):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:T,transfers:$}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:T,filename:this._fullReader?.filename??null},$).finally(()=>{this.annotationStorage.resetModified()})}getPage(T){if(!Number.isInteger(T)||T<=0||T>this._numPages)return Promise.reject(new Error("Invalid page request."));const $=T-1,V=this.#r.get($);if(V)return V;const Y=this.messageHandler.sendWithPromise("GetPage",{pageIndex:$}).then(ee=>{if(this.destroyed)throw new Error("Transport destroyed");const te=new PDFPageProxy($,ee,this,this._params.pdfBug);return this.#t.set($,te),te});return this.#r.set($,Y),Y}getPageIndex(T){return typeof T!="object"||T===null||!Number.isInteger(T.num)||T.num<0||!Number.isInteger(T.gen)||T.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:T.num,gen:T.gen})}getAnnotations(T,$){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:T,intent:$})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(T){return typeof T!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:T})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(T){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:T})}getStructTree(T){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:T})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(T=>new _optional_content_config.OptionalContentConfig(T))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const T="GetMetadata",$=this.#e.get(T);if($)return $;const V=this.messageHandler.sendWithPromise(T,null).then(Y=>({info:Y[0],metadata:Y[1]?new _metadata.Metadata(Y[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(T,V),V}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(T=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const $ of this.#t.values())if(!$.cleanup())throw new Error(`startCleanup: Page ${$.pageNumber} is currently rendering.`);this.commonObjs.clear(),T||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:T,enableXfa:$}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:T,enableXfa:$})}}class PDFObjects{#e=Object.create(null);#t(T){return this.#e[T]||={capability:new _util.PromiseCapability,data:null}}get(T,$=null){if($){const Y=this.#t(T);return Y.capability.promise.then(()=>$(Y.data)),null}const V=this.#e[T];if(!V?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${T}.`);return V.data}has(T){return this.#e[T]?.capability.settled||!1}resolve(T,$=null){const V=this.#t(T);V.data=$,V.capability.resolve()}clear(){for(const T in this.#e){const{data:$}=this.#e[T];$?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(T){this.#e=T,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(T=0){this.#e.cancel(null,T)}get separateAnnots(){const{separateAnnots:T}=this.#e.operatorList;if(!T)return!1;const{annotationCanvasMap:$}=this.#e;return T.form||T.canvas&&$?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:T,params:$,objs:V,commonObjs:Y,annotationCanvasMap:ee,operatorList:te,pageIndex:J,canvasFactory:ie,filterFactory:K,useRequestAnimationFrame:re=!1,pdfBug:ne=!1,pageColors:le=null}){this.callback=T,this.params=$,this.objs=V,this.commonObjs=Y,this.annotationCanvasMap=ee,this.operatorListIdx=null,this.operatorList=te,this._pageIndex=J,this.canvasFactory=ie,this.filterFactory=K,this._pdfBug=ne,this.pageColors=le,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=re===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=$.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:T=!1,optionalContentConfig:$}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:V,viewport:Y,transform:ee,background:te}=this.params;this.gfx=new _canvas.CanvasGraphics(V,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:$},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ee,viewport:Y,transparency:T,background:te}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(T=null,$=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(T||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,$))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.SerializableEmpty=T.PrintAnnotationStorage=T.AnnotationStorage=void 0;var V=$(1),Y=$(4),ee=$(8);const te=Object.freeze({map:null,hash:"",transfers:void 0});T.SerializableEmpty=te;class J{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(re,ne){const le=this.#t.get(re);return le===void 0?ne:Object.assign(ne,le)}getRawValue(re){return this.#t.get(re)}remove(re){if(this.#t.delete(re),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ne of this.#t.values())if(ne instanceof Y.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(re,ne){const le=this.#t.get(re);let ae=!1;if(le!==void 0)for(const[se,ue]of Object.entries(ne))le[se]!==ue&&(ae=!0,le[se]=ue);else ae=!0,this.#t.set(re,ne);ae&&this.#r(),ne instanceof Y.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ne.constructor._type)}has(re){return this.#t.has(re)}getAll(){return this.#t.size>0?(0,V.objectFromMap)(this.#t):null}setAll(re){for(const[ne,le]of Object.entries(re))this.setValue(ne,le)}get size(){return this.#t.size}#r(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ie(this)}get serializable(){if(this.#t.size===0)return te;const re=new Map,ne=new ee.MurmurHash3_64,le=[],ae=Object.create(null);let se=!1;for(const[ue,de]of this.#t){const ce=de instanceof Y.AnnotationEditor?de.serialize(!1,ae):de;ce&&(re.set(ue,ce),ne.update(`${ue}:${JSON.stringify(ce)}`),se||=!!ce.bitmap)}if(se)for(const ue of re.values())ue.bitmap&&le.push(ue.bitmap);return re.size>0?{map:re,hash:ne.hexdigest(),transfers:le}:te}}T.AnnotationStorage=J;class ie extends J{#e;constructor(re){super();const{map:ne,hash:le,transfers:ae}=re.serializable,se=structuredClone(ne,ae?{transfer:ae}:null);this.#e={map:se,hash:le,transfers:ae}}get print(){(0,V.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}T.PrintAnnotationStorage=ie},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.AnnotationEditor=void 0;var V=$(5),Y=$(1),ee=$(6);class te{#e="";#t=!1;#r=null;#n=null;#o=null;#a=!1;#s=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#i=!1;#f=!1;#h=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#d=!1;#p=te._zIndex++;static _borderLineWidth=-1;static _colorManager=new V.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(K){this.constructor===te&&(0,Y.unreachable)("Cannot initialize AnnotationEditor."),this.parent=K.parent,this.id=K.id,this.width=this.height=null,this.pageIndex=K.parent.pageIndex,this.name=K.name,this.div=null,this._uiManager=K.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=K.isCentered,this._structTreeParentId=null;const{rotation:re,rawDims:{pageWidth:ne,pageHeight:le,pageX:ae,pageY:se}}=this.parent.viewport;this.rotation=re,this.pageRotation=(360+re-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[ne,le],this.pageTranslation=[ae,se];const[ue,de]=this.parentDimensions;this.x=K.x/ue,this.y=K.y/de,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,Y.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(K){const re=new J({id:K.parent.getNextId(),parent:K.parent,uiManager:K._uiManager});re.annotationElementId=K.annotationElementId,re.deleted=!0,re._uiManager.addToAnnotationStorage(re)}static initialize(K,re=null){if(te._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(le=>[le,K.get(le)])),re?.strings)for(const le of re.strings)te._l10nPromise.set(le,K.get(le));if(te._borderLineWidth!==-1)return;const ne=getComputedStyle(document.documentElement);te._borderLineWidth=parseFloat(ne.getPropertyValue("--outline-width"))||0}static updateDefaultParams(K,re){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(K){return!1}static paste(K,re){(0,Y.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#d}set _isDraggable(K){this.#d=K,this.div?.classList.toggle("draggable",K)}center(){const[K,re]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*re/(K*2),this.y+=this.width*K/(re*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*re/(K*2),this.y-=this.width*K/(re*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(K){this._uiManager.addCommands(K)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(K){K!==null&&(this.pageIndex=K.pageIndex,this.pageDimensions=K.pageDimensions),this.parent=K}focusin(K){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(K){!this._focusEventsAllowed||!this.isAttachedToDOM||K.relatedTarget?.closest(`#${this.id}`)||(K.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(K,re,ne,le){const[ae,se]=this.parentDimensions;[ne,le]=this.screenToPageTranslation(ne,le),this.x=(K+ne)/ae,this.y=(re+le)/se,this.fixAndSetPosition()}#y([K,re],ne,le){[ne,le]=this.screenToPageTranslation(ne,le),this.x+=ne/K,this.y+=le/re,this.fixAndSetPosition()}translate(K,re){this.#y(this.parentDimensions,K,re)}translateInPage(K,re){this.#y(this.pageDimensions,K,re),this.div.scrollIntoView({block:"nearest"})}drag(K,re){const[ne,le]=this.parentDimensions;if(this.x+=K/ne,this.y+=re/le,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:ce,y:be}=this.div.getBoundingClientRect();this.parent.findNewParent(this,ce,be)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:ae,y:se}=this;const[ue,de]=this.#m();ae+=ue,se+=de,this.div.style.left=`${(100*ae).toFixed(2)}%`,this.div.style.top=`${(100*se).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#m(){const[K,re]=this.parentDimensions,{_borderLineWidth:ne}=te,le=ne/K,ae=ne/re;switch(this.rotation){case 90:return[-le,ae];case 180:return[le,ae];case 270:return[le,-ae];default:return[-le,-ae]}}fixAndSetPosition(){const[K,re]=this.pageDimensions;let{x:ne,y:le,width:ae,height:se}=this;switch(ae*=K,se*=re,ne*=K,le*=re,this.rotation){case 0:ne=Math.max(0,Math.min(K-ae,ne)),le=Math.max(0,Math.min(re-se,le));break;case 90:ne=Math.max(0,Math.min(K-se,ne)),le=Math.min(re,Math.max(ae,le));break;case 180:ne=Math.min(K,Math.max(ae,ne)),le=Math.min(re,Math.max(se,le));break;case 270:ne=Math.min(K,Math.max(se,ne)),le=Math.max(0,Math.min(re-ae,le));break}this.x=ne/=K,this.y=le/=re;const[ue,de]=this.#m();ne+=ue,le+=de;const{style:ce}=this.div;ce.left=`${(100*ne).toFixed(2)}%`,ce.top=`${(100*le).toFixed(2)}%`,this.moveInDOM()}static#g(K,re,ne){switch(ne){case 90:return[re,-K];case 180:return[-K,-re];case 270:return[-re,K];default:return[K,re]}}screenToPageTranslation(K,re){return te.#g(K,re,this.parentRotation)}pageTranslationToScreen(K,re){return te.#g(K,re,360-this.parentRotation)}#u(K){switch(K){case 90:{const[re,ne]=this.pageDimensions;return[0,-re/ne,ne/re,0]}case 180:return[-1,0,0,-1];case 270:{const[re,ne]=this.pageDimensions;return[0,re/ne,-ne/re,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:K,pageDimensions:[re,ne]}=this,le=re*K,ae=ne*K;return Y.FeatureTest.isCSSRoundSupported?[Math.round(le),Math.round(ae)]:[le,ae]}setDims(K,re){const[ne,le]=this.parentDimensions;this.div.style.width=`${(100*K/ne).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*re/le).toFixed(2)}%`),this.#r?.classList.toggle("small",K<te.SMALL_EDITOR_SIZE||re<te.SMALL_EDITOR_SIZE)}fixDims(){const{style:K}=this.div,{height:re,width:ne}=K,le=ne.endsWith("%"),ae=!this.#a&&re.endsWith("%");if(le&&ae)return;const[se,ue]=this.parentDimensions;le||(K.width=`${(100*parseFloat(ne)/se).toFixed(2)}%`),!this.#a&&!ae&&(K.height=`${(100*parseFloat(re)/ue).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#b(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const K=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||K.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const re of K){const ne=document.createElement("div");this.#s.append(ne),ne.classList.add("resizer",re),ne.addEventListener("pointerdown",this.#S.bind(this,re)),ne.addEventListener("contextmenu",ee.noContextMenu)}this.div.prepend(this.#s)}#S(K,re){re.preventDefault();const{isMac:ne}=Y.FeatureTest.platform;if(re.button!==0||re.ctrlKey&&ne)return;const le=this.#C.bind(this,K),ae=this._isDraggable;this._isDraggable=!1;const se={passive:!0,capture:!0};window.addEventListener("pointermove",le,se);const ue=this.x,de=this.y,ce=this.width,be=this.height,Le=this.parent.div.style.cursor,ve=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(re.target).cursor;const ye=()=>{this._isDraggable=ae,window.removeEventListener("pointerup",ye),window.removeEventListener("blur",ye),window.removeEventListener("pointermove",le,se),this.parent.div.style.cursor=Le,this.div.style.cursor=ve;const Ae=this.x,Be=this.y,qe=this.width,Ue=this.height;Ae===ue&&Be===de&&qe===ce&&Ue===be||this.addCommands({cmd:()=>{this.width=qe,this.height=Ue,this.x=Ae,this.y=Be;const[Ke,Je]=this.parentDimensions;this.setDims(Ke*qe,Je*Ue),this.fixAndSetPosition()},undo:()=>{this.width=ce,this.height=be,this.x=ue,this.y=de;const[Ke,Je]=this.parentDimensions;this.setDims(Ke*ce,Je*be),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",ye),window.addEventListener("blur",ye)}#C(K,re){const[ne,le]=this.parentDimensions,ae=this.x,se=this.y,ue=this.width,de=this.height,ce=te.MIN_SIZE/ne,be=te.MIN_SIZE/le,Le=Oe=>Math.round(Oe*1e4)/1e4,ve=this.#u(this.rotation),ye=(Oe,pe)=>[ve[0]*Oe+ve[2]*pe,ve[1]*Oe+ve[3]*pe],Ae=this.#u(360-this.rotation),Be=(Oe,pe)=>[Ae[0]*Oe+Ae[2]*pe,Ae[1]*Oe+Ae[3]*pe];let qe,Ue,Ke=!1,Je=!1;switch(K){case"topLeft":Ke=!0,qe=(Oe,pe)=>[0,0],Ue=(Oe,pe)=>[Oe,pe];break;case"topMiddle":qe=(Oe,pe)=>[Oe/2,0],Ue=(Oe,pe)=>[Oe/2,pe];break;case"topRight":Ke=!0,qe=(Oe,pe)=>[Oe,0],Ue=(Oe,pe)=>[0,pe];break;case"middleRight":Je=!0,qe=(Oe,pe)=>[Oe,pe/2],Ue=(Oe,pe)=>[0,pe/2];break;case"bottomRight":Ke=!0,qe=(Oe,pe)=>[Oe,pe],Ue=(Oe,pe)=>[0,0];break;case"bottomMiddle":qe=(Oe,pe)=>[Oe/2,pe],Ue=(Oe,pe)=>[Oe/2,0];break;case"bottomLeft":Ke=!0,qe=(Oe,pe)=>[0,pe],Ue=(Oe,pe)=>[Oe,0];break;case"middleLeft":Je=!0,qe=(Oe,pe)=>[0,pe/2],Ue=(Oe,pe)=>[Oe,pe/2];break}const mt=qe(ue,de),ht=Ue(ue,de);let pt=ye(...ht);const bt=Le(ae+pt[0]),ct=Le(se+pt[1]);let We=1,Pe=1,[_e,xe]=this.screenToPageTranslation(re.movementX,re.movementY);if([_e,xe]=Be(_e/ne,xe/le),Ke){const Oe=Math.hypot(ue,de);We=Pe=Math.max(Math.min(Math.hypot(ht[0]-mt[0]-_e,ht[1]-mt[1]-xe)/Oe,1/ue,1/de),ce/ue,be/de)}else Je?We=Math.max(ce,Math.min(1,Math.abs(ht[0]-mt[0]-_e)))/ue:Pe=Math.max(be,Math.min(1,Math.abs(ht[1]-mt[1]-xe)))/de;const ge=Le(ue*We),ke=Le(de*Pe);pt=ye(...Ue(ge,ke));const Ee=bt-pt[0],Me=ct-pt[1];this.width=ge,this.height=ke,this.x=Ee,this.y=Me,this.setDims(ne*ge,le*ke),this.fixAndSetPosition()}async addAltTextButton(){if(this.#r)return;const K=this.#r=document.createElement("button");K.className="altText";const re=await te._l10nPromise.get("editor_alt_text_button_label");K.textContent=re,K.setAttribute("aria-label",re),K.tabIndex="0",K.addEventListener("contextmenu",ee.noContextMenu),K.addEventListener("pointerdown",ne=>ne.stopPropagation()),K.addEventListener("click",ne=>{ne.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),K.addEventListener("keydown",ne=>{ne.target===K&&ne.key==="Enter"&&(ne.preventDefault(),this._uiManager.editAltText(this))}),this.#$(),this.div.append(K),te.SMALL_EDITOR_SIZE||(te.SMALL_EDITOR_SIZE=Math.min(128,Math.round(K.getBoundingClientRect().width*1.4)))}async#$(){const K=this.#r;if(!K)return;if(!this.#e&&!this.#t){K.classList.remove("done"),this.#n?.remove();return}te._l10nPromise.get("editor_alt_text_edit_button_label").then(ne=>{K.setAttribute("aria-label",ne)});let re=this.#n;if(!re){this.#n=re=document.createElement("span"),re.className="tooltip",re.setAttribute("role","tooltip");const ne=re.id=`alt-text-tooltip-${this.id}`;K.setAttribute("aria-describedby",ne);const le=100;K.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#n.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},le)}),K.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#n?.classList.remove("show")})}K.classList.add("done"),re.innerText=this.#t?await te._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,re.parentNode||K.append(re)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:K,decorative:re}){this.#e===K&&this.#t===re||(this.#e=K,this.#t=re,this.#$())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);const[K,re]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*re/K).toFixed(2)}%`,this.div.style.maxHeight=`${(100*K/re).toFixed(2)}%`);const[ne,le]=this.getInitialTranslation();return this.translate(ne,le),(0,V.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(K){const{isMac:re}=Y.FeatureTest.platform;if(K.button!==0||K.ctrlKey&&re){K.preventDefault();return}this.#i=!0,this.#A(K)}#A(K){if(!this._isDraggable)return;const re=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let ne,le;re&&(ne={passive:!0,capture:!0},le=se=>{const[ue,de]=this.screenToPageTranslation(se.movementX,se.movementY);this._uiManager.dragSelectedEditors(ue,de)},window.addEventListener("pointermove",le,ne));const ae=()=>{if(window.removeEventListener("pointerup",ae),window.removeEventListener("blur",ae),re&&window.removeEventListener("pointermove",le,ne),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:se}=Y.FeatureTest.platform;K.ctrlKey&&!se||K.shiftKey||K.metaKey&&se?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",ae),window.addEventListener("blur",ae)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(K,re,ne){K.changeParent(this),this.x=re,this.y=ne,this.fixAndSetPosition()}getRect(K,re){const ne=this.parentScale,[le,ae]=this.pageDimensions,[se,ue]=this.pageTranslation,de=K/ne,ce=re/ne,be=this.x*le,Le=this.y*ae,ve=this.width*le,ye=this.height*ae;switch(this.rotation){case 0:return[be+de+se,ae-Le-ce-ye+ue,be+de+ve+se,ae-Le-ce+ue];case 90:return[be+ce+se,ae-Le+de+ue,be+ce+ye+se,ae-Le+de+ve+ue];case 180:return[be-de-ve+se,ae-Le+ce+ue,be-de+se,ae-Le+ce+ye+ue];case 270:return[be-ce-ye+se,ae-Le-de-ve+ue,be-ce+se,ae-Le-de+ue];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(K,re){const[ne,le,ae,se]=K,ue=ae-ne,de=se-le;switch(this.rotation){case 0:return[ne,re-se,ue,de];case 90:return[ne,re-le,de,ue];case 180:return[ae,re-le,ue,de];case 270:return[ae,re-se,de,ue];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(K=!1,re=null){(0,Y.unreachable)("An editor must be serializable")}static deserialize(K,re,ne){const le=new this.prototype.constructor({parent:re,id:re.getNextId(),uiManager:ne});le.rotation=K.rotation;const[ae,se]=le.pageDimensions,[ue,de,ce,be]=le.getRectInCurrentCoords(K.rect,se);return le.x=ue/ae,le.y=de/se,le.width=ce/ae,le.height=be/se,le}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#r?.remove(),this.#r=null,this.#n=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#b(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(K,re){}disableEditing(){this.#r&&(this.#r.hidden=!0)}enableEditing(){this.#r&&(this.#r.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(K){this.#f=K,this.parent&&(K?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(K,re){this.#a=!0;const ne=K/re,{style:le}=this.div;le.aspectRatio=ne,le.height="auto"}static get MIN_SIZE(){return 16}}T.AnnotationEditor=te;class J extends te{constructor(K){super(K),this.annotationElementId=K.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.KeyboardManager=T.CommandManager=T.ColorManager=T.AnnotationEditorUIManager=void 0,T.bindEvents=ee,T.opacityToHex=te;var V=$(1),Y=$(6);function ee(ae,se,ue){for(const de of ue)se.addEventListener(de,ae[de].bind(ae))}function te(ae){return Math.round(Math.min(255,Math.max(1,255*ae))).toString(16).padStart(2,"0")}class J{#e=0;getId(){return`${V.AnnotationEditorPrefix}${this.#e++}`}}class ie{#e=(0,V.getUuid)();#t=0;#r=null;static get _isSVGFittingCanvas(){const se='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',de=new OffscreenCanvas(1,3).getContext("2d"),ce=new Image;ce.src=se;const be=ce.decode().then(()=>(de.drawImage(ce,0,0,1,1,0,0,1,3),new Uint32Array(de.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,V.shadow)(this,"_isSVGFittingCanvas",be)}async#n(se,ue){this.#r||=new Map;let de=this.#r.get(se);if(de===null)return null;if(de?.bitmap)return de.refCounter+=1,de;try{de||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let ce;if(typeof ue=="string"){de.url=ue;const be=await fetch(ue);if(!be.ok)throw new Error(be.statusText);ce=await be.blob()}else ce=de.file=ue;if(ce.type==="image/svg+xml"){const be=ie._isSVGFittingCanvas,Le=new FileReader,ve=new Image,ye=new Promise((Ae,Be)=>{ve.onload=()=>{de.bitmap=ve,de.isSvg=!0,Ae()},Le.onload=async()=>{const qe=de.svgUrl=Le.result;ve.src=await be?`${qe}#svgView(preserveAspectRatio(none))`:qe},ve.onerror=Le.onerror=Be});Le.readAsDataURL(ce),await ye}else de.bitmap=await createImageBitmap(ce);de.refCounter=1}catch(ce){console.error(ce),de=null}return this.#r.set(se,de),de&&this.#r.set(de.id,de),de}async getFromFile(se){const{lastModified:ue,name:de,size:ce,type:be}=se;return this.#n(`${ue}_${de}_${ce}_${be}`,se)}async getFromUrl(se){return this.#n(se,se)}async getFromId(se){this.#r||=new Map;const ue=this.#r.get(se);return ue?ue.bitmap?(ue.refCounter+=1,ue):ue.file?this.getFromFile(ue.file):this.getFromUrl(ue.url):null}getSvgUrl(se){const ue=this.#r.get(se);return ue?.isSvg?ue.svgUrl:null}deleteId(se){this.#r||=new Map;const ue=this.#r.get(se);ue&&(ue.refCounter-=1,ue.refCounter===0&&(ue.bitmap=null))}isValidId(se){return se.startsWith(`image_${this.#e}_`)}}class K{#e=[];#t=!1;#r;#n=-1;constructor(se=128){this.#r=se}add({cmd:se,undo:ue,mustExec:de,type:ce=NaN,overwriteIfSameType:be=!1,keepUndo:Le=!1}){if(de&&se(),this.#t)return;const ve={cmd:se,undo:ue,type:ce};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(ve);return}if(be&&this.#e[this.#n].type===ce){Le&&(ve.undo=this.#e[this.#n].undo),this.#e[this.#n]=ve;return}const ye=this.#n+1;ye===this.#r?this.#e.splice(0,1):(this.#n=ye,ye<this.#e.length&&this.#e.splice(ye)),this.#e.push(ve)}undo(){this.#n!==-1&&(this.#t=!0,this.#e[this.#n].undo(),this.#t=!1,this.#n-=1)}redo(){this.#n<this.#e.length-1&&(this.#n+=1,this.#t=!0,this.#e[this.#n].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}destroy(){this.#e=null}}T.CommandManager=K;class re{constructor(se){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ue}=V.FeatureTest.platform;for(const[de,ce,be={}]of se)for(const Le of de){const ve=Le.startsWith("mac+");ue&&ve?(this.callbacks.set(Le.slice(4),{callback:ce,options:be}),this.allKeys.add(Le.split("+").at(-1))):!ue&&!ve&&(this.callbacks.set(Le,{callback:ce,options:be}),this.allKeys.add(Le.split("+").at(-1)))}}#e(se){se.altKey&&this.buffer.push("alt"),se.ctrlKey&&this.buffer.push("ctrl"),se.metaKey&&this.buffer.push("meta"),se.shiftKey&&this.buffer.push("shift"),this.buffer.push(se.key);const ue=this.buffer.join("+");return this.buffer.length=0,ue}exec(se,ue){if(!this.allKeys.has(ue.key))return;const de=this.callbacks.get(this.#e(ue));if(!de)return;const{callback:ce,options:{bubbles:be=!1,args:Le=[],checker:ve=null}}=de;ve&&!ve(se,ue)||(ce.bind(se,...Le)(),be||(ue.stopPropagation(),ue.preventDefault()))}}T.KeyboardManager=re;class ne{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const se=new Map([["CanvasText",null],["Canvas",null]]);return(0,Y.getColorValues)(se),(0,V.shadow)(this,"_colors",se)}convert(se){const ue=(0,Y.getRGB)(se);if(!window.matchMedia("(forced-colors: active)").matches)return ue;for(const[de,ce]of this._colors)if(ce.every((be,Le)=>be===ue[Le]))return ne._colorsMapping.get(de);return ue}getHexCode(se){const ue=this._colors.get(se);return ue?V.Util.makeHexColor(...ue):se}}T.ColorManager=ne;class le{#e=null;#t=new Map;#r=new Map;#n=null;#o=null;#a=new K;#s=0;#l=new Set;#c=null;#i=null;#f=new Set;#h=null;#d=new J;#p=!1;#y=!1;#m=null;#g=V.AnnotationEditorType.NONE;#u=new Set;#b=null;#S=this.blur.bind(this);#C=this.focus.bind(this);#$=this.copy.bind(this);#A=this.cut.bind(this);#O=this.paste.bind(this);#F=this.keydown.bind(this);#M=this.onEditingAction.bind(this);#_=this.onPageChanging.bind(this);#I=this.onScaleChanging.bind(this);#k=this.onRotationChanging.bind(this);#P={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#v=[0,0];#w=null;#E=null;#D=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const se=le.prototype,ue=be=>{const{activeElement:Le}=document;return Le&&be.#E.contains(Le)&&be.hasSomethingToControl()},de=this.TRANSLATE_SMALL,ce=this.TRANSLATE_BIG;return(0,V.shadow)(this,"_keyboardManager",new re([[["ctrl+a","mac+meta+a"],se.selectAll],[["ctrl+z","mac+meta+z"],se.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],se.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],se.delete],[["Escape","mac+Escape"],se.unselectAll],[["ArrowLeft","mac+ArrowLeft"],se.translateSelectedEditors,{args:[-de,0],checker:ue}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],se.translateSelectedEditors,{args:[-ce,0],checker:ue}],[["ArrowRight","mac+ArrowRight"],se.translateSelectedEditors,{args:[de,0],checker:ue}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],se.translateSelectedEditors,{args:[ce,0],checker:ue}],[["ArrowUp","mac+ArrowUp"],se.translateSelectedEditors,{args:[0,-de],checker:ue}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],se.translateSelectedEditors,{args:[0,-ce],checker:ue}],[["ArrowDown","mac+ArrowDown"],se.translateSelectedEditors,{args:[0,de],checker:ue}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],se.translateSelectedEditors,{args:[0,ce],checker:ue}]]))}constructor(se,ue,de,ce,be,Le){this.#E=se,this.#D=ue,this.#n=de,this._eventBus=ce,this._eventBus._on("editingaction",this.#M),this._eventBus._on("pagechanging",this.#_),this._eventBus._on("scalechanging",this.#I),this._eventBus._on("rotationchanging",this.#k),this.#o=be.annotationStorage,this.#h=be.filterFactory,this.#b=Le,this.viewParameters={realScale:Y.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#R(),this.#j(),this._eventBus._off("editingaction",this.#M),this._eventBus._off("pagechanging",this.#_),this._eventBus._off("scalechanging",this.#I),this._eventBus._off("rotationchanging",this.#k);for(const se of this.#r.values())se.destroy();this.#r.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#u.clear(),this.#a.destroy(),this.#n.destroy()}get hcmFilter(){return(0,V.shadow)(this,"hcmFilter",this.#b?this.#h.addHCMFilter(this.#b.foreground,this.#b.background):"none")}get direction(){return(0,V.shadow)(this,"direction",getComputedStyle(this.#E).direction)}editAltText(se){this.#n?.editAltText(this,se)}onPageChanging({pageNumber:se}){this.#s=se-1}focusMainContainer(){this.#E.focus()}findParent(se,ue){for(const de of this.#r.values()){const{x:ce,y:be,width:Le,height:ve}=de.div.getBoundingClientRect();if(se>=ce&&se<=ce+Le&&ue>=be&&ue<=be+ve)return de}return null}disableUserSelect(se=!1){this.#D.classList.toggle("noUserSelect",se)}addShouldRescale(se){this.#f.add(se)}removeShouldRescale(se){this.#f.delete(se)}onScaleChanging({scale:se}){this.commitOrRemove(),this.viewParameters.realScale=se*Y.PixelsPerInch.PDF_TO_CSS_UNITS;for(const ue of this.#f)ue.onScaleChanging()}onRotationChanging({pagesRotation:se}){this.commitOrRemove(),this.viewParameters.rotation=se}addToAnnotationStorage(se){!se.isEmpty()&&this.#o&&!this.#o.has(se.id)&&this.#o.setValue(se.id,se)}#N(){window.addEventListener("focus",this.#C),window.addEventListener("blur",this.#S)}#j(){window.removeEventListener("focus",this.#C),window.removeEventListener("blur",this.#S)}blur(){if(!this.hasSelection)return;const{activeElement:se}=document;for(const ue of this.#u)if(ue.div.contains(se)){this.#m=[ue,se],ue._focusEventsAllowed=!1;break}}focus(){if(!this.#m)return;const[se,ue]=this.#m;this.#m=null,ue.addEventListener("focusin",()=>{se._focusEventsAllowed=!0},{once:!0}),ue.focus()}#B(){window.addEventListener("keydown",this.#F,{capture:!0})}#R(){window.removeEventListener("keydown",this.#F,{capture:!0})}#L(){document.addEventListener("copy",this.#$),document.addEventListener("cut",this.#A),document.addEventListener("paste",this.#O)}#T(){document.removeEventListener("copy",this.#$),document.removeEventListener("cut",this.#A),document.removeEventListener("paste",this.#O)}addEditListeners(){this.#B(),this.#L()}removeEditListeners(){this.#R(),this.#T()}copy(se){if(se.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const ue=[];for(const de of this.#u){const ce=de.serialize(!0);ce&&ue.push(ce)}ue.length!==0&&se.clipboardData.setData("application/pdfjs",JSON.stringify(ue))}cut(se){this.copy(se),this.delete()}paste(se){se.preventDefault();const{clipboardData:ue}=se;for(const be of ue.items)for(const Le of this.#i)if(Le.isHandlingMimeForPasting(be.type)){Le.paste(be,this.currentLayer);return}let de=ue.getData("application/pdfjs");if(!de)return;try{de=JSON.parse(de)}catch(be){(0,V.warn)(`paste: "${be.message}".`);return}if(!Array.isArray(de))return;this.unselectAll();const ce=this.currentLayer;try{const be=[];for(const ye of de){const Ae=ce.deserialize(ye);if(!Ae)return;be.push(Ae)}const Le=()=>{for(const ye of be)this.#W(ye);this.#q(be)},ve=()=>{for(const ye of be)ye.remove()};this.addCommands({cmd:Le,undo:ve,mustExec:!0})}catch(be){(0,V.warn)(`paste: "${be.message}".`)}}keydown(se){this.getActive()?.shouldGetKeyboardEvents()||le._keyboardManager.exec(this,se)}onEditingAction(se){["undo","redo","delete","selectAll"].includes(se.name)&&this[se.name]()}#x(se){Object.entries(se).some(([de,ce])=>this.#P[de]!==ce)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#P,se)})}#U(se){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:se})}setEditingState(se){se?(this.#N(),this.#B(),this.#L(),this.#x({isEditing:this.#g!==V.AnnotationEditorType.NONE,isEmpty:this.#H(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#j(),this.#R(),this.#T(),this.#x({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(se){if(!this.#i){this.#i=se;for(const ue of this.#i)this.#U(ue.defaultPropertiesToUpdate)}}getId(){return this.#d.getId()}get currentLayer(){return this.#r.get(this.#s)}getLayer(se){return this.#r.get(se)}get currentPageIndex(){return this.#s}addLayer(se){this.#r.set(se.pageIndex,se),this.#p?se.enable():se.disable()}removeLayer(se){this.#r.delete(se.pageIndex)}updateMode(se,ue=null){if(this.#g!==se){if(this.#g=se,se===V.AnnotationEditorType.NONE){this.setEditingState(!1),this.#G();return}this.setEditingState(!0),this.#z(),this.unselectAll();for(const de of this.#r.values())de.updateMode(se);if(ue){for(const de of this.#t.values())if(de.annotationElementId===ue){this.setSelected(de),de.enterInEditMode();break}}}}updateToolbar(se){se!==this.#g&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:se})}updateParams(se,ue){if(this.#i){if(se===V.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(se);return}for(const de of this.#u)de.updateParams(se,ue);for(const de of this.#i)de.updateDefaultParams(se,ue)}}enableWaiting(se=!1){if(this.#y!==se){this.#y=se;for(const ue of this.#r.values())se?ue.disableClick():ue.enableClick(),ue.div.classList.toggle("waiting",se)}}#z(){if(!this.#p){this.#p=!0;for(const se of this.#r.values())se.enable()}}#G(){if(this.unselectAll(),this.#p){this.#p=!1;for(const se of this.#r.values())se.disable()}}getEditors(se){const ue=[];for(const de of this.#t.values())de.pageIndex===se&&ue.push(de);return ue}getEditor(se){return this.#t.get(se)}addEditor(se){this.#t.set(se.id,se)}removeEditor(se){this.#t.delete(se.id),this.unselect(se),(!se.annotationElementId||!this.#l.has(se.annotationElementId))&&this.#o?.remove(se.id)}addDeletedAnnotationElement(se){this.#l.add(se.annotationElementId),se.deleted=!0}isDeletedAnnotationElement(se){return this.#l.has(se)}removeDeletedAnnotationElement(se){this.#l.delete(se.annotationElementId),se.deleted=!1}#W(se){const ue=this.#r.get(se.pageIndex);ue?ue.addOrRebuild(se):this.addEditor(se)}setActiveEditor(se){this.#e!==se&&(this.#e=se,se&&this.#U(se.propertiesToUpdate))}toggleSelected(se){if(this.#u.has(se)){this.#u.delete(se),se.unselect(),this.#x({hasSelectedEditor:this.hasSelection});return}this.#u.add(se),se.select(),this.#U(se.propertiesToUpdate),this.#x({hasSelectedEditor:!0})}setSelected(se){for(const ue of this.#u)ue!==se&&ue.unselect();this.#u.clear(),this.#u.add(se),se.select(),this.#U(se.propertiesToUpdate),this.#x({hasSelectedEditor:!0})}isSelected(se){return this.#u.has(se)}unselect(se){se.unselect(),this.#u.delete(se),this.#x({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#a.undo(),this.#x({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#H()})}redo(){this.#a.redo(),this.#x({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#H()})}addCommands(se){this.#a.add(se),this.#x({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#H()})}#H(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const se of this.#t.values())return se.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const se=[...this.#u],ue=()=>{for(const ce of se)ce.remove()},de=()=>{for(const ce of se)this.#W(ce)};this.addCommands({cmd:ue,undo:de,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#q(se){this.#u.clear();for(const ue of se)ue.isEmpty()||(this.#u.add(ue),ue.select());this.#x({hasSelectedEditor:!0})}selectAll(){for(const se of this.#u)se.commit();this.#q(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const se of this.#u)se.unselect();this.#u.clear(),this.#x({hasSelectedEditor:!1})}}translateSelectedEditors(se,ue,de=!1){if(de||this.commitOrRemove(),!this.hasSelection)return;this.#v[0]+=se,this.#v[1]+=ue;const[ce,be]=this.#v,Le=[...this.#u],ve=1e3;this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.#w=null,this.#v[0]=this.#v[1]=0,this.addCommands({cmd:()=>{for(const ye of Le)this.#t.has(ye.id)&&ye.translateInPage(ce,be)},undo:()=>{for(const ye of Le)this.#t.has(ye.id)&&ye.translateInPage(-ce,-be)},mustExec:!1})},ve);for(const ye of Le)ye.translateInPage(se,ue)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(const se of this.#u)this.#c.set(se,{savedX:se.x,savedY:se.y,savedPageIndex:se.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);const se=this.#c;this.#c=null;let ue=!1;for(const[{x:ce,y:be,pageIndex:Le},ve]of se)ve.newX=ce,ve.newY=be,ve.newPageIndex=Le,ue||=ce!==ve.savedX||be!==ve.savedY||Le!==ve.savedPageIndex;if(!ue)return!1;const de=(ce,be,Le,ve)=>{if(this.#t.has(ce.id)){const ye=this.#r.get(ve);ye?ce._setParentAndPosition(ye,be,Le):(ce.pageIndex=ve,ce.x=be,ce.y=Le)}};return this.addCommands({cmd:()=>{for(const[ce,{newX:be,newY:Le,newPageIndex:ve}]of se)de(ce,be,Le,ve)},undo:()=>{for(const[ce,{savedX:be,savedY:Le,savedPageIndex:ve}]of se)de(ce,be,Le,ve)},mustExec:!0}),!0}dragSelectedEditors(se,ue){if(this.#c)for(const de of this.#c.keys())de.drag(se,ue)}rebuild(se){if(se.parent===null){const ue=this.getLayer(se.pageIndex);ue?(ue.changeParent(se),ue.addOrRebuild(se)):(this.addEditor(se),this.addToAnnotationStorage(se),se.rebuild())}else se.parent.addOrRebuild(se)}isActive(se){return this.#e===se}getActive(){return this.#e}getMode(){return this.#g}get imageManager(){return(0,V.shadow)(this,"imageManager",new ie)}}T.AnnotationEditorUIManager=le},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.StatTimer=T.RenderingCancelledException=T.PixelsPerInch=T.PageViewport=T.PDFDateString=T.DOMStandardFontDataFactory=T.DOMSVGFactory=T.DOMFilterFactory=T.DOMCanvasFactory=T.DOMCMapReaderFactory=void 0,T.deprecated=Be,T.getColorValues=mt,T.getCurrentTransform=ht,T.getCurrentTransformInverse=pt,T.getFilenameFromUrl=ce,T.getPdfFilenameFromUrl=be,T.getRGB=Je,T.getXfaPageViewport=Ke,T.isDataScheme=ue,T.isPdfFile=de,T.isValidFetchUrl=ve,T.loadScript=Ae,T.noContextMenu=ye,T.setLayerDimensions=bt;var V=$(7),Y=$(1);const ee="http://www.w3.org/2000/svg";class te{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}T.PixelsPerInch=te;class J extends V.BaseFilterFactory{#e;#t;#r;#n;#o;#a;#s;#l;#c;#i;#f=0;constructor({docId:We,ownerDocument:Pe=globalThis.document}={}){super(),this.#r=We,this.#n=Pe}get#h(){return this.#e||=new Map}get#d(){if(!this.#t){const We=this.#n.createElement("div"),{style:Pe}=We;Pe.visibility="hidden",Pe.contain="strict",Pe.width=Pe.height=0,Pe.position="absolute",Pe.top=Pe.left=0,Pe.zIndex=-1;const _e=this.#n.createElementNS(ee,"svg");_e.setAttribute("width",0),_e.setAttribute("height",0),this.#t=this.#n.createElementNS(ee,"defs"),We.append(_e),_e.append(this.#t),this.#n.body.append(We)}return this.#t}addFilter(We){if(!We)return"none";let Pe=this.#h.get(We);if(Pe)return Pe;let _e,xe,ge,ke;if(We.length===1){const pe=We[0],Ce=new Array(256);for(let Re=0;Re<256;Re++)Ce[Re]=pe[Re]/255;ke=_e=xe=ge=Ce.join(",")}else{const[pe,Ce,Re]=We,De=new Array(256),Ne=new Array(256),He=new Array(256);for(let Ge=0;Ge<256;Ge++)De[Ge]=pe[Ge]/255,Ne[Ge]=Ce[Ge]/255,He[Ge]=Re[Ge]/255;_e=De.join(","),xe=Ne.join(","),ge=He.join(","),ke=`${_e}${xe}${ge}`}if(Pe=this.#h.get(ke),Pe)return this.#h.set(We,Pe),Pe;const Ee=`g_${this.#r}_transfer_map_${this.#f++}`,Me=`url(#${Ee})`;this.#h.set(We,Me),this.#h.set(ke,Me);const Oe=this.#y(Ee);return this.#g(_e,xe,ge,Oe),Me}addHCMFilter(We,Pe){const _e=`${We}-${Pe}`;if(this.#a===_e)return this.#s;if(this.#a=_e,this.#s="none",this.#o?.remove(),!We||!Pe)return this.#s;const xe=this.#u(We);We=Y.Util.makeHexColor(...xe);const ge=this.#u(Pe);if(Pe=Y.Util.makeHexColor(...ge),this.#d.style.color="",We==="#000000"&&Pe==="#ffffff"||We===Pe)return this.#s;const ke=new Array(256);for(let Ce=0;Ce<=255;Ce++){const Re=Ce/255;ke[Ce]=Re<=.03928?Re/12.92:((Re+.055)/1.055)**2.4}const Ee=ke.join(","),Me=`g_${this.#r}_hcm_filter`,Oe=this.#l=this.#y(Me);this.#g(Ee,Ee,Ee,Oe),this.#p(Oe);const pe=(Ce,Re)=>{const De=xe[Ce]/255,Ne=ge[Ce]/255,He=new Array(Re+1);for(let Ge=0;Ge<=Re;Ge++)He[Ge]=De+Ge/Re*(Ne-De);return He.join(",")};return this.#g(pe(0,5),pe(1,5),pe(2,5),Oe),this.#s=`url(#${Me})`,this.#s}addHighlightHCMFilter(We,Pe,_e,xe){const ge=`${We}-${Pe}-${_e}-${xe}`;if(this.#c===ge)return this.#i;if(this.#c=ge,this.#i="none",this.#l?.remove(),!We||!Pe)return this.#i;const[ke,Ee]=[We,Pe].map(this.#u.bind(this));let Me=Math.round(.2126*ke[0]+.7152*ke[1]+.0722*ke[2]),Oe=Math.round(.2126*Ee[0]+.7152*Ee[1]+.0722*Ee[2]),[pe,Ce]=[_e,xe].map(this.#u.bind(this));Oe<Me&&([Me,Oe,pe,Ce]=[Oe,Me,Ce,pe]),this.#d.style.color="";const Re=(He,Ge,it)=>{const ut=new Array(256),tt=(Oe-Me)/it,lt=He/255,ot=(Ge-He)/(255*it);let dt=0;for(let vt=0;vt<=it;vt++){const St=Math.round(Me+vt*tt),Tt=lt+vt*ot;for(let $t=dt;$t<=St;$t++)ut[$t]=Tt;dt=St+1}for(let vt=dt;vt<256;vt++)ut[vt]=ut[dt-1];return ut.join(",")},De=`g_${this.#r}_hcm_highlight_filter`,Ne=this.#l=this.#y(De);return this.#p(Ne),this.#g(Re(pe[0],Ce[0],5),Re(pe[1],Ce[1],5),Re(pe[2],Ce[2],5),Ne),this.#i=`url(#${De})`,this.#i}destroy(We=!1){We&&(this.#s||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(We){const Pe=this.#n.createElementNS(ee,"feColorMatrix");Pe.setAttribute("type","matrix"),Pe.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),We.append(Pe)}#y(We){const Pe=this.#n.createElementNS(ee,"filter");return Pe.setAttribute("color-interpolation-filters","sRGB"),Pe.setAttribute("id",We),this.#d.append(Pe),Pe}#m(We,Pe,_e){const xe=this.#n.createElementNS(ee,Pe);xe.setAttribute("type","discrete"),xe.setAttribute("tableValues",_e),We.append(xe)}#g(We,Pe,_e,xe){const ge=this.#n.createElementNS(ee,"feComponentTransfer");xe.append(ge),this.#m(ge,"feFuncR",We),this.#m(ge,"feFuncG",Pe),this.#m(ge,"feFuncB",_e)}#u(We){return this.#d.style.color=We,Je(getComputedStyle(this.#d).getPropertyValue("color"))}}T.DOMFilterFactory=J;class ie extends V.BaseCanvasFactory{constructor({ownerDocument:We=globalThis.document}={}){super(),this._document=We}_createCanvas(We,Pe){const _e=this._document.createElement("canvas");return _e.width=We,_e.height=Pe,_e}}T.DOMCanvasFactory=ie;async function K(ct,We=!1){if(ve(ct,document.baseURI)){const Pe=await fetch(ct);if(!Pe.ok)throw new Error(Pe.statusText);return We?new Uint8Array(await Pe.arrayBuffer()):(0,Y.stringToBytes)(await Pe.text())}return new Promise((Pe,_e)=>{const xe=new XMLHttpRequest;xe.open("GET",ct,!0),We&&(xe.responseType="arraybuffer"),xe.onreadystatechange=()=>{if(xe.readyState===XMLHttpRequest.DONE){if(xe.status===200||xe.status===0){let ge;if(We&&xe.response?ge=new Uint8Array(xe.response):!We&&xe.responseText&&(ge=(0,Y.stringToBytes)(xe.responseText)),ge){Pe(ge);return}}_e(new Error(xe.statusText))}},xe.send(null)})}class re extends V.BaseCMapReaderFactory{_fetchData(We,Pe){return K(We,this.isCompressed).then(_e=>({cMapData:_e,compressionType:Pe}))}}T.DOMCMapReaderFactory=re;class ne extends V.BaseStandardFontDataFactory{_fetchData(We){return K(We,!0)}}T.DOMStandardFontDataFactory=ne;class le extends V.BaseSVGFactory{_createSVG(We){return document.createElementNS(ee,We)}}T.DOMSVGFactory=le;class ae{constructor({viewBox:We,scale:Pe,rotation:_e,offsetX:xe=0,offsetY:ge=0,dontFlip:ke=!1}){this.viewBox=We,this.scale=Pe,this.rotation=_e,this.offsetX=xe,this.offsetY=ge;const Ee=(We[2]+We[0])/2,Me=(We[3]+We[1])/2;let Oe,pe,Ce,Re;switch(_e%=360,_e<0&&(_e+=360),_e){case 180:Oe=-1,pe=0,Ce=0,Re=1;break;case 90:Oe=0,pe=1,Ce=1,Re=0;break;case 270:Oe=0,pe=-1,Ce=-1,Re=0;break;case 0:Oe=1,pe=0,Ce=0,Re=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ke&&(Ce=-Ce,Re=-Re);let De,Ne,He,Ge;Oe===0?(De=Math.abs(Me-We[1])*Pe+xe,Ne=Math.abs(Ee-We[0])*Pe+ge,He=(We[3]-We[1])*Pe,Ge=(We[2]-We[0])*Pe):(De=Math.abs(Ee-We[0])*Pe+xe,Ne=Math.abs(Me-We[1])*Pe+ge,He=(We[2]-We[0])*Pe,Ge=(We[3]-We[1])*Pe),this.transform=[Oe*Pe,pe*Pe,Ce*Pe,Re*Pe,De-Oe*Pe*Ee-Ce*Pe*Me,Ne-pe*Pe*Ee-Re*Pe*Me],this.width=He,this.height=Ge}get rawDims(){const{viewBox:We}=this;return(0,Y.shadow)(this,"rawDims",{pageWidth:We[2]-We[0],pageHeight:We[3]-We[1],pageX:We[0],pageY:We[1]})}clone({scale:We=this.scale,rotation:Pe=this.rotation,offsetX:_e=this.offsetX,offsetY:xe=this.offsetY,dontFlip:ge=!1}={}){return new ae({viewBox:this.viewBox.slice(),scale:We,rotation:Pe,offsetX:_e,offsetY:xe,dontFlip:ge})}convertToViewportPoint(We,Pe){return Y.Util.applyTransform([We,Pe],this.transform)}convertToViewportRectangle(We){const Pe=Y.Util.applyTransform([We[0],We[1]],this.transform),_e=Y.Util.applyTransform([We[2],We[3]],this.transform);return[Pe[0],Pe[1],_e[0],_e[1]]}convertToPdfPoint(We,Pe){return Y.Util.applyInverseTransform([We,Pe],this.transform)}}T.PageViewport=ae;class se extends Y.BaseException{constructor(We,Pe=0){super(We,"RenderingCancelledException"),this.extraDelay=Pe}}T.RenderingCancelledException=se;function ue(ct){const We=ct.length;let Pe=0;for(;Pe<We&&ct[Pe].trim()==="";)Pe++;return ct.substring(Pe,Pe+5).toLowerCase()==="data:"}function de(ct){return typeof ct=="string"&&/\.pdf$/i.test(ct)}function ce(ct,We=!1){return We||([ct]=ct.split(/[#?]/,1)),ct.substring(ct.lastIndexOf("/")+1)}function be(ct,We="document.pdf"){if(typeof ct!="string")return We;if(ue(ct))return(0,Y.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),We;const Pe=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,_e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,xe=Pe.exec(ct);let ge=_e.exec(xe[1])||_e.exec(xe[2])||_e.exec(xe[3]);if(ge&&(ge=ge[0],ge.includes("%")))try{ge=_e.exec(decodeURIComponent(ge))[0]}catch{}return ge||We}class Le{started=Object.create(null);times=[];time(We){We in this.started&&(0,Y.warn)(`Timer is already running for ${We}`),this.started[We]=Date.now()}timeEnd(We){We in this.started||(0,Y.warn)(`Timer has not been started for ${We}`),this.times.push({name:We,start:this.started[We],end:Date.now()}),delete this.started[We]}toString(){const We=[];let Pe=0;for(const{name:_e}of this.times)Pe=Math.max(_e.length,Pe);for(const{name:_e,start:xe,end:ge}of this.times)We.push(`${_e.padEnd(Pe)} ${ge-xe}ms
`);return We.join("")}}T.StatTimer=Le;function ve(ct,We){try{const{protocol:Pe}=We?new URL(ct,We):new URL(ct);return Pe==="http:"||Pe==="https:"}catch{return!1}}function ye(ct){ct.preventDefault()}function Ae(ct,We=!1){return new Promise((Pe,_e)=>{const xe=document.createElement("script");xe.src=ct,xe.onload=function(ge){We&&xe.remove(),Pe(ge)},xe.onerror=function(){_e(new Error(`Cannot load script at: ${xe.src}`))},(document.head||document.documentElement).append(xe)})}function Be(ct){console.log("Deprecated API usage: "+ct)}let qe;class Ue{static toDateObject(We){if(!We||typeof We!="string")return null;qe||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const Pe=qe.exec(We);if(!Pe)return null;const _e=parseInt(Pe[1],10);let xe=parseInt(Pe[2],10);xe=xe>=1&&xe<=12?xe-1:0;let ge=parseInt(Pe[3],10);ge=ge>=1&&ge<=31?ge:1;let ke=parseInt(Pe[4],10);ke=ke>=0&&ke<=23?ke:0;let Ee=parseInt(Pe[5],10);Ee=Ee>=0&&Ee<=59?Ee:0;let Me=parseInt(Pe[6],10);Me=Me>=0&&Me<=59?Me:0;const Oe=Pe[7]||"Z";let pe=parseInt(Pe[8],10);pe=pe>=0&&pe<=23?pe:0;let Ce=parseInt(Pe[9],10)||0;return Ce=Ce>=0&&Ce<=59?Ce:0,Oe==="-"?(ke+=pe,Ee+=Ce):Oe==="+"&&(ke-=pe,Ee-=Ce),new Date(Date.UTC(_e,xe,ge,ke,Ee,Me))}}T.PDFDateString=Ue;function Ke(ct,{scale:We=1,rotation:Pe=0}){const{width:_e,height:xe}=ct.attributes.style,ge=[0,0,parseInt(_e),parseInt(xe)];return new ae({viewBox:ge,scale:We,rotation:Pe})}function Je(ct){if(ct.startsWith("#")){const We=parseInt(ct.slice(1),16);return[(We&16711680)>>16,(We&65280)>>8,We&255]}return ct.startsWith("rgb(")?ct.slice(4,-1).split(",").map(We=>parseInt(We)):ct.startsWith("rgba(")?ct.slice(5,-1).split(",").map(We=>parseInt(We)).slice(0,3):((0,Y.warn)(`Not a valid color format: "${ct}"`),[0,0,0])}function mt(ct){const We=document.createElement("span");We.style.visibility="hidden",document.body.append(We);for(const Pe of ct.keys()){We.style.color=Pe;const _e=window.getComputedStyle(We).color;ct.set(Pe,Je(_e))}We.remove()}function ht(ct){const{a:We,b:Pe,c:_e,d:xe,e:ge,f:ke}=ct.getTransform();return[We,Pe,_e,xe,ge,ke]}function pt(ct){const{a:We,b:Pe,c:_e,d:xe,e:ge,f:ke}=ct.getTransform().invertSelf();return[We,Pe,_e,xe,ge,ke]}function bt(ct,We,Pe=!1,_e=!0){if(We instanceof ae){const{pageWidth:xe,pageHeight:ge}=We.rawDims,{style:ke}=ct,Ee=Y.FeatureTest.isCSSRoundSupported,Me=`var(--scale-factor) * ${xe}px`,Oe=`var(--scale-factor) * ${ge}px`,pe=Ee?`round(${Me}, 1px)`:`calc(${Me})`,Ce=Ee?`round(${Oe}, 1px)`:`calc(${Oe})`;!Pe||We.rotation%180===0?(ke.width=pe,ke.height=Ce):(ke.width=Ce,ke.height=pe)}_e&&ct.setAttribute("data-main-rotation",We.rotation)}},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.BaseStandardFontDataFactory=T.BaseSVGFactory=T.BaseFilterFactory=T.BaseCanvasFactory=T.BaseCMapReaderFactory=void 0;var V=$(1);class Y{constructor(){this.constructor===Y&&(0,V.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(re){return"none"}addHCMFilter(re,ne){return"none"}addHighlightHCMFilter(re,ne,le,ae){return"none"}destroy(re=!1){}}T.BaseFilterFactory=Y;class ee{constructor(){this.constructor===ee&&(0,V.unreachable)("Cannot initialize BaseCanvasFactory.")}create(re,ne){if(re<=0||ne<=0)throw new Error("Invalid canvas size");const le=this._createCanvas(re,ne);return{canvas:le,context:le.getContext("2d")}}reset(re,ne,le){if(!re.canvas)throw new Error("Canvas is not specified");if(ne<=0||le<=0)throw new Error("Invalid canvas size");re.canvas.width=ne,re.canvas.height=le}destroy(re){if(!re.canvas)throw new Error("Canvas is not specified");re.canvas.width=0,re.canvas.height=0,re.canvas=null,re.context=null}_createCanvas(re,ne){(0,V.unreachable)("Abstract method `_createCanvas` called.")}}T.BaseCanvasFactory=ee;class te{constructor({baseUrl:re=null,isCompressed:ne=!0}){this.constructor===te&&(0,V.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=re,this.isCompressed=ne}async fetch({name:re}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!re)throw new Error("CMap name must be specified.");const ne=this.baseUrl+re+(this.isCompressed?".bcmap":""),le=this.isCompressed?V.CMapCompressionType.BINARY:V.CMapCompressionType.NONE;return this._fetchData(ne,le).catch(ae=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ne}`)})}_fetchData(re,ne){(0,V.unreachable)("Abstract method `_fetchData` called.")}}T.BaseCMapReaderFactory=te;class J{constructor({baseUrl:re=null}){this.constructor===J&&(0,V.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=re}async fetch({filename:re}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!re)throw new Error("Font filename must be specified.");const ne=`${this.baseUrl}${re}`;return this._fetchData(ne).catch(le=>{throw new Error(`Unable to load font data at: ${ne}`)})}_fetchData(re){(0,V.unreachable)("Abstract method `_fetchData` called.")}}T.BaseStandardFontDataFactory=J;class ie{constructor(){this.constructor===ie&&(0,V.unreachable)("Cannot initialize BaseSVGFactory.")}create(re,ne,le=!1){if(re<=0||ne<=0)throw new Error("Invalid SVG dimensions");const ae=this._createSVG("svg:svg");return ae.setAttribute("version","1.1"),le||(ae.setAttribute("width",`${re}px`),ae.setAttribute("height",`${ne}px`)),ae.setAttribute("preserveAspectRatio","none"),ae.setAttribute("viewBox",`0 0 ${re} ${ne}`),ae}createElement(re){if(typeof re!="string")throw new Error("Invalid SVG element type");return this._createSVG(re)}_createSVG(re){(0,V.unreachable)("Abstract method `_createSVG` called.")}}T.BaseSVGFactory=ie},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.MurmurHash3_64=void 0;var V=$(1);const Y=3285377520,ee=4294901760,te=65535;class J{constructor(K){this.h1=K?K&4294967295:Y,this.h2=K?K&4294967295:Y}update(K){let re,ne;if(typeof K=="string"){re=new Uint8Array(K.length*2),ne=0;for(let Be=0,qe=K.length;Be<qe;Be++){const Ue=K.charCodeAt(Be);Ue<=255?re[ne++]=Ue:(re[ne++]=Ue>>>8,re[ne++]=Ue&255)}}else if((0,V.isArrayBuffer)(K))re=K.slice(),ne=re.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const le=ne>>2,ae=ne-le*4,se=new Uint32Array(re.buffer,0,le);let ue=0,de=0,ce=this.h1,be=this.h2;const Le=3432918353,ve=461845907,ye=Le&te,Ae=ve&te;for(let Be=0;Be<le;Be++)Be&1?(ue=se[Be],ue=ue*Le&ee|ue*ye&te,ue=ue<<15|ue>>>17,ue=ue*ve&ee|ue*Ae&te,ce^=ue,ce=ce<<13|ce>>>19,ce=ce*5+3864292196):(de=se[Be],de=de*Le&ee|de*ye&te,de=de<<15|de>>>17,de=de*ve&ee|de*Ae&te,be^=de,be=be<<13|be>>>19,be=be*5+3864292196);switch(ue=0,ae){case 3:ue^=re[le*4+2]<<16;case 2:ue^=re[le*4+1]<<8;case 1:ue^=re[le*4],ue=ue*Le&ee|ue*ye&te,ue=ue<<15|ue>>>17,ue=ue*ve&ee|ue*Ae&te,le&1?ce^=ue:be^=ue}this.h1=ce,this.h2=be}hexdigest(){let K=this.h1,re=this.h2;return K^=re>>>1,K=K*3981806797&ee|K*36045&te,re=re*4283543511&ee|((re<<16|K>>>16)*2950163797&ee)>>>16,K^=re>>>1,K=K*444984403&ee|K*60499&te,re=re*3301882366&ee|((re<<16|K>>>16)*3120437893&ee)>>>16,K^=re>>>1,(K>>>0).toString(16).padStart(8,"0")+(re>>>0).toString(16).padStart(8,"0")}}T.MurmurHash3_64=J},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.FontLoader=T.FontFaceObject=void 0;var V=$(1);class Y{#e=new Set;constructor({ownerDocument:J=globalThis.document,styleElement:ie=null}){this._document=J,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(J){this.nativeFontFaces.add(J),this._document.fonts.add(J)}removeNativeFontFace(J){this.nativeFontFaces.delete(J),this._document.fonts.delete(J)}insertRule(J){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ie=this.styleElement.sheet;ie.insertRule(J,ie.cssRules.length)}clear(){for(const J of this.nativeFontFaces)this._document.fonts.delete(J);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(J){if(!(!J||this.#e.has(J.loadedName))){if((0,V.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:ie,src:K,style:re}=J,ne=new FontFace(ie,K,re);this.addNativeFontFace(ne);try{await ne.load(),this.#e.add(ie)}catch{(0,V.warn)(`Cannot load system font: ${J.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ne)}return}(0,V.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(J){if(J.attached||J.missingFile&&!J.systemFontInfo)return;if(J.attached=!0,J.systemFontInfo){await this.loadSystemFont(J.systemFontInfo);return}if(this.isFontLoadingAPISupported){const K=J.createNativeFontFace();if(K){this.addNativeFontFace(K);try{await K.loaded}catch(re){throw(0,V.warn)(`Failed to load font '${K.family}': '${re}'.`),J.disableFontFace=!0,re}}return}const ie=J.createFontFaceRule();if(ie){if(this.insertRule(ie),this.isSyncFontLoadingSupported)return;await new Promise(K=>{const re=this._queueLoadingCallback(K);this._prepareFontLoadEvent(J,re)})}}get isFontLoadingAPISupported(){const J=!!this._document?.fonts;return(0,V.shadow)(this,"isFontLoadingAPISupported",J)}get isSyncFontLoadingSupported(){let J=!1;return(V.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(J=!0),(0,V.shadow)(this,"isSyncFontLoadingSupported",J)}_queueLoadingCallback(J){function ie(){for((0,V.assert)(!re.done,"completeRequest() cannot be called twice."),re.done=!0;K.length>0&&K[0].done;){const ne=K.shift();setTimeout(ne.callback,0)}}const{loadingRequests:K}=this,re={done:!1,complete:ie,callback:J};return K.push(re),re}get _loadTestFont(){const J=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,V.shadow)(this,"_loadTestFont",J)}_prepareFontLoadEvent(J,ie){function K(Ke,Je){return Ke.charCodeAt(Je)<<24|Ke.charCodeAt(Je+1)<<16|Ke.charCodeAt(Je+2)<<8|Ke.charCodeAt(Je+3)&255}function re(Ke,Je,mt,ht){const pt=Ke.substring(0,Je),bt=Ke.substring(Je+mt);return pt+ht+bt}let ne,le;const ae=this._document.createElement("canvas");ae.width=1,ae.height=1;const se=ae.getContext("2d");let ue=0;function de(Ke,Je){if(++ue>30){(0,V.warn)("Load test font never loaded."),Je();return}if(se.font="30px "+Ke,se.fillText(".",0,20),se.getImageData(0,0,1,1).data[3]>0){Je();return}setTimeout(de.bind(null,Ke,Je))}const ce=`lt${Date.now()}${this.loadTestFontId++}`;let be=this._loadTestFont;be=re(be,976,ce.length,ce);const ve=16,ye=1482184792;let Ae=K(be,ve);for(ne=0,le=ce.length-3;ne<le;ne+=4)Ae=Ae-ye+K(ce,ne)|0;ne<ce.length&&(Ae=Ae-ye+K(ce+"XXX",ne)|0),be=re(be,ve,4,(0,V.string32)(Ae));const Be=`url(data:font/opentype;base64,${btoa(be)});`,qe=`@font-face {font-family:"${ce}";src:${Be}}`;this.insertRule(qe);const Ue=this._document.createElement("div");Ue.style.visibility="hidden",Ue.style.width=Ue.style.height="10px",Ue.style.position="absolute",Ue.style.top=Ue.style.left="0px";for(const Ke of[J.loadedName,ce]){const Je=this._document.createElement("span");Je.textContent="Hi",Je.style.fontFamily=Ke,Ue.append(Je)}this._document.body.append(Ue),de(ce,()=>{Ue.remove(),ie.complete()})}}T.FontLoader=Y;class ee{constructor(J,{isEvalSupported:ie=!0,disableFontFace:K=!1,ignoreErrors:re=!1,inspectFont:ne=null}){this.compiledGlyphs=Object.create(null);for(const le in J)this[le]=J[le];this.isEvalSupported=ie!==!1,this.disableFontFace=K===!0,this.ignoreErrors=re===!0,this._inspectFont=ne}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let J;if(!this.cssFontInfo)J=new FontFace(this.loadedName,this.data,{});else{const ie={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ie.style=`oblique ${this.cssFontInfo.italicAngle}deg`),J=new FontFace(this.cssFontInfo.fontFamily,this.data,ie)}return this._inspectFont?.(this),J}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const J=(0,V.bytesToString)(this.data),ie=`url(data:${this.mimetype};base64,${btoa(J)});`;let K;if(!this.cssFontInfo)K=`@font-face {font-family:"${this.loadedName}";src:${ie}}`;else{let re=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(re+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),K=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${re}src:${ie}}`}return this._inspectFont?.(this,ie),K}getPathGenerator(J,ie){if(this.compiledGlyphs[ie]!==void 0)return this.compiledGlyphs[ie];let K;try{K=J.get(this.loadedName+"_path_"+ie)}catch(re){if(!this.ignoreErrors)throw re;return(0,V.warn)(`getPathGenerator - ignoring character: "${re}".`),this.compiledGlyphs[ie]=function(ne,le){}}if(this.isEvalSupported&&V.FeatureTest.isEvalSupported){const re=[];for(const ne of K){const le=ne.args!==void 0?ne.args.join(","):"";re.push("c.",ne.cmd,"(",le,`);
`)}return this.compiledGlyphs[ie]=new Function("c","size",re.join(""))}return this.compiledGlyphs[ie]=function(re,ne){for(const le of K)le.cmd==="scale"&&(le.args=[ne,-ne]),re[le.cmd].apply(re,le.args)}}}T.FontFaceObject=ee},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.NodeStandardFontDataFactory=T.NodeFilterFactory=T.NodeCanvasFactory=T.NodeCMapReaderFactory=void 0;var V=$(7);$(1);const Y=function(K){return new Promise((re,ne)=>{require$$5.readFile(K,(ae,se)=>{if(ae||!se){ne(new Error(ae));return}re(new Uint8Array(se))})})};class ee extends V.BaseFilterFactory{}T.NodeFilterFactory=ee;class te extends V.BaseCanvasFactory{_createCanvas(re,ne){return require$$5.createCanvas(re,ne)}}T.NodeCanvasFactory=te;class J extends V.BaseCMapReaderFactory{_fetchData(re,ne){return Y(re).then(le=>({cMapData:le,compressionType:ne}))}}T.NodeCMapReaderFactory=J;class ie extends V.BaseStandardFontDataFactory{_fetchData(re){return Y(re)}}T.NodeStandardFontDataFactory=ie},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.CanvasGraphics=void 0;var V=$(1),Y=$(6),ee=$(12),te=$(13);const J=16,ie=100,K=4096,re=15,ne=10,le=1e3,ae=16;function se(Pe,_e){if(Pe._removeMirroring)throw new Error("Context is already forwarding operations.");Pe.__originalSave=Pe.save,Pe.__originalRestore=Pe.restore,Pe.__originalRotate=Pe.rotate,Pe.__originalScale=Pe.scale,Pe.__originalTranslate=Pe.translate,Pe.__originalTransform=Pe.transform,Pe.__originalSetTransform=Pe.setTransform,Pe.__originalResetTransform=Pe.resetTransform,Pe.__originalClip=Pe.clip,Pe.__originalMoveTo=Pe.moveTo,Pe.__originalLineTo=Pe.lineTo,Pe.__originalBezierCurveTo=Pe.bezierCurveTo,Pe.__originalRect=Pe.rect,Pe.__originalClosePath=Pe.closePath,Pe.__originalBeginPath=Pe.beginPath,Pe._removeMirroring=()=>{Pe.save=Pe.__originalSave,Pe.restore=Pe.__originalRestore,Pe.rotate=Pe.__originalRotate,Pe.scale=Pe.__originalScale,Pe.translate=Pe.__originalTranslate,Pe.transform=Pe.__originalTransform,Pe.setTransform=Pe.__originalSetTransform,Pe.resetTransform=Pe.__originalResetTransform,Pe.clip=Pe.__originalClip,Pe.moveTo=Pe.__originalMoveTo,Pe.lineTo=Pe.__originalLineTo,Pe.bezierCurveTo=Pe.__originalBezierCurveTo,Pe.rect=Pe.__originalRect,Pe.closePath=Pe.__originalClosePath,Pe.beginPath=Pe.__originalBeginPath,delete Pe._removeMirroring},Pe.save=function(){_e.save(),this.__originalSave()},Pe.restore=function(){_e.restore(),this.__originalRestore()},Pe.translate=function(ge,ke){_e.translate(ge,ke),this.__originalTranslate(ge,ke)},Pe.scale=function(ge,ke){_e.scale(ge,ke),this.__originalScale(ge,ke)},Pe.transform=function(ge,ke,Ee,Me,Oe,pe){_e.transform(ge,ke,Ee,Me,Oe,pe),this.__originalTransform(ge,ke,Ee,Me,Oe,pe)},Pe.setTransform=function(ge,ke,Ee,Me,Oe,pe){_e.setTransform(ge,ke,Ee,Me,Oe,pe),this.__originalSetTransform(ge,ke,Ee,Me,Oe,pe)},Pe.resetTransform=function(){_e.resetTransform(),this.__originalResetTransform()},Pe.rotate=function(ge){_e.rotate(ge),this.__originalRotate(ge)},Pe.clip=function(ge){_e.clip(ge),this.__originalClip(ge)},Pe.moveTo=function(xe,ge){_e.moveTo(xe,ge),this.__originalMoveTo(xe,ge)},Pe.lineTo=function(xe,ge){_e.lineTo(xe,ge),this.__originalLineTo(xe,ge)},Pe.bezierCurveTo=function(xe,ge,ke,Ee,Me,Oe){_e.bezierCurveTo(xe,ge,ke,Ee,Me,Oe),this.__originalBezierCurveTo(xe,ge,ke,Ee,Me,Oe)},Pe.rect=function(xe,ge,ke,Ee){_e.rect(xe,ge,ke,Ee),this.__originalRect(xe,ge,ke,Ee)},Pe.closePath=function(){_e.closePath(),this.__originalClosePath()},Pe.beginPath=function(){_e.beginPath(),this.__originalBeginPath()}}class ue{constructor(_e){this.canvasFactory=_e,this.cache=Object.create(null)}getCanvas(_e,xe,ge){let ke;return this.cache[_e]!==void 0?(ke=this.cache[_e],this.canvasFactory.reset(ke,xe,ge)):(ke=this.canvasFactory.create(xe,ge),this.cache[_e]=ke),ke}delete(_e){delete this.cache[_e]}clear(){for(const _e in this.cache){const xe=this.cache[_e];this.canvasFactory.destroy(xe),delete this.cache[_e]}}}function de(Pe,_e,xe,ge,ke,Ee,Me,Oe,pe,Ce){const[Re,De,Ne,He,Ge,it]=(0,Y.getCurrentTransform)(Pe);if(De===0&&Ne===0){const lt=Me*Re+Ge,ot=Math.round(lt),dt=Oe*He+it,vt=Math.round(dt),St=(Me+pe)*Re+Ge,Tt=Math.abs(Math.round(St)-ot)||1,$t=(Oe+Ce)*He+it,It=Math.abs(Math.round($t)-vt)||1;return Pe.setTransform(Math.sign(Re),0,0,Math.sign(He),ot,vt),Pe.drawImage(_e,xe,ge,ke,Ee,0,0,Tt,It),Pe.setTransform(Re,De,Ne,He,Ge,it),[Tt,It]}if(Re===0&&He===0){const lt=Oe*Ne+Ge,ot=Math.round(lt),dt=Me*De+it,vt=Math.round(dt),St=(Oe+Ce)*Ne+Ge,Tt=Math.abs(Math.round(St)-ot)||1,$t=(Me+pe)*De+it,It=Math.abs(Math.round($t)-vt)||1;return Pe.setTransform(0,Math.sign(De),Math.sign(Ne),0,ot,vt),Pe.drawImage(_e,xe,ge,ke,Ee,0,0,It,Tt),Pe.setTransform(Re,De,Ne,He,Ge,it),[It,Tt]}Pe.drawImage(_e,xe,ge,ke,Ee,Me,Oe,pe,Ce);const ut=Math.hypot(Re,De),tt=Math.hypot(Ne,He);return[ut*pe,tt*Ce]}function ce(Pe){const{width:_e,height:xe}=Pe;if(_e>le||xe>le)return null;const ge=1e3,ke=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ee=_e+1;let Me=new Uint8Array(Ee*(xe+1)),Oe,pe,Ce;const Re=_e+7&-8;let De=new Uint8Array(Re*xe),Ne=0;for(const tt of Pe.data){let lt=128;for(;lt>0;)De[Ne++]=tt&lt?0:255,lt>>=1}let He=0;for(Ne=0,De[Ne]!==0&&(Me[0]=1,++He),pe=1;pe<_e;pe++)De[Ne]!==De[Ne+1]&&(Me[pe]=De[Ne]?2:1,++He),Ne++;for(De[Ne]!==0&&(Me[pe]=2,++He),Oe=1;Oe<xe;Oe++){Ne=Oe*Re,Ce=Oe*Ee,De[Ne-Re]!==De[Ne]&&(Me[Ce]=De[Ne]?1:8,++He);let tt=(De[Ne]?4:0)+(De[Ne-Re]?8:0);for(pe=1;pe<_e;pe++)tt=(tt>>2)+(De[Ne+1]?4:0)+(De[Ne-Re+1]?8:0),ke[tt]&&(Me[Ce+pe]=ke[tt],++He),Ne++;if(De[Ne-Re]!==De[Ne]&&(Me[Ce+pe]=De[Ne]?2:4,++He),He>ge)return null}for(Ne=Re*(xe-1),Ce=Oe*Ee,De[Ne]!==0&&(Me[Ce]=8,++He),pe=1;pe<_e;pe++)De[Ne]!==De[Ne+1]&&(Me[Ce+pe]=De[Ne]?4:8,++He),Ne++;if(De[Ne]!==0&&(Me[Ce+pe]=4,++He),He>ge)return null;const Ge=new Int32Array([0,Ee,-1,0,-Ee,0,0,0,1]),it=new Path2D;for(Oe=0;He&&Oe<=xe;Oe++){let tt=Oe*Ee;const lt=tt+_e;for(;tt<lt&&!Me[tt];)tt++;if(tt===lt)continue;it.moveTo(tt%Ee,Oe);const ot=tt;let dt=Me[tt];do{const vt=Ge[dt];do tt+=vt;while(!Me[tt]);const St=Me[tt];St!==5&&St!==10?(dt=St,Me[tt]=0):(dt=St&51*dt>>4,Me[tt]&=dt>>2|dt<<2),it.lineTo(tt%Ee,tt/Ee|0),Me[tt]||--He}while(ot!==tt);--Oe}return De=null,Me=null,function(tt){tt.save(),tt.scale(1/_e,-1/xe),tt.translate(0,-xe),tt.fill(it),tt.beginPath(),tt.restore()}}class be{constructor(_e,xe){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=V.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=V.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=V.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,_e,xe])}clone(){const _e=Object.create(this);return _e.clipBox=this.clipBox.slice(),_e}setCurrentPoint(_e,xe){this.x=_e,this.y=xe}updatePathMinMax(_e,xe,ge){[xe,ge]=V.Util.applyTransform([xe,ge],_e),this.minX=Math.min(this.minX,xe),this.minY=Math.min(this.minY,ge),this.maxX=Math.max(this.maxX,xe),this.maxY=Math.max(this.maxY,ge)}updateRectMinMax(_e,xe){const ge=V.Util.applyTransform(xe,_e),ke=V.Util.applyTransform(xe.slice(2),_e);this.minX=Math.min(this.minX,ge[0],ke[0]),this.minY=Math.min(this.minY,ge[1],ke[1]),this.maxX=Math.max(this.maxX,ge[0],ke[0]),this.maxY=Math.max(this.maxY,ge[1],ke[1])}updateScalingPathMinMax(_e,xe){V.Util.scaleMinMax(_e,xe),this.minX=Math.min(this.minX,xe[0]),this.maxX=Math.max(this.maxX,xe[1]),this.minY=Math.min(this.minY,xe[2]),this.maxY=Math.max(this.maxY,xe[3])}updateCurvePathMinMax(_e,xe,ge,ke,Ee,Me,Oe,pe,Ce,Re){const De=V.Util.bezierBoundingBox(xe,ge,ke,Ee,Me,Oe,pe,Ce);if(Re){Re[0]=Math.min(Re[0],De[0],De[2]),Re[1]=Math.max(Re[1],De[0],De[2]),Re[2]=Math.min(Re[2],De[1],De[3]),Re[3]=Math.max(Re[3],De[1],De[3]);return}this.updateRectMinMax(_e,De)}getPathBoundingBox(_e=ee.PathType.FILL,xe=null){const ge=[this.minX,this.minY,this.maxX,this.maxY];if(_e===ee.PathType.STROKE){xe||(0,V.unreachable)("Stroke bounding box must include transform.");const ke=V.Util.singularValueDecompose2dScale(xe),Ee=ke[0]*this.lineWidth/2,Me=ke[1]*this.lineWidth/2;ge[0]-=Ee,ge[1]-=Me,ge[2]+=Ee,ge[3]+=Me}return ge}updateClipFromPath(){const _e=V.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(_e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(_e){this.clipBox=_e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(_e=ee.PathType.FILL,xe=null){return V.Util.intersect(this.clipBox,this.getPathBoundingBox(_e,xe))}}function Le(Pe,_e){if(typeof ImageData<"u"&&_e instanceof ImageData){Pe.putImageData(_e,0,0);return}const xe=_e.height,ge=_e.width,ke=xe%ae,Ee=(xe-ke)/ae,Me=ke===0?Ee:Ee+1,Oe=Pe.createImageData(ge,ae);let pe=0,Ce;const Re=_e.data,De=Oe.data;let Ne,He,Ge,it;if(_e.kind===V.ImageKind.GRAYSCALE_1BPP){const ut=Re.byteLength,tt=new Uint32Array(De.buffer,0,De.byteLength>>2),lt=tt.length,ot=ge+7>>3,dt=4294967295,vt=V.FeatureTest.isLittleEndian?4278190080:255;for(Ne=0;Ne<Me;Ne++){for(Ge=Ne<Ee?ae:ke,Ce=0,He=0;He<Ge;He++){const St=ut-pe;let Tt=0;const $t=St>ot?ge:St*8-7,It=$t&-8;let qt=0,Vt=0;for(;Tt<It;Tt+=8)Vt=Re[pe++],tt[Ce++]=Vt&128?dt:vt,tt[Ce++]=Vt&64?dt:vt,tt[Ce++]=Vt&32?dt:vt,tt[Ce++]=Vt&16?dt:vt,tt[Ce++]=Vt&8?dt:vt,tt[Ce++]=Vt&4?dt:vt,tt[Ce++]=Vt&2?dt:vt,tt[Ce++]=Vt&1?dt:vt;for(;Tt<$t;Tt++)qt===0&&(Vt=Re[pe++],qt=128),tt[Ce++]=Vt&qt?dt:vt,qt>>=1}for(;Ce<lt;)tt[Ce++]=0;Pe.putImageData(Oe,0,Ne*ae)}}else if(_e.kind===V.ImageKind.RGBA_32BPP){for(He=0,it=ge*ae*4,Ne=0;Ne<Ee;Ne++)De.set(Re.subarray(pe,pe+it)),pe+=it,Pe.putImageData(Oe,0,He),He+=ae;Ne<Me&&(it=ge*ke*4,De.set(Re.subarray(pe,pe+it)),Pe.putImageData(Oe,0,He))}else if(_e.kind===V.ImageKind.RGB_24BPP)for(Ge=ae,it=ge*Ge,Ne=0;Ne<Me;Ne++){for(Ne>=Ee&&(Ge=ke,it=ge*Ge),Ce=0,He=it;He--;)De[Ce++]=Re[pe++],De[Ce++]=Re[pe++],De[Ce++]=Re[pe++],De[Ce++]=255;Pe.putImageData(Oe,0,Ne*ae)}else throw new Error(`bad image kind: ${_e.kind}`)}function ve(Pe,_e){if(_e.bitmap){Pe.drawImage(_e.bitmap,0,0);return}const xe=_e.height,ge=_e.width,ke=xe%ae,Ee=(xe-ke)/ae,Me=ke===0?Ee:Ee+1,Oe=Pe.createImageData(ge,ae);let pe=0;const Ce=_e.data,Re=Oe.data;for(let De=0;De<Me;De++){const Ne=De<Ee?ae:ke;({srcPos:pe}=(0,te.convertBlackAndWhiteToRGBA)({src:Ce,srcPos:pe,dest:Re,width:ge,height:Ne,nonBlackColor:0})),Pe.putImageData(Oe,0,De*ae)}}function ye(Pe,_e){const xe=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ge of xe)Pe[ge]!==void 0&&(_e[ge]=Pe[ge]);Pe.setLineDash!==void 0&&(_e.setLineDash(Pe.getLineDash()),_e.lineDashOffset=Pe.lineDashOffset)}function Ae(Pe){if(Pe.strokeStyle=Pe.fillStyle="#000000",Pe.fillRule="nonzero",Pe.globalAlpha=1,Pe.lineWidth=1,Pe.lineCap="butt",Pe.lineJoin="miter",Pe.miterLimit=10,Pe.globalCompositeOperation="source-over",Pe.font="10px sans-serif",Pe.setLineDash!==void 0&&(Pe.setLineDash([]),Pe.lineDashOffset=0),!V.isNodeJS){const{filter:_e}=Pe;_e!=="none"&&_e!==""&&(Pe.filter="none")}}function Be(Pe,_e,xe,ge){const ke=Pe.length;for(let Ee=3;Ee<ke;Ee+=4){const Me=Pe[Ee];if(Me===0)Pe[Ee-3]=_e,Pe[Ee-2]=xe,Pe[Ee-1]=ge;else if(Me<255){const Oe=255-Me;Pe[Ee-3]=Pe[Ee-3]*Me+_e*Oe>>8,Pe[Ee-2]=Pe[Ee-2]*Me+xe*Oe>>8,Pe[Ee-1]=Pe[Ee-1]*Me+ge*Oe>>8}}}function qe(Pe,_e,xe){const ge=Pe.length,ke=1/255;for(let Ee=3;Ee<ge;Ee+=4){const Me=xe?xe[Pe[Ee]]:Pe[Ee];_e[Ee]=_e[Ee]*Me*ke|0}}function Ue(Pe,_e,xe){const ge=Pe.length;for(let ke=3;ke<ge;ke+=4){const Ee=Pe[ke-3]*77+Pe[ke-2]*152+Pe[ke-1]*28;_e[ke]=xe?_e[ke]*xe[Ee>>8]>>8:_e[ke]*Ee>>16}}function Ke(Pe,_e,xe,ge,ke,Ee,Me,Oe,pe,Ce,Re){const De=!!Ee,Ne=De?Ee[0]:0,He=De?Ee[1]:0,Ge=De?Ee[2]:0,it=ke==="Luminosity"?Ue:qe,tt=Math.min(ge,Math.ceil(1048576/xe));for(let lt=0;lt<ge;lt+=tt){const ot=Math.min(tt,ge-lt),dt=Pe.getImageData(Oe-Ce,lt+(pe-Re),xe,ot),vt=_e.getImageData(Oe,lt+pe,xe,ot);De&&Be(dt.data,Ne,He,Ge),it(dt.data,vt.data,Me),_e.putImageData(vt,Oe,lt+pe)}}function Je(Pe,_e,xe,ge){const ke=ge[0],Ee=ge[1],Me=ge[2]-ke,Oe=ge[3]-Ee;Me===0||Oe===0||(Ke(_e.context,xe,Me,Oe,_e.subtype,_e.backdrop,_e.transferMap,ke,Ee,_e.offsetX,_e.offsetY),Pe.save(),Pe.globalAlpha=1,Pe.globalCompositeOperation="source-over",Pe.setTransform(1,0,0,1,0,0),Pe.drawImage(xe.canvas,0,0),Pe.restore())}function mt(Pe,_e){const xe=V.Util.singularValueDecompose2dScale(Pe);xe[0]=Math.fround(xe[0]),xe[1]=Math.fround(xe[1]);const ge=Math.fround((globalThis.devicePixelRatio||1)*Y.PixelsPerInch.PDF_TO_CSS_UNITS);return _e!==void 0?_e:xe[0]<=ge||xe[1]<=ge}const ht=["butt","round","square"],pt=["miter","round","bevel"],bt={},ct={};class We{constructor(_e,xe,ge,ke,Ee,{optionalContentConfig:Me,markedContentStack:Oe=null},pe,Ce){this.ctx=_e,this.current=new be(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=xe,this.objs=ge,this.canvasFactory=ke,this.filterFactory=Ee,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Oe||[],this.optionalContentConfig=Me,this.cachedCanvases=new ue(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=pe,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ce,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(_e,xe=null){return typeof _e=="string"?_e.startsWith("g_")?this.commonObjs.get(_e):this.objs.get(_e):xe}beginDrawing({transform:_e,viewport:xe,transparency:ge=!1,background:ke=null}){const Ee=this.ctx.canvas.width,Me=this.ctx.canvas.height,Oe=this.ctx.fillStyle;if(this.ctx.fillStyle=ke||"#ffffff",this.ctx.fillRect(0,0,Ee,Me),this.ctx.fillStyle=Oe,ge){const pe=this.cachedCanvases.getCanvas("transparent",Ee,Me);this.compositeCtx=this.ctx,this.transparentCanvas=pe.canvas,this.ctx=pe.context,this.ctx.save(),this.ctx.transform(...(0,Y.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Ae(this.ctx),_e&&(this.ctx.transform(..._e),this.outputScaleX=_e[0],this.outputScaleY=_e[0]),this.ctx.transform(...xe.transform),this.viewportScale=xe.scale,this.baseTransform=(0,Y.getCurrentTransform)(this.ctx)}executeOperatorList(_e,xe,ge,ke){const Ee=_e.argsArray,Me=_e.fnArray;let Oe=xe||0;const pe=Ee.length;if(pe===Oe)return Oe;const Ce=pe-Oe>ne&&typeof ge=="function",Re=Ce?Date.now()+re:0;let De=0;const Ne=this.commonObjs,He=this.objs;let Ge;for(;;){if(ke!==void 0&&Oe===ke.nextBreakPoint)return ke.breakIt(Oe,ge),Oe;if(Ge=Me[Oe],Ge!==V.OPS.dependency)this[Ge].apply(this,Ee[Oe]);else for(const it of Ee[Oe]){const ut=it.startsWith("g_")?Ne:He;if(!ut.has(it))return ut.get(it,ge),Oe}if(Oe++,Oe===pe)return Oe;if(Ce&&++De>ne){if(Date.now()>Re)return ge(),Oe;De=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const _e of this._cachedBitmapsMap.values()){for(const xe of _e.values())typeof HTMLCanvasElement<"u"&&xe instanceof HTMLCanvasElement&&(xe.width=xe.height=0);_e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const _e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(_e!=="none"){const xe=this.ctx.filter;this.ctx.filter=_e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=xe}}}_scaleImage(_e,xe){const ge=_e.width,ke=_e.height;let Ee=Math.max(Math.hypot(xe[0],xe[1]),1),Me=Math.max(Math.hypot(xe[2],xe[3]),1),Oe=ge,pe=ke,Ce="prescale1",Re,De;for(;Ee>2&&Oe>1||Me>2&&pe>1;){let Ne=Oe,He=pe;Ee>2&&Oe>1&&(Ne=Oe>=16384?Math.floor(Oe/2)-1||1:Math.ceil(Oe/2),Ee/=Oe/Ne),Me>2&&pe>1&&(He=pe>=16384?Math.floor(pe/2)-1||1:Math.ceil(pe)/2,Me/=pe/He),Re=this.cachedCanvases.getCanvas(Ce,Ne,He),De=Re.context,De.clearRect(0,0,Ne,He),De.drawImage(_e,0,0,Oe,pe,0,0,Ne,He),_e=Re.canvas,Oe=Ne,pe=He,Ce=Ce==="prescale1"?"prescale2":"prescale1"}return{img:_e,paintWidth:Oe,paintHeight:pe}}_createMaskCanvas(_e){const xe=this.ctx,{width:ge,height:ke}=_e,Ee=this.current.fillColor,Me=this.current.patternFill,Oe=(0,Y.getCurrentTransform)(xe);let pe,Ce,Re,De;if((_e.bitmap||_e.data)&&_e.count>1){const Tt=_e.bitmap||_e.data.buffer;Ce=JSON.stringify(Me?Oe:[Oe.slice(0,4),Ee]),pe=this._cachedBitmapsMap.get(Tt),pe||(pe=new Map,this._cachedBitmapsMap.set(Tt,pe));const $t=pe.get(Ce);if($t&&!Me){const It=Math.round(Math.min(Oe[0],Oe[2])+Oe[4]),qt=Math.round(Math.min(Oe[1],Oe[3])+Oe[5]);return{canvas:$t,offsetX:It,offsetY:qt}}Re=$t}Re||(De=this.cachedCanvases.getCanvas("maskCanvas",ge,ke),ve(De.context,_e));let Ne=V.Util.transform(Oe,[1/ge,0,0,-1/ke,0,0]);Ne=V.Util.transform(Ne,[1,0,0,1,0,-ke]);const He=V.Util.applyTransform([0,0],Ne),Ge=V.Util.applyTransform([ge,ke],Ne),it=V.Util.normalizeRect([He[0],He[1],Ge[0],Ge[1]]),ut=Math.round(it[2]-it[0])||1,tt=Math.round(it[3]-it[1])||1,lt=this.cachedCanvases.getCanvas("fillCanvas",ut,tt),ot=lt.context,dt=Math.min(He[0],Ge[0]),vt=Math.min(He[1],Ge[1]);ot.translate(-dt,-vt),ot.transform(...Ne),Re||(Re=this._scaleImage(De.canvas,(0,Y.getCurrentTransformInverse)(ot)),Re=Re.img,pe&&Me&&pe.set(Ce,Re)),ot.imageSmoothingEnabled=mt((0,Y.getCurrentTransform)(ot),_e.interpolate),de(ot,Re,0,0,Re.width,Re.height,0,0,ge,ke),ot.globalCompositeOperation="source-in";const St=V.Util.transform((0,Y.getCurrentTransformInverse)(ot),[1,0,0,1,-dt,-vt]);return ot.fillStyle=Me?Ee.getPattern(xe,this,St,ee.PathType.FILL):Ee,ot.fillRect(0,0,ge,ke),pe&&!Me&&(this.cachedCanvases.delete("fillCanvas"),pe.set(Ce,lt.canvas)),{canvas:lt.canvas,offsetX:Math.round(dt),offsetY:Math.round(vt)}}setLineWidth(_e){_e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=_e,this.ctx.lineWidth=_e}setLineCap(_e){this.ctx.lineCap=ht[_e]}setLineJoin(_e){this.ctx.lineJoin=pt[_e]}setMiterLimit(_e){this.ctx.miterLimit=_e}setDash(_e,xe){const ge=this.ctx;ge.setLineDash!==void 0&&(ge.setLineDash(_e),ge.lineDashOffset=xe)}setRenderingIntent(_e){}setFlatness(_e){}setGState(_e){for(const[xe,ge]of _e)switch(xe){case"LW":this.setLineWidth(ge);break;case"LC":this.setLineCap(ge);break;case"LJ":this.setLineJoin(ge);break;case"ML":this.setMiterLimit(ge);break;case"D":this.setDash(ge[0],ge[1]);break;case"RI":this.setRenderingIntent(ge);break;case"FL":this.setFlatness(ge);break;case"Font":this.setFont(ge[0],ge[1]);break;case"CA":this.current.strokeAlpha=ge;break;case"ca":this.current.fillAlpha=ge,this.ctx.globalAlpha=ge;break;case"BM":this.ctx.globalCompositeOperation=ge;break;case"SMask":this.current.activeSMask=ge?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ge);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const _e=this.inSMaskMode;this.current.activeSMask&&!_e?this.beginSMaskMode():!this.current.activeSMask&&_e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const _e=this.ctx.canvas.width,xe=this.ctx.canvas.height,ge="smaskGroupAt"+this.groupLevel,ke=this.cachedCanvases.getCanvas(ge,_e,xe);this.suspendedCtx=this.ctx,this.ctx=ke.context;const Ee=this.ctx;Ee.setTransform(...(0,Y.getCurrentTransform)(this.suspendedCtx)),ye(this.suspendedCtx,Ee),se(Ee,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ye(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(_e){if(!this.current.activeSMask)return;_e?(_e[0]=Math.floor(_e[0]),_e[1]=Math.floor(_e[1]),_e[2]=Math.ceil(_e[2]),_e[3]=Math.ceil(_e[3])):_e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const xe=this.current.activeSMask,ge=this.suspendedCtx;Je(ge,xe,this.ctx,_e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ye(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const _e=this.current;this.stateStack.push(_e),this.current=_e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ye(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(_e,xe,ge,ke,Ee,Me){this.ctx.transform(_e,xe,ge,ke,Ee,Me),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(_e,xe,ge){const ke=this.ctx,Ee=this.current;let Me=Ee.x,Oe=Ee.y,pe,Ce;const Re=(0,Y.getCurrentTransform)(ke),De=Re[0]===0&&Re[3]===0||Re[1]===0&&Re[2]===0,Ne=De?ge.slice(0):null;for(let He=0,Ge=0,it=_e.length;He<it;He++)switch(_e[He]|0){case V.OPS.rectangle:Me=xe[Ge++],Oe=xe[Ge++];const ut=xe[Ge++],tt=xe[Ge++],lt=Me+ut,ot=Oe+tt;ke.moveTo(Me,Oe),ut===0||tt===0?ke.lineTo(lt,ot):(ke.lineTo(lt,Oe),ke.lineTo(lt,ot),ke.lineTo(Me,ot)),De||Ee.updateRectMinMax(Re,[Me,Oe,lt,ot]),ke.closePath();break;case V.OPS.moveTo:Me=xe[Ge++],Oe=xe[Ge++],ke.moveTo(Me,Oe),De||Ee.updatePathMinMax(Re,Me,Oe);break;case V.OPS.lineTo:Me=xe[Ge++],Oe=xe[Ge++],ke.lineTo(Me,Oe),De||Ee.updatePathMinMax(Re,Me,Oe);break;case V.OPS.curveTo:pe=Me,Ce=Oe,Me=xe[Ge+4],Oe=xe[Ge+5],ke.bezierCurveTo(xe[Ge],xe[Ge+1],xe[Ge+2],xe[Ge+3],Me,Oe),Ee.updateCurvePathMinMax(Re,pe,Ce,xe[Ge],xe[Ge+1],xe[Ge+2],xe[Ge+3],Me,Oe,Ne),Ge+=6;break;case V.OPS.curveTo2:pe=Me,Ce=Oe,ke.bezierCurveTo(Me,Oe,xe[Ge],xe[Ge+1],xe[Ge+2],xe[Ge+3]),Ee.updateCurvePathMinMax(Re,pe,Ce,Me,Oe,xe[Ge],xe[Ge+1],xe[Ge+2],xe[Ge+3],Ne),Me=xe[Ge+2],Oe=xe[Ge+3],Ge+=4;break;case V.OPS.curveTo3:pe=Me,Ce=Oe,Me=xe[Ge+2],Oe=xe[Ge+3],ke.bezierCurveTo(xe[Ge],xe[Ge+1],Me,Oe,Me,Oe),Ee.updateCurvePathMinMax(Re,pe,Ce,xe[Ge],xe[Ge+1],Me,Oe,Me,Oe,Ne),Ge+=4;break;case V.OPS.closePath:ke.closePath();break}De&&Ee.updateScalingPathMinMax(Re,Ne),Ee.setCurrentPoint(Me,Oe)}closePath(){this.ctx.closePath()}stroke(_e=!0){const xe=this.ctx,ge=this.current.strokeColor;xe.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ge=="object"&&ge?.getPattern?(xe.save(),xe.strokeStyle=ge.getPattern(xe,this,(0,Y.getCurrentTransformInverse)(xe),ee.PathType.STROKE),this.rescaleAndStroke(!1),xe.restore()):this.rescaleAndStroke(!0)),_e&&this.consumePath(this.current.getClippedPathBoundingBox()),xe.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(_e=!0){const xe=this.ctx,ge=this.current.fillColor,ke=this.current.patternFill;let Ee=!1;ke&&(xe.save(),xe.fillStyle=ge.getPattern(xe,this,(0,Y.getCurrentTransformInverse)(xe),ee.PathType.FILL),Ee=!0);const Me=this.current.getClippedPathBoundingBox();this.contentVisible&&Me!==null&&(this.pendingEOFill?(xe.fill("evenodd"),this.pendingEOFill=!1):xe.fill()),Ee&&xe.restore(),_e&&this.consumePath(Me)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=bt}eoClip(){this.pendingClip=ct}beginText(){this.current.textMatrix=V.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const _e=this.pendingTextPaths,xe=this.ctx;if(_e===void 0){xe.beginPath();return}xe.save(),xe.beginPath();for(const ge of _e)xe.setTransform(...ge.transform),xe.translate(ge.x,ge.y),ge.addToPath(xe,ge.fontSize);xe.restore(),xe.clip(),xe.beginPath(),delete this.pendingTextPaths}setCharSpacing(_e){this.current.charSpacing=_e}setWordSpacing(_e){this.current.wordSpacing=_e}setHScale(_e){this.current.textHScale=_e/100}setLeading(_e){this.current.leading=-_e}setFont(_e,xe){const ge=this.commonObjs.get(_e),ke=this.current;if(!ge)throw new Error(`Can't find font for ${_e}`);if(ke.fontMatrix=ge.fontMatrix||V.FONT_IDENTITY_MATRIX,(ke.fontMatrix[0]===0||ke.fontMatrix[3]===0)&&(0,V.warn)("Invalid font matrix for font "+_e),xe<0?(xe=-xe,ke.fontDirection=-1):ke.fontDirection=1,this.current.font=ge,this.current.fontSize=xe,ge.isType3Font)return;const Ee=ge.loadedName||"sans-serif",Me=ge.systemFontInfo?.css||`"${Ee}", ${ge.fallbackName}`;let Oe="normal";ge.black?Oe="900":ge.bold&&(Oe="bold");const pe=ge.italic?"italic":"normal";let Ce=xe;xe<J?Ce=J:xe>ie&&(Ce=ie),this.current.fontSizeScale=xe/Ce,this.ctx.font=`${pe} ${Oe} ${Ce}px ${Me}`}setTextRenderingMode(_e){this.current.textRenderingMode=_e}setTextRise(_e){this.current.textRise=_e}moveText(_e,xe){this.current.x=this.current.lineX+=_e,this.current.y=this.current.lineY+=xe}setLeadingMoveText(_e,xe){this.setLeading(-xe),this.moveText(_e,xe)}setTextMatrix(_e,xe,ge,ke,Ee,Me){this.current.textMatrix=[_e,xe,ge,ke,Ee,Me],this.current.textMatrixScale=Math.hypot(_e,xe),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(_e,xe,ge,ke){const Ee=this.ctx,Me=this.current,Oe=Me.font,pe=Me.textRenderingMode,Ce=Me.fontSize/Me.fontSizeScale,Re=pe&V.TextRenderingMode.FILL_STROKE_MASK,De=!!(pe&V.TextRenderingMode.ADD_TO_PATH_FLAG),Ne=Me.patternFill&&!Oe.missingFile;let He;(Oe.disableFontFace||De||Ne)&&(He=Oe.getPathGenerator(this.commonObjs,_e)),Oe.disableFontFace||Ne?(Ee.save(),Ee.translate(xe,ge),Ee.beginPath(),He(Ee,Ce),ke&&Ee.setTransform(...ke),(Re===V.TextRenderingMode.FILL||Re===V.TextRenderingMode.FILL_STROKE)&&Ee.fill(),(Re===V.TextRenderingMode.STROKE||Re===V.TextRenderingMode.FILL_STROKE)&&Ee.stroke(),Ee.restore()):((Re===V.TextRenderingMode.FILL||Re===V.TextRenderingMode.FILL_STROKE)&&Ee.fillText(_e,xe,ge),(Re===V.TextRenderingMode.STROKE||Re===V.TextRenderingMode.FILL_STROKE)&&Ee.strokeText(_e,xe,ge)),De&&(this.pendingTextPaths||=[]).push({transform:(0,Y.getCurrentTransform)(Ee),x:xe,y:ge,fontSize:Ce,addToPath:He})}get isFontSubpixelAAEnabled(){const{context:_e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);_e.scale(1.5,1),_e.fillText("I",0,10);const xe=_e.getImageData(0,0,10,10).data;let ge=!1;for(let ke=3;ke<xe.length;ke+=4)if(xe[ke]>0&&xe[ke]<255){ge=!0;break}return(0,V.shadow)(this,"isFontSubpixelAAEnabled",ge)}showText(_e){const xe=this.current,ge=xe.font;if(ge.isType3Font)return this.showType3Text(_e);const ke=xe.fontSize;if(ke===0)return;const Ee=this.ctx,Me=xe.fontSizeScale,Oe=xe.charSpacing,pe=xe.wordSpacing,Ce=xe.fontDirection,Re=xe.textHScale*Ce,De=_e.length,Ne=ge.vertical,He=Ne?1:-1,Ge=ge.defaultVMetrics,it=ke*xe.fontMatrix[0],ut=xe.textRenderingMode===V.TextRenderingMode.FILL&&!ge.disableFontFace&&!xe.patternFill;Ee.save(),Ee.transform(...xe.textMatrix),Ee.translate(xe.x,xe.y+xe.textRise),Ce>0?Ee.scale(Re,-1):Ee.scale(Re,1);let tt;if(xe.patternFill){Ee.save();const St=xe.fillColor.getPattern(Ee,this,(0,Y.getCurrentTransformInverse)(Ee),ee.PathType.FILL);tt=(0,Y.getCurrentTransform)(Ee),Ee.restore(),Ee.fillStyle=St}let lt=xe.lineWidth;const ot=xe.textMatrixScale;if(ot===0||lt===0){const St=xe.textRenderingMode&V.TextRenderingMode.FILL_STROKE_MASK;(St===V.TextRenderingMode.STROKE||St===V.TextRenderingMode.FILL_STROKE)&&(lt=this.getSinglePixelWidth())}else lt/=ot;if(Me!==1&&(Ee.scale(Me,Me),lt/=Me),Ee.lineWidth=lt,ge.isInvalidPDFjsFont){const St=[];let Tt=0;for(const $t of _e)St.push($t.unicode),Tt+=$t.width;Ee.fillText(St.join(""),0,0),xe.x+=Tt*it*Re,Ee.restore(),this.compose();return}let dt=0,vt;for(vt=0;vt<De;++vt){const St=_e[vt];if(typeof St=="number"){dt+=He*St*ke/1e3;continue}let Tt=!1;const $t=(St.isSpace?pe:0)+Oe,It=St.fontChar,qt=St.accent;let Vt,ar,sr=St.width;if(Ne){const nr=St.vmetric||Ge,lr=-(St.vmetric?nr[1]:sr*.5)*it,cr=nr[2]*it;sr=nr?-nr[0]:sr,Vt=lr/Me,ar=(dt+cr)/Me}else Vt=dt/Me,ar=0;if(ge.remeasure&&sr>0){const nr=Ee.measureText(It).width*1e3/ke*Me;if(sr<nr&&this.isFontSubpixelAAEnabled){const lr=sr/nr;Tt=!0,Ee.save(),Ee.scale(lr,1),Vt/=lr}else sr!==nr&&(Vt+=(sr-nr)/2e3*ke/Me)}if(this.contentVisible&&(St.isInFont||ge.missingFile)){if(ut&&!qt)Ee.fillText(It,Vt,ar);else if(this.paintChar(It,Vt,ar,tt),qt){const nr=Vt+ke*qt.offset.x/Me,lr=ar-ke*qt.offset.y/Me;this.paintChar(qt.fontChar,nr,lr,tt)}}const fr=Ne?sr*it-$t*Ce:sr*it+$t*Ce;dt+=fr,Tt&&Ee.restore()}Ne?xe.y-=dt:xe.x+=dt*Re,Ee.restore(),this.compose()}showType3Text(_e){const xe=this.ctx,ge=this.current,ke=ge.font,Ee=ge.fontSize,Me=ge.fontDirection,Oe=ke.vertical?1:-1,pe=ge.charSpacing,Ce=ge.wordSpacing,Re=ge.textHScale*Me,De=ge.fontMatrix||V.FONT_IDENTITY_MATRIX,Ne=_e.length,He=ge.textRenderingMode===V.TextRenderingMode.INVISIBLE;let Ge,it,ut,tt;if(!(He||Ee===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,xe.save(),xe.transform(...ge.textMatrix),xe.translate(ge.x,ge.y),xe.scale(Re,Me),Ge=0;Ge<Ne;++Ge){if(it=_e[Ge],typeof it=="number"){tt=Oe*it*Ee/1e3,this.ctx.translate(tt,0),ge.x+=tt*Re;continue}const lt=(it.isSpace?Ce:0)+pe,ot=ke.charProcOperatorList[it.operatorListId];if(!ot){(0,V.warn)(`Type3 character "${it.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=it,this.save(),xe.scale(Ee,Ee),xe.transform(...De),this.executeOperatorList(ot),this.restore()),ut=V.Util.applyTransform([it.width,0],De)[0]*Ee+lt,xe.translate(ut,0),ge.x+=ut*Re}xe.restore(),this.processingType3=null}}setCharWidth(_e,xe){}setCharWidthAndBounds(_e,xe,ge,ke,Ee,Me){this.ctx.rect(ge,ke,Ee-ge,Me-ke),this.ctx.clip(),this.endPath()}getColorN_Pattern(_e){let xe;if(_e[0]==="TilingPattern"){const ge=_e[1],ke=this.baseTransform||(0,Y.getCurrentTransform)(this.ctx),Ee={createCanvasGraphics:Me=>new We(Me,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};xe=new ee.TilingPattern(_e,ge,this.ctx,Ee,ke)}else xe=this._getPattern(_e[1],_e[2]);return xe}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(_e,xe,ge){const ke=V.Util.makeHexColor(_e,xe,ge);this.ctx.strokeStyle=ke,this.current.strokeColor=ke}setFillRGBColor(_e,xe,ge){const ke=V.Util.makeHexColor(_e,xe,ge);this.ctx.fillStyle=ke,this.current.fillColor=ke,this.current.patternFill=!1}_getPattern(_e,xe=null){let ge;return this.cachedPatterns.has(_e)?ge=this.cachedPatterns.get(_e):(ge=(0,ee.getShadingPattern)(this.getObject(_e)),this.cachedPatterns.set(_e,ge)),xe&&(ge.matrix=xe),ge}shadingFill(_e){if(!this.contentVisible)return;const xe=this.ctx;this.save();const ge=this._getPattern(_e);xe.fillStyle=ge.getPattern(xe,this,(0,Y.getCurrentTransformInverse)(xe),ee.PathType.SHADING);const ke=(0,Y.getCurrentTransformInverse)(xe);if(ke){const{width:Ee,height:Me}=xe.canvas,[Oe,pe,Ce,Re]=V.Util.getAxialAlignedBoundingBox([0,0,Ee,Me],ke);this.ctx.fillRect(Oe,pe,Ce-Oe,Re-pe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,V.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,V.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(_e,xe){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(_e)&&_e.length===6&&this.transform(..._e),this.baseTransform=(0,Y.getCurrentTransform)(this.ctx),xe)){const ge=xe[2]-xe[0],ke=xe[3]-xe[1];this.ctx.rect(xe[0],xe[1],ge,ke),this.current.updateRectMinMax((0,Y.getCurrentTransform)(this.ctx),xe),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(_e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const xe=this.ctx;_e.isolated||(0,V.info)("TODO: Support non-isolated groups."),_e.knockout&&(0,V.warn)("Knockout groups not supported.");const ge=(0,Y.getCurrentTransform)(xe);if(_e.matrix&&xe.transform(..._e.matrix),!_e.bbox)throw new Error("Bounding box is required.");let ke=V.Util.getAxialAlignedBoundingBox(_e.bbox,(0,Y.getCurrentTransform)(xe));const Ee=[0,0,xe.canvas.width,xe.canvas.height];ke=V.Util.intersect(ke,Ee)||[0,0,0,0];const Me=Math.floor(ke[0]),Oe=Math.floor(ke[1]);let pe=Math.max(Math.ceil(ke[2])-Me,1),Ce=Math.max(Math.ceil(ke[3])-Oe,1),Re=1,De=1;pe>K&&(Re=pe/K,pe=K),Ce>K&&(De=Ce/K,Ce=K),this.current.startNewPathAndClipBox([0,0,pe,Ce]);let Ne="groupAt"+this.groupLevel;_e.smask&&(Ne+="_smask_"+this.smaskCounter++%2);const He=this.cachedCanvases.getCanvas(Ne,pe,Ce),Ge=He.context;Ge.scale(1/Re,1/De),Ge.translate(-Me,-Oe),Ge.transform(...ge),_e.smask?this.smaskStack.push({canvas:He.canvas,context:Ge,offsetX:Me,offsetY:Oe,scaleX:Re,scaleY:De,subtype:_e.smask.subtype,backdrop:_e.smask.backdrop,transferMap:_e.smask.transferMap||null,startTransformInverse:null}):(xe.setTransform(1,0,0,1,0,0),xe.translate(Me,Oe),xe.scale(Re,De),xe.save()),ye(xe,Ge),this.ctx=Ge,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(xe),this.groupLevel++}endGroup(_e){if(!this.contentVisible)return;this.groupLevel--;const xe=this.ctx,ge=this.groupStack.pop();if(this.ctx=ge,this.ctx.imageSmoothingEnabled=!1,_e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ke=(0,Y.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ke);const Ee=V.Util.getAxialAlignedBoundingBox([0,0,xe.canvas.width,xe.canvas.height],ke);this.ctx.drawImage(xe.canvas,0,0),this.ctx.restore(),this.compose(Ee)}}beginAnnotation(_e,xe,ge,ke,Ee){if(this.#e(),Ae(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(xe)&&xe.length===4){const Me=xe[2]-xe[0],Oe=xe[3]-xe[1];if(Ee&&this.annotationCanvasMap){ge=ge.slice(),ge[4]-=xe[0],ge[5]-=xe[1],xe=xe.slice(),xe[0]=xe[1]=0,xe[2]=Me,xe[3]=Oe;const[pe,Ce]=V.Util.singularValueDecompose2dScale((0,Y.getCurrentTransform)(this.ctx)),{viewportScale:Re}=this,De=Math.ceil(Me*this.outputScaleX*Re),Ne=Math.ceil(Oe*this.outputScaleY*Re);this.annotationCanvas=this.canvasFactory.create(De,Ne);const{canvas:He,context:Ge}=this.annotationCanvas;this.annotationCanvasMap.set(_e,He),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ge,this.ctx.save(),this.ctx.setTransform(pe,0,0,-Ce,0,Oe*Ce),Ae(this.ctx)}else Ae(this.ctx),this.ctx.rect(xe[0],xe[1],Me,Oe),this.ctx.clip(),this.endPath()}this.current=new be(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ge),this.transform(...ke)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(_e){if(!this.contentVisible)return;const xe=_e.count;_e=this.getObject(_e.data,_e),_e.count=xe;const ge=this.ctx,ke=this.processingType3;if(ke&&(ke.compiled===void 0&&(ke.compiled=ce(_e)),ke.compiled)){ke.compiled(ge);return}const Ee=this._createMaskCanvas(_e),Me=Ee.canvas;ge.save(),ge.setTransform(1,0,0,1,0,0),ge.drawImage(Me,Ee.offsetX,Ee.offsetY),ge.restore(),this.compose()}paintImageMaskXObjectRepeat(_e,xe,ge=0,ke=0,Ee,Me){if(!this.contentVisible)return;_e=this.getObject(_e.data,_e);const Oe=this.ctx;Oe.save();const pe=(0,Y.getCurrentTransform)(Oe);Oe.transform(xe,ge,ke,Ee,0,0);const Ce=this._createMaskCanvas(_e);Oe.setTransform(1,0,0,1,Ce.offsetX-pe[4],Ce.offsetY-pe[5]);for(let Re=0,De=Me.length;Re<De;Re+=2){const Ne=V.Util.transform(pe,[xe,ge,ke,Ee,Me[Re],Me[Re+1]]),[He,Ge]=V.Util.applyTransform([0,0],Ne);Oe.drawImage(Ce.canvas,He,Ge)}Oe.restore(),this.compose()}paintImageMaskXObjectGroup(_e){if(!this.contentVisible)return;const xe=this.ctx,ge=this.current.fillColor,ke=this.current.patternFill;for(const Ee of _e){const{data:Me,width:Oe,height:pe,transform:Ce}=Ee,Re=this.cachedCanvases.getCanvas("maskCanvas",Oe,pe),De=Re.context;De.save();const Ne=this.getObject(Me,Ee);ve(De,Ne),De.globalCompositeOperation="source-in",De.fillStyle=ke?ge.getPattern(De,this,(0,Y.getCurrentTransformInverse)(xe),ee.PathType.FILL):ge,De.fillRect(0,0,Oe,pe),De.restore(),xe.save(),xe.transform(...Ce),xe.scale(1,-1),de(xe,Re.canvas,0,0,Oe,pe,0,-1,1,1),xe.restore()}this.compose()}paintImageXObject(_e){if(!this.contentVisible)return;const xe=this.getObject(_e);if(!xe){(0,V.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(xe)}paintImageXObjectRepeat(_e,xe,ge,ke){if(!this.contentVisible)return;const Ee=this.getObject(_e);if(!Ee){(0,V.warn)("Dependent image isn't ready yet");return}const Me=Ee.width,Oe=Ee.height,pe=[];for(let Ce=0,Re=ke.length;Ce<Re;Ce+=2)pe.push({transform:[xe,0,0,ge,ke[Ce],ke[Ce+1]],x:0,y:0,w:Me,h:Oe});this.paintInlineImageXObjectGroup(Ee,pe)}applyTransferMapsToCanvas(_e){return this.current.transferMaps!=="none"&&(_e.filter=this.current.transferMaps,_e.drawImage(_e.canvas,0,0),_e.filter="none"),_e.canvas}applyTransferMapsToBitmap(_e){if(this.current.transferMaps==="none")return _e.bitmap;const{bitmap:xe,width:ge,height:ke}=_e,Ee=this.cachedCanvases.getCanvas("inlineImage",ge,ke),Me=Ee.context;return Me.filter=this.current.transferMaps,Me.drawImage(xe,0,0),Me.filter="none",Ee.canvas}paintInlineImageXObject(_e){if(!this.contentVisible)return;const xe=_e.width,ge=_e.height,ke=this.ctx;if(this.save(),!V.isNodeJS){const{filter:Oe}=ke;Oe!=="none"&&Oe!==""&&(ke.filter="none")}ke.scale(1/xe,-1/ge);let Ee;if(_e.bitmap)Ee=this.applyTransferMapsToBitmap(_e);else if(typeof HTMLElement=="function"&&_e instanceof HTMLElement||!_e.data)Ee=_e;else{const pe=this.cachedCanvases.getCanvas("inlineImage",xe,ge).context;Le(pe,_e),Ee=this.applyTransferMapsToCanvas(pe)}const Me=this._scaleImage(Ee,(0,Y.getCurrentTransformInverse)(ke));ke.imageSmoothingEnabled=mt((0,Y.getCurrentTransform)(ke),_e.interpolate),de(ke,Me.img,0,0,Me.paintWidth,Me.paintHeight,0,-ge,xe,ge),this.compose(),this.restore()}paintInlineImageXObjectGroup(_e,xe){if(!this.contentVisible)return;const ge=this.ctx;let ke;if(_e.bitmap)ke=_e.bitmap;else{const Ee=_e.width,Me=_e.height,pe=this.cachedCanvases.getCanvas("inlineImage",Ee,Me).context;Le(pe,_e),ke=this.applyTransferMapsToCanvas(pe)}for(const Ee of xe)ge.save(),ge.transform(...Ee.transform),ge.scale(1,-1),de(ge,ke,Ee.x,Ee.y,Ee.w,Ee.h,0,-1,1,1),ge.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(_e){}markPointProps(_e,xe){}beginMarkedContent(_e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(_e,xe){_e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(xe)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(_e){const xe=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(_e);const ge=this.ctx;this.pendingClip&&(xe||(this.pendingClip===ct?ge.clip("evenodd"):ge.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ge.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const _e=(0,Y.getCurrentTransform)(this.ctx);if(_e[1]===0&&_e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(_e[0]),Math.abs(_e[3]));else{const xe=Math.abs(_e[0]*_e[3]-_e[2]*_e[1]),ge=Math.hypot(_e[0],_e[2]),ke=Math.hypot(_e[1],_e[3]);this._cachedGetSinglePixelWidth=Math.max(ge,ke)/xe}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:_e}=this.current,{a:xe,b:ge,c:ke,d:Ee}=this.ctx.getTransform();let Me,Oe;if(ge===0&&ke===0){const pe=Math.abs(xe),Ce=Math.abs(Ee);if(pe===Ce)if(_e===0)Me=Oe=1/pe;else{const Re=pe*_e;Me=Oe=Re<1?1/Re:1}else if(_e===0)Me=1/pe,Oe=1/Ce;else{const Re=pe*_e,De=Ce*_e;Me=Re<1?1/Re:1,Oe=De<1?1/De:1}}else{const pe=Math.abs(xe*Ee-ge*ke),Ce=Math.hypot(xe,ge),Re=Math.hypot(ke,Ee);if(_e===0)Me=Re/pe,Oe=Ce/pe;else{const De=_e*pe;Me=Re>De?Re/De:1,Oe=Ce>De?Ce/De:1}}this._cachedScaleForStroking[0]=Me,this._cachedScaleForStroking[1]=Oe}return this._cachedScaleForStroking}rescaleAndStroke(_e){const{ctx:xe}=this,{lineWidth:ge}=this.current,[ke,Ee]=this.getScaleForStroking();if(xe.lineWidth=ge||1,ke===1&&Ee===1){xe.stroke();return}const Me=xe.getLineDash();if(_e&&xe.save(),xe.scale(ke,Ee),Me.length>0){const Oe=Math.max(ke,Ee);xe.setLineDash(Me.map(pe=>pe/Oe)),xe.lineDashOffset/=Oe}xe.stroke(),_e&&xe.restore()}isContentVisible(){for(let _e=this.markedContentStack.length-1;_e>=0;_e--)if(!this.markedContentStack[_e].visible)return!1;return!0}}T.CanvasGraphics=We;for(const Pe in V.OPS)We.prototype[Pe]!==void 0&&(We.prototype[V.OPS[Pe]]=We.prototype[Pe])},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.TilingPattern=T.PathType=void 0,T.getShadingPattern=ae;var V=$(1),Y=$(6);const ee={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};T.PathType=ee;function te(de,ce){if(!ce)return;const be=ce[2]-ce[0],Le=ce[3]-ce[1],ve=new Path2D;ve.rect(ce[0],ce[1],be,Le),de.clip(ve)}class J{constructor(){this.constructor===J&&(0,V.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,V.unreachable)("Abstract method `getPattern` called.")}}class ie extends J{constructor(ce){super(),this._type=ce[1],this._bbox=ce[2],this._colorStops=ce[3],this._p0=ce[4],this._p1=ce[5],this._r0=ce[6],this._r1=ce[7],this.matrix=null}_createGradient(ce){let be;this._type==="axial"?be=ce.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(be=ce.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Le of this._colorStops)be.addColorStop(Le[0],Le[1]);return be}getPattern(ce,be,Le,ve){let ye;if(ve===ee.STROKE||ve===ee.FILL){const Ae=be.current.getClippedPathBoundingBox(ve,(0,Y.getCurrentTransform)(ce))||[0,0,0,0],Be=Math.ceil(Ae[2]-Ae[0])||1,qe=Math.ceil(Ae[3]-Ae[1])||1,Ue=be.cachedCanvases.getCanvas("pattern",Be,qe,!0),Ke=Ue.context;Ke.clearRect(0,0,Ke.canvas.width,Ke.canvas.height),Ke.beginPath(),Ke.rect(0,0,Ke.canvas.width,Ke.canvas.height),Ke.translate(-Ae[0],-Ae[1]),Le=V.Util.transform(Le,[1,0,0,1,Ae[0],Ae[1]]),Ke.transform(...be.baseTransform),this.matrix&&Ke.transform(...this.matrix),te(Ke,this._bbox),Ke.fillStyle=this._createGradient(Ke),Ke.fill(),ye=ce.createPattern(Ue.canvas,"no-repeat");const Je=new DOMMatrix(Le);ye.setTransform(Je)}else te(ce,this._bbox),ye=this._createGradient(ce);return ye}}function K(de,ce,be,Le,ve,ye,Ae,Be){const qe=ce.coords,Ue=ce.colors,Ke=de.data,Je=de.width*4;let mt;qe[be+1]>qe[Le+1]&&(mt=be,be=Le,Le=mt,mt=ye,ye=Ae,Ae=mt),qe[Le+1]>qe[ve+1]&&(mt=Le,Le=ve,ve=mt,mt=Ae,Ae=Be,Be=mt),qe[be+1]>qe[Le+1]&&(mt=be,be=Le,Le=mt,mt=ye,ye=Ae,Ae=mt);const ht=(qe[be]+ce.offsetX)*ce.scaleX,pt=(qe[be+1]+ce.offsetY)*ce.scaleY,bt=(qe[Le]+ce.offsetX)*ce.scaleX,ct=(qe[Le+1]+ce.offsetY)*ce.scaleY,We=(qe[ve]+ce.offsetX)*ce.scaleX,Pe=(qe[ve+1]+ce.offsetY)*ce.scaleY;if(pt>=Pe)return;const _e=Ue[ye],xe=Ue[ye+1],ge=Ue[ye+2],ke=Ue[Ae],Ee=Ue[Ae+1],Me=Ue[Ae+2],Oe=Ue[Be],pe=Ue[Be+1],Ce=Ue[Be+2],Re=Math.round(pt),De=Math.round(Pe);let Ne,He,Ge,it,ut,tt,lt,ot;for(let dt=Re;dt<=De;dt++){if(dt<ct){const It=dt<pt?0:(pt-dt)/(pt-ct);Ne=ht-(ht-bt)*It,He=_e-(_e-ke)*It,Ge=xe-(xe-Ee)*It,it=ge-(ge-Me)*It}else{let It;dt>Pe?It=1:ct===Pe?It=0:It=(ct-dt)/(ct-Pe),Ne=bt-(bt-We)*It,He=ke-(ke-Oe)*It,Ge=Ee-(Ee-pe)*It,it=Me-(Me-Ce)*It}let vt;dt<pt?vt=0:dt>Pe?vt=1:vt=(pt-dt)/(pt-Pe),ut=ht-(ht-We)*vt,tt=_e-(_e-Oe)*vt,lt=xe-(xe-pe)*vt,ot=ge-(ge-Ce)*vt;const St=Math.round(Math.min(Ne,ut)),Tt=Math.round(Math.max(Ne,ut));let $t=Je*dt+St*4;for(let It=St;It<=Tt;It++)vt=(Ne-It)/(Ne-ut),vt<0?vt=0:vt>1&&(vt=1),Ke[$t++]=He-(He-tt)*vt|0,Ke[$t++]=Ge-(Ge-lt)*vt|0,Ke[$t++]=it-(it-ot)*vt|0,Ke[$t++]=255}}function re(de,ce,be){const Le=ce.coords,ve=ce.colors;let ye,Ae;switch(ce.type){case"lattice":const Be=ce.verticesPerRow,qe=Math.floor(Le.length/Be)-1,Ue=Be-1;for(ye=0;ye<qe;ye++){let Ke=ye*Be;for(let Je=0;Je<Ue;Je++,Ke++)K(de,be,Le[Ke],Le[Ke+1],Le[Ke+Be],ve[Ke],ve[Ke+1],ve[Ke+Be]),K(de,be,Le[Ke+Be+1],Le[Ke+1],Le[Ke+Be],ve[Ke+Be+1],ve[Ke+1],ve[Ke+Be])}break;case"triangles":for(ye=0,Ae=Le.length;ye<Ae;ye+=3)K(de,be,Le[ye],Le[ye+1],Le[ye+2],ve[ye],ve[ye+1],ve[ye+2]);break;default:throw new Error("illegal figure")}}class ne extends J{constructor(ce){super(),this._coords=ce[2],this._colors=ce[3],this._figures=ce[4],this._bounds=ce[5],this._bbox=ce[7],this._background=ce[8],this.matrix=null}_createMeshCanvas(ce,be,Le){const Be=Math.floor(this._bounds[0]),qe=Math.floor(this._bounds[1]),Ue=Math.ceil(this._bounds[2])-Be,Ke=Math.ceil(this._bounds[3])-qe,Je=Math.min(Math.ceil(Math.abs(Ue*ce[0]*1.1)),3e3),mt=Math.min(Math.ceil(Math.abs(Ke*ce[1]*1.1)),3e3),ht=Ue/Je,pt=Ke/mt,bt={coords:this._coords,colors:this._colors,offsetX:-Be,offsetY:-qe,scaleX:1/ht,scaleY:1/pt},ct=Je+2*2,We=mt+2*2,Pe=Le.getCanvas("mesh",ct,We,!1),_e=Pe.context,xe=_e.createImageData(Je,mt);if(be){const ke=xe.data;for(let Ee=0,Me=ke.length;Ee<Me;Ee+=4)ke[Ee]=be[0],ke[Ee+1]=be[1],ke[Ee+2]=be[2],ke[Ee+3]=255}for(const ke of this._figures)re(xe,ke,bt);return _e.putImageData(xe,2,2),{canvas:Pe.canvas,offsetX:Be-2*ht,offsetY:qe-2*pt,scaleX:ht,scaleY:pt}}getPattern(ce,be,Le,ve){te(ce,this._bbox);let ye;if(ve===ee.SHADING)ye=V.Util.singularValueDecompose2dScale((0,Y.getCurrentTransform)(ce));else if(ye=V.Util.singularValueDecompose2dScale(be.baseTransform),this.matrix){const Be=V.Util.singularValueDecompose2dScale(this.matrix);ye=[ye[0]*Be[0],ye[1]*Be[1]]}const Ae=this._createMeshCanvas(ye,ve===ee.SHADING?null:this._background,be.cachedCanvases);return ve!==ee.SHADING&&(ce.setTransform(...be.baseTransform),this.matrix&&ce.transform(...this.matrix)),ce.translate(Ae.offsetX,Ae.offsetY),ce.scale(Ae.scaleX,Ae.scaleY),ce.createPattern(Ae.canvas,"no-repeat")}}class le extends J{getPattern(){return"hotpink"}}function ae(de){switch(de[0]){case"RadialAxial":return new ie(de);case"Mesh":return new ne(de);case"Dummy":return new le}throw new Error(`Unknown IR type: ${de[0]}`)}const se={COLORED:1,UNCOLORED:2};class ue{static MAX_PATTERN_SIZE=3e3;constructor(ce,be,Le,ve,ye){this.operatorList=ce[2],this.matrix=ce[3]||[1,0,0,1,0,0],this.bbox=ce[4],this.xstep=ce[5],this.ystep=ce[6],this.paintType=ce[7],this.tilingType=ce[8],this.color=be,this.ctx=Le,this.canvasGraphicsFactory=ve,this.baseTransform=ye}createPatternCanvas(ce){const be=this.operatorList,Le=this.bbox,ve=this.xstep,ye=this.ystep,Ae=this.paintType,Be=this.tilingType,qe=this.color,Ue=this.canvasGraphicsFactory;(0,V.info)("TilingType: "+Be);const Ke=Le[0],Je=Le[1],mt=Le[2],ht=Le[3],pt=V.Util.singularValueDecompose2dScale(this.matrix),bt=V.Util.singularValueDecompose2dScale(this.baseTransform),ct=[pt[0]*bt[0],pt[1]*bt[1]],We=this.getSizeAndScale(ve,this.ctx.canvas.width,ct[0]),Pe=this.getSizeAndScale(ye,this.ctx.canvas.height,ct[1]),_e=ce.cachedCanvases.getCanvas("pattern",We.size,Pe.size,!0),xe=_e.context,ge=Ue.createCanvasGraphics(xe);ge.groupLevel=ce.groupLevel,this.setFillAndStrokeStyleToContext(ge,Ae,qe);let ke=Ke,Ee=Je,Me=mt,Oe=ht;return Ke<0&&(ke=0,Me+=Math.abs(Ke)),Je<0&&(Ee=0,Oe+=Math.abs(Je)),xe.translate(-(We.scale*ke),-(Pe.scale*Ee)),ge.transform(We.scale,0,0,Pe.scale,0,0),xe.save(),this.clipBbox(ge,ke,Ee,Me,Oe),ge.baseTransform=(0,Y.getCurrentTransform)(ge.ctx),ge.executeOperatorList(be),ge.endDrawing(),{canvas:_e.canvas,scaleX:We.scale,scaleY:Pe.scale,offsetX:ke,offsetY:Ee}}getSizeAndScale(ce,be,Le){ce=Math.abs(ce);const ve=Math.max(ue.MAX_PATTERN_SIZE,be);let ye=Math.ceil(ce*Le);return ye>=ve?ye=ve:Le=ye/ce,{scale:Le,size:ye}}clipBbox(ce,be,Le,ve,ye){const Ae=ve-be,Be=ye-Le;ce.ctx.rect(be,Le,Ae,Be),ce.current.updateRectMinMax((0,Y.getCurrentTransform)(ce.ctx),[be,Le,ve,ye]),ce.clip(),ce.endPath()}setFillAndStrokeStyleToContext(ce,be,Le){const ve=ce.ctx,ye=ce.current;switch(be){case se.COLORED:const Ae=this.ctx;ve.fillStyle=Ae.fillStyle,ve.strokeStyle=Ae.strokeStyle,ye.fillColor=Ae.fillStyle,ye.strokeColor=Ae.strokeStyle;break;case se.UNCOLORED:const Be=V.Util.makeHexColor(Le[0],Le[1],Le[2]);ve.fillStyle=Be,ve.strokeStyle=Be,ye.fillColor=Be,ye.strokeColor=Be;break;default:throw new V.FormatError(`Unsupported paint type: ${be}`)}}getPattern(ce,be,Le,ve){let ye=Le;ve!==ee.SHADING&&(ye=V.Util.transform(ye,be.baseTransform),this.matrix&&(ye=V.Util.transform(ye,this.matrix)));const Ae=this.createPatternCanvas(be);let Be=new DOMMatrix(ye);Be=Be.translate(Ae.offsetX,Ae.offsetY),Be=Be.scale(1/Ae.scaleX,1/Ae.scaleY);const qe=ce.createPattern(Ae.canvas,"repeat");return qe.setTransform(Be),qe}}T.TilingPattern=ue},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.convertBlackAndWhiteToRGBA=ee,T.convertToRGBA=Y,T.grayToRGBA=J;var V=$(1);function Y(ie){switch(ie.kind){case V.ImageKind.GRAYSCALE_1BPP:return ee(ie);case V.ImageKind.RGB_24BPP:return te(ie)}return null}function ee({src:ie,srcPos:K=0,dest:re,width:ne,height:le,nonBlackColor:ae=4294967295,inverseDecode:se=!1}){const ue=V.FeatureTest.isLittleEndian?4278190080:255,[de,ce]=se?[ae,ue]:[ue,ae],be=ne>>3,Le=ne&7,ve=ie.length;re=new Uint32Array(re.buffer);let ye=0;for(let Ae=0;Ae<le;Ae++){for(const qe=K+be;K<qe;K++){const Ue=K<ve?ie[K]:255;re[ye++]=Ue&128?ce:de,re[ye++]=Ue&64?ce:de,re[ye++]=Ue&32?ce:de,re[ye++]=Ue&16?ce:de,re[ye++]=Ue&8?ce:de,re[ye++]=Ue&4?ce:de,re[ye++]=Ue&2?ce:de,re[ye++]=Ue&1?ce:de}if(Le===0)continue;const Be=K<ve?ie[K++]:255;for(let qe=0;qe<Le;qe++)re[ye++]=Be&1<<7-qe?ce:de}return{srcPos:K,destPos:ye}}function te({src:ie,srcPos:K=0,dest:re,destPos:ne=0,width:le,height:ae}){let se=0;const ue=ie.length>>2,de=new Uint32Array(ie.buffer,K,ue);if(V.FeatureTest.isLittleEndian){for(;se<ue-2;se+=3,ne+=4){const ce=de[se],be=de[se+1],Le=de[se+2];re[ne]=ce|4278190080,re[ne+1]=ce>>>24|be<<8|4278190080,re[ne+2]=be>>>16|Le<<16|4278190080,re[ne+3]=Le>>>8|4278190080}for(let ce=se*4,be=ie.length;ce<be;ce+=3)re[ne++]=ie[ce]|ie[ce+1]<<8|ie[ce+2]<<16|4278190080}else{for(;se<ue-2;se+=3,ne+=4){const ce=de[se],be=de[se+1],Le=de[se+2];re[ne]=ce|255,re[ne+1]=ce<<24|be>>>8|255,re[ne+2]=be<<16|Le>>>16|255,re[ne+3]=Le<<8|255}for(let ce=se*4,be=ie.length;ce<be;ce+=3)re[ne++]=ie[ce]<<24|ie[ce+1]<<16|ie[ce+2]<<8|255}return{srcPos:K,destPos:ne}}function J(ie,K){if(V.FeatureTest.isLittleEndian)for(let re=0,ne=ie.length;re<ne;re++)K[re]=ie[re]*65793|4278190080;else for(let re=0,ne=ie.length;re<ne;re++)K[re]=ie[re]*16843008|255}},(C,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.GlobalWorkerOptions=void 0;const $=Object.create(null);T.GlobalWorkerOptions=$,$.workerPort=null,$.workerSrc=""},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.MessageHandler=void 0;var V=$(1);const Y={UNKNOWN:0,DATA:1,ERROR:2},ee={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function te(ie){switch(ie instanceof Error||typeof ie=="object"&&ie!==null||(0,V.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ie.name){case"AbortException":return new V.AbortException(ie.message);case"MissingPDFException":return new V.MissingPDFException(ie.message);case"PasswordException":return new V.PasswordException(ie.message,ie.code);case"UnexpectedResponseException":return new V.UnexpectedResponseException(ie.message,ie.status);case"UnknownErrorException":return new V.UnknownErrorException(ie.message,ie.details);default:return new V.UnknownErrorException(ie.message,ie.toString())}}class J{constructor(K,re,ne){this.sourceName=K,this.targetName=re,this.comObj=ne,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=le=>{const ae=le.data;if(ae.targetName!==this.sourceName)return;if(ae.stream){this.#t(ae);return}if(ae.callback){const ue=ae.callbackId,de=this.callbackCapabilities[ue];if(!de)throw new Error(`Cannot resolve callback ${ue}`);if(delete this.callbackCapabilities[ue],ae.callback===Y.DATA)de.resolve(ae.data);else if(ae.callback===Y.ERROR)de.reject(te(ae.reason));else throw new Error("Unexpected callback case");return}const se=this.actionHandler[ae.action];if(!se)throw new Error(`Unknown action from worker: ${ae.action}`);if(ae.callbackId){const ue=this.sourceName,de=ae.sourceName;new Promise(function(ce){ce(se(ae.data))}).then(function(ce){ne.postMessage({sourceName:ue,targetName:de,callback:Y.DATA,callbackId:ae.callbackId,data:ce})},function(ce){ne.postMessage({sourceName:ue,targetName:de,callback:Y.ERROR,callbackId:ae.callbackId,reason:te(ce)})});return}if(ae.streamId){this.#e(ae);return}se(ae.data)},ne.addEventListener("message",this._onComObjOnMessage)}on(K,re){const ne=this.actionHandler;if(ne[K])throw new Error(`There is already an actionName called "${K}"`);ne[K]=re}send(K,re,ne){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:K,data:re},ne)}sendWithPromise(K,re,ne){const le=this.callbackId++,ae=new V.PromiseCapability;this.callbackCapabilities[le]=ae;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:K,callbackId:le,data:re},ne)}catch(se){ae.reject(se)}return ae.promise}sendWithStream(K,re,ne,le){const ae=this.streamId++,se=this.sourceName,ue=this.targetName,de=this.comObj;return new ReadableStream({start:ce=>{const be=new V.PromiseCapability;return this.streamControllers[ae]={controller:ce,startCall:be,pullCall:null,cancelCall:null,isClosed:!1},de.postMessage({sourceName:se,targetName:ue,action:K,streamId:ae,data:re,desiredSize:ce.desiredSize},le),be.promise},pull:ce=>{const be=new V.PromiseCapability;return this.streamControllers[ae].pullCall=be,de.postMessage({sourceName:se,targetName:ue,stream:ee.PULL,streamId:ae,desiredSize:ce.desiredSize}),be.promise},cancel:ce=>{(0,V.assert)(ce instanceof Error,"cancel must have a valid reason");const be=new V.PromiseCapability;return this.streamControllers[ae].cancelCall=be,this.streamControllers[ae].isClosed=!0,de.postMessage({sourceName:se,targetName:ue,stream:ee.CANCEL,streamId:ae,reason:te(ce)}),be.promise}},ne)}#e(K){const re=K.streamId,ne=this.sourceName,le=K.sourceName,ae=this.comObj,se=this,ue=this.actionHandler[K.action],de={enqueue(ce,be=1,Le){if(this.isCancelled)return;const ve=this.desiredSize;this.desiredSize-=be,ve>0&&this.desiredSize<=0&&(this.sinkCapability=new V.PromiseCapability,this.ready=this.sinkCapability.promise),ae.postMessage({sourceName:ne,targetName:le,stream:ee.ENQUEUE,streamId:re,chunk:ce},Le)},close(){this.isCancelled||(this.isCancelled=!0,ae.postMessage({sourceName:ne,targetName:le,stream:ee.CLOSE,streamId:re}),delete se.streamSinks[re])},error(ce){(0,V.assert)(ce instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ae.postMessage({sourceName:ne,targetName:le,stream:ee.ERROR,streamId:re,reason:te(ce)}))},sinkCapability:new V.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:K.desiredSize,ready:null};de.sinkCapability.resolve(),de.ready=de.sinkCapability.promise,this.streamSinks[re]=de,new Promise(function(ce){ce(ue(K.data,de))}).then(function(){ae.postMessage({sourceName:ne,targetName:le,stream:ee.START_COMPLETE,streamId:re,success:!0})},function(ce){ae.postMessage({sourceName:ne,targetName:le,stream:ee.START_COMPLETE,streamId:re,reason:te(ce)})})}#t(K){const re=K.streamId,ne=this.sourceName,le=K.sourceName,ae=this.comObj,se=this.streamControllers[re],ue=this.streamSinks[re];switch(K.stream){case ee.START_COMPLETE:K.success?se.startCall.resolve():se.startCall.reject(te(K.reason));break;case ee.PULL_COMPLETE:K.success?se.pullCall.resolve():se.pullCall.reject(te(K.reason));break;case ee.PULL:if(!ue){ae.postMessage({sourceName:ne,targetName:le,stream:ee.PULL_COMPLETE,streamId:re,success:!0});break}ue.desiredSize<=0&&K.desiredSize>0&&ue.sinkCapability.resolve(),ue.desiredSize=K.desiredSize,new Promise(function(de){de(ue.onPull?.())}).then(function(){ae.postMessage({sourceName:ne,targetName:le,stream:ee.PULL_COMPLETE,streamId:re,success:!0})},function(de){ae.postMessage({sourceName:ne,targetName:le,stream:ee.PULL_COMPLETE,streamId:re,reason:te(de)})});break;case ee.ENQUEUE:if((0,V.assert)(se,"enqueue should have stream controller"),se.isClosed)break;se.controller.enqueue(K.chunk);break;case ee.CLOSE:if((0,V.assert)(se,"close should have stream controller"),se.isClosed)break;se.isClosed=!0,se.controller.close(),this.#r(se,re);break;case ee.ERROR:(0,V.assert)(se,"error should have stream controller"),se.controller.error(te(K.reason)),this.#r(se,re);break;case ee.CANCEL_COMPLETE:K.success?se.cancelCall.resolve():se.cancelCall.reject(te(K.reason)),this.#r(se,re);break;case ee.CANCEL:if(!ue)break;new Promise(function(de){de(ue.onCancel?.(te(K.reason)))}).then(function(){ae.postMessage({sourceName:ne,targetName:le,stream:ee.CANCEL_COMPLETE,streamId:re,success:!0})},function(de){ae.postMessage({sourceName:ne,targetName:le,stream:ee.CANCEL_COMPLETE,streamId:re,reason:te(de)})}),ue.sinkCapability.reject(te(K.reason)),ue.isCancelled=!0,delete this.streamSinks[re];break;default:throw new Error("Unexpected stream case")}}async#r(K,re){await Promise.allSettled([K.startCall?.promise,K.pullCall?.promise,K.cancelCall?.promise]),delete this.streamControllers[re]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}T.MessageHandler=J},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.Metadata=void 0;var V=$(1);class Y{#e;#t;constructor({parsedData:te,rawData:J}){this.#e=te,this.#t=J}getRaw(){return this.#t}get(te){return this.#e.get(te)??null}getAll(){return(0,V.objectFromMap)(this.#e)}has(te){return this.#e.has(te)}}T.Metadata=Y},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.OptionalContentConfig=void 0;var V=$(1),Y=$(8);const ee=Symbol("INTERNAL");class te{#e=!0;constructor(K,re){this.name=K,this.intent=re}get visible(){return this.#e}_setVisible(K,re){K!==ee&&(0,V.unreachable)("Internal method `_setVisible` called."),this.#e=re}}class J{#e=null;#t=new Map;#r=null;#n=null;constructor(K){if(this.name=null,this.creator=null,K!==null){this.name=K.name,this.creator=K.creator,this.#n=K.order;for(const re of K.groups)this.#t.set(re.id,new te(re.name,re.intent));if(K.baseState==="OFF")for(const re of this.#t.values())re._setVisible(ee,!1);for(const re of K.on)this.#t.get(re)._setVisible(ee,!0);for(const re of K.off)this.#t.get(re)._setVisible(ee,!1);this.#r=this.getHash()}}#o(K){const re=K.length;if(re<2)return!0;const ne=K[0];for(let le=1;le<re;le++){const ae=K[le];let se;if(Array.isArray(ae))se=this.#o(ae);else if(this.#t.has(ae))se=this.#t.get(ae).visible;else return(0,V.warn)(`Optional content group not found: ${ae}`),!0;switch(ne){case"And":if(!se)return!1;break;case"Or":if(se)return!0;break;case"Not":return!se;default:return!0}}return ne==="And"}isVisible(K){if(this.#t.size===0)return!0;if(!K)return(0,V.warn)("Optional content group not defined."),!0;if(K.type==="OCG")return this.#t.has(K.id)?this.#t.get(K.id).visible:((0,V.warn)(`Optional content group not found: ${K.id}`),!0);if(K.type==="OCMD"){if(K.expression)return this.#o(K.expression);if(!K.policy||K.policy==="AnyOn"){for(const re of K.ids){if(!this.#t.has(re))return(0,V.warn)(`Optional content group not found: ${re}`),!0;if(this.#t.get(re).visible)return!0}return!1}else if(K.policy==="AllOn"){for(const re of K.ids){if(!this.#t.has(re))return(0,V.warn)(`Optional content group not found: ${re}`),!0;if(!this.#t.get(re).visible)return!1}return!0}else if(K.policy==="AnyOff"){for(const re of K.ids){if(!this.#t.has(re))return(0,V.warn)(`Optional content group not found: ${re}`),!0;if(!this.#t.get(re).visible)return!0}return!1}else if(K.policy==="AllOff"){for(const re of K.ids){if(!this.#t.has(re))return(0,V.warn)(`Optional content group not found: ${re}`),!0;if(this.#t.get(re).visible)return!1}return!0}return(0,V.warn)(`Unknown optional content policy ${K.policy}.`),!0}return(0,V.warn)(`Unknown group type ${K.type}.`),!0}setVisibility(K,re=!0){if(!this.#t.has(K)){(0,V.warn)(`Optional content group not found: ${K}`);return}this.#t.get(K)._setVisible(ee,!!re),this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,V.objectFromMap)(this.#t):null}getGroup(K){return this.#t.get(K)||null}getHash(){if(this.#e!==null)return this.#e;const K=new Y.MurmurHash3_64;for(const[re,ne]of this.#t)K.update(`${re}:${ne.visible}`);return this.#e=K.hexdigest()}}T.OptionalContentConfig=J},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFDataTransportStream=void 0;var V=$(1),Y=$(6);class ee{constructor({length:K,initialData:re,progressiveDone:ne=!1,contentDispositionFilename:le=null,disableRange:ae=!1,disableStream:se=!1},ue){if((0,V.assert)(ue,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ne,this._contentDispositionFilename=le,re?.length>0){const de=re instanceof Uint8Array&&re.byteLength===re.buffer.byteLength?re.buffer:new Uint8Array(re).buffer;this._queuedChunks.push(de)}this._pdfDataRangeTransport=ue,this._isStreamingSupported=!se,this._isRangeSupported=!ae,this._contentLength=K,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((de,ce)=>{this._onReceiveData({begin:de,chunk:ce})}),this._pdfDataRangeTransport.addProgressListener((de,ce)=>{this._onProgress({loaded:de,total:ce})}),this._pdfDataRangeTransport.addProgressiveReadListener(de=>{this._onReceiveData({chunk:de})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:K,chunk:re}){const ne=re instanceof Uint8Array&&re.byteLength===re.buffer.byteLength?re.buffer:new Uint8Array(re).buffer;if(K===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ne):this._queuedChunks.push(ne);else{const le=this._rangeReaders.some(function(ae){return ae._begin!==K?!1:(ae._enqueue(ne),!0)});(0,V.assert)(le,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(K){K.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:K.loaded}):this._fullRequestReader?.onProgress?.({loaded:K.loaded,total:K.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(K){const re=this._rangeReaders.indexOf(K);re>=0&&this._rangeReaders.splice(re,1)}getFullReader(){(0,V.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const K=this._queuedChunks;return this._queuedChunks=null,new te(this,K,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(K,re){if(re<=this._progressiveDataLength)return null;const ne=new J(this,K,re);return this._pdfDataRangeTransport.requestDataRange(K,re),this._rangeReaders.push(ne),ne}cancelAllRequests(K){this._fullRequestReader?.cancel(K);for(const re of this._rangeReaders.slice(0))re.cancel(K);this._pdfDataRangeTransport.abort()}}T.PDFDataTransportStream=ee;class te{constructor(K,re,ne=!1,le=null){this._stream=K,this._done=ne||!1,this._filename=(0,Y.isPdfFile)(le)?le:null,this._queuedChunks=re||[],this._loaded=0;for(const ae of this._queuedChunks)this._loaded+=ae.byteLength;this._requests=[],this._headersReady=Promise.resolve(),K._fullRequestReader=this,this.onProgress=null}_enqueue(K){this._done||(this._requests.length>0?this._requests.shift().resolve({value:K,done:!1}):this._queuedChunks.push(K),this._loaded+=K.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const K=new V.PromiseCapability;return this._requests.push(K),K.promise}cancel(K){this._done=!0;for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class J{constructor(K,re,ne){this._stream=K,this._begin=re,this._end=ne,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(K){if(!this._done){if(this._requests.length===0)this._queuedChunk=K;else{this._requests.shift().resolve({value:K,done:!1});for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const re=this._queuedChunk;return this._queuedChunk=null,{value:re,done:!1}}if(this._done)return{value:void 0,done:!0};const K=new V.PromiseCapability;return this._requests.push(K),K.promise}cancel(K){this._done=!0;for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFFetchStream=void 0;var V=$(1),Y=$(20);function ee(ne,le,ae){return{method:"GET",headers:ne,signal:ae.signal,mode:"cors",credentials:le?"include":"same-origin",redirect:"follow"}}function te(ne){const le=new Headers;for(const ae in ne){const se=ne[ae];se!==void 0&&le.append(ae,se)}return le}function J(ne){return ne instanceof Uint8Array?ne.buffer:ne instanceof ArrayBuffer?ne:((0,V.warn)(`getArrayBuffer - unexpected data format: ${ne}`),new Uint8Array(ne).buffer)}class ie{constructor(le){this.source=le,this.isHttp=/^https?:/i.test(le.url),this.httpHeaders=this.isHttp&&le.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,V.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new K(this),this._fullRequestReader}getRangeReader(le,ae){if(ae<=this._progressiveDataLength)return null;const se=new re(this,le,ae);return this._rangeRequestReaders.push(se),se}cancelAllRequests(le){this._fullRequestReader?.cancel(le);for(const ae of this._rangeRequestReaders.slice(0))ae.cancel(le)}}T.PDFFetchStream=ie;class K{constructor(le){this._stream=le,this._reader=null,this._loaded=0,this._filename=null;const ae=le.source;this._withCredentials=ae.withCredentials||!1,this._contentLength=ae.length,this._headersCapability=new V.PromiseCapability,this._disableRange=ae.disableRange||!1,this._rangeChunkSize=ae.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ae.disableStream,this._isRangeSupported=!ae.disableRange,this._headers=te(this._stream.httpHeaders);const se=ae.url;fetch(se,ee(this._headers,this._withCredentials,this._abortController)).then(ue=>{if(!(0,Y.validateResponseStatus)(ue.status))throw(0,Y.createResponseStatusError)(ue.status,se);this._reader=ue.body.getReader(),this._headersCapability.resolve();const de=Le=>ue.headers.get(Le),{allowRangeRequests:ce,suggestedLength:be}=(0,Y.validateRangeRequestCapabilities)({getResponseHeader:de,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ce,this._contentLength=be||this._contentLength,this._filename=(0,Y.extractFilenameFromHeader)(de),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new V.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:le,done:ae}=await this._reader.read();return ae?{value:le,done:ae}:(this._loaded+=le.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:J(le),done:!1})}cancel(le){this._reader?.cancel(le),this._abortController.abort()}}class re{constructor(le,ae,se){this._stream=le,this._reader=null,this._loaded=0;const ue=le.source;this._withCredentials=ue.withCredentials||!1,this._readCapability=new V.PromiseCapability,this._isStreamingSupported=!ue.disableStream,this._abortController=new AbortController,this._headers=te(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ae}-${se-1}`);const de=ue.url;fetch(de,ee(this._headers,this._withCredentials,this._abortController)).then(ce=>{if(!(0,Y.validateResponseStatus)(ce.status))throw(0,Y.createResponseStatusError)(ce.status,de);this._readCapability.resolve(),this._reader=ce.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:le,done:ae}=await this._reader.read();return ae?{value:le,done:ae}:(this._loaded+=le.byteLength,this.onProgress?.({loaded:this._loaded}),{value:J(le),done:!1})}cancel(le){this._reader?.cancel(le),this._abortController.abort()}}},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.createResponseStatusError=ie,T.extractFilenameFromHeader=J,T.validateRangeRequestCapabilities=te,T.validateResponseStatus=K;var V=$(1),Y=$(21),ee=$(6);function te({getResponseHeader:re,isHttp:ne,rangeChunkSize:le,disableRange:ae}){const se={allowRangeRequests:!1,suggestedLength:void 0},ue=parseInt(re("Content-Length"),10);return!Number.isInteger(ue)||(se.suggestedLength=ue,ue<=2*le)||ae||!ne||re("Accept-Ranges")!=="bytes"||(re("Content-Encoding")||"identity")!=="identity"||(se.allowRangeRequests=!0),se}function J(re){const ne=re("Content-Disposition");if(ne){let le=(0,Y.getFilenameFromContentDispositionHeader)(ne);if(le.includes("%"))try{le=decodeURIComponent(le)}catch{}if((0,ee.isPdfFile)(le))return le}return null}function ie(re,ne){return re===404||re===0&&ne.startsWith("file:")?new V.MissingPDFException('Missing PDF "'+ne+'".'):new V.UnexpectedResponseException(`Unexpected server response (${re}) while retrieving PDF "${ne}".`,re)}function K(re){return re===200||re===206}},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.getFilenameFromContentDispositionHeader=Y;var V=$(1);function Y(ee){let te=!0,J=ie("filename\\*","i").exec(ee);if(J){J=J[1];let ue=le(J);return ue=unescape(ue),ue=ae(ue),ue=se(ue),re(ue)}if(J=ne(ee),J){const ue=se(J);return re(ue)}if(J=ie("filename","i").exec(ee),J){J=J[1];let ue=le(J);return ue=se(ue),re(ue)}function ie(ue,de){return new RegExp("(?:^|;)\\s*"+ue+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',de)}function K(ue,de){if(ue){if(!/^[\x00-\xFF]+$/.test(de))return de;try{const ce=new TextDecoder(ue,{fatal:!0}),be=(0,V.stringToBytes)(de);de=ce.decode(be),te=!1}catch{}}return de}function re(ue){return te&&/[\x80-\xff]/.test(ue)&&(ue=K("utf-8",ue),te&&(ue=K("iso-8859-1",ue))),ue}function ne(ue){const de=[];let ce;const be=ie("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ce=be.exec(ue))!==null;){let[,ve,ye,Ae]=ce;if(ve=parseInt(ve,10),ve in de){if(ve===0)break;continue}de[ve]=[ye,Ae]}const Le=[];for(let ve=0;ve<de.length&&ve in de;++ve){let[ye,Ae]=de[ve];Ae=le(Ae),ye&&(Ae=unescape(Ae),ve===0&&(Ae=ae(Ae))),Le.push(Ae)}return Le.join("")}function le(ue){if(ue.startsWith('"')){const de=ue.slice(1).split('\\"');for(let ce=0;ce<de.length;++ce){const be=de[ce].indexOf('"');be!==-1&&(de[ce]=de[ce].slice(0,be),de.length=ce+1),de[ce]=de[ce].replaceAll(/\\(.)/g,"$1")}ue=de.join('"')}return ue}function ae(ue){const de=ue.indexOf("'");if(de===-1)return ue;const ce=ue.slice(0,de),Le=ue.slice(de+1).replace(/^[^']*'/,"");return K(ce,Le)}function se(ue){return!ue.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ue)?ue:ue.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(de,ce,be,Le){if(be==="q"||be==="Q")return Le=Le.replaceAll("_"," "),Le=Le.replaceAll(/=([0-9a-fA-F]{2})/g,function(ve,ye){return String.fromCharCode(parseInt(ye,16))}),K(ce,Le);try{Le=atob(Le)}catch{}return K(ce,Le)})}return""}},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFNetworkStream=void 0;var V=$(1),Y=$(20);const ee=200,te=206;function J(le){const ae=le.response;return typeof ae!="string"?ae:(0,V.stringToBytes)(ae).buffer}class ie{constructor(ae,se={}){this.url=ae,this.isHttp=/^https?:/i.test(ae),this.httpHeaders=this.isHttp&&se.httpHeaders||Object.create(null),this.withCredentials=se.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ae,se,ue){const de={begin:ae,end:se};for(const ce in ue)de[ce]=ue[ce];return this.request(de)}requestFull(ae){return this.request(ae)}request(ae){const se=new XMLHttpRequest,ue=this.currXhrId++,de=this.pendingRequests[ue]={xhr:se};se.open("GET",this.url),se.withCredentials=this.withCredentials;for(const ce in this.httpHeaders){const be=this.httpHeaders[ce];be!==void 0&&se.setRequestHeader(ce,be)}return this.isHttp&&"begin"in ae&&"end"in ae?(se.setRequestHeader("Range",`bytes=${ae.begin}-${ae.end-1}`),de.expectedStatus=te):de.expectedStatus=ee,se.responseType="arraybuffer",ae.onError&&(se.onerror=function(ce){ae.onError(se.status)}),se.onreadystatechange=this.onStateChange.bind(this,ue),se.onprogress=this.onProgress.bind(this,ue),de.onHeadersReceived=ae.onHeadersReceived,de.onDone=ae.onDone,de.onError=ae.onError,de.onProgress=ae.onProgress,se.send(null),ue}onProgress(ae,se){const ue=this.pendingRequests[ae];ue&&ue.onProgress?.(se)}onStateChange(ae,se){const ue=this.pendingRequests[ae];if(!ue)return;const de=ue.xhr;if(de.readyState>=2&&ue.onHeadersReceived&&(ue.onHeadersReceived(),delete ue.onHeadersReceived),de.readyState!==4||!(ae in this.pendingRequests))return;if(delete this.pendingRequests[ae],de.status===0&&this.isHttp){ue.onError?.(de.status);return}const ce=de.status||ee;if(!(ce===ee&&ue.expectedStatus===te)&&ce!==ue.expectedStatus){ue.onError?.(de.status);return}const Le=J(de);if(ce===te){const ve=de.getResponseHeader("Content-Range"),ye=/bytes (\d+)-(\d+)\/(\d+)/.exec(ve);ue.onDone({begin:parseInt(ye[1],10),chunk:Le})}else Le?ue.onDone({begin:0,chunk:Le}):ue.onError?.(de.status)}getRequestXhr(ae){return this.pendingRequests[ae].xhr}isPendingRequest(ae){return ae in this.pendingRequests}abortRequest(ae){const se=this.pendingRequests[ae].xhr;delete this.pendingRequests[ae],se.abort()}}class K{constructor(ae){this._source=ae,this._manager=new ie(ae.url,{httpHeaders:ae.httpHeaders,withCredentials:ae.withCredentials}),this._rangeChunkSize=ae.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ae){const se=this._rangeRequestReaders.indexOf(ae);se>=0&&this._rangeRequestReaders.splice(se,1)}getFullReader(){return(0,V.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new re(this._manager,this._source),this._fullRequestReader}getRangeReader(ae,se){const ue=new ne(this._manager,ae,se);return ue.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ue),ue}cancelAllRequests(ae){this._fullRequestReader?.cancel(ae);for(const se of this._rangeRequestReaders.slice(0))se.cancel(ae)}}T.PDFNetworkStream=K;class re{constructor(ae,se){this._manager=ae;const ue={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=se.url,this._fullRequestId=ae.requestFull(ue),this._headersReceivedCapability=new V.PromiseCapability,this._disableRange=se.disableRange||!1,this._contentLength=se.length,this._rangeChunkSize=se.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ae=this._fullRequestId,se=this._manager.getRequestXhr(ae),ue=be=>se.getResponseHeader(be),{allowRangeRequests:de,suggestedLength:ce}=(0,Y.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});de&&(this._isRangeSupported=!0),this._contentLength=ce||this._contentLength,this._filename=(0,Y.extractFilenameFromHeader)(ue),this._isRangeSupported&&this._manager.abortRequest(ae),this._headersReceivedCapability.resolve()}_onDone(ae){if(ae&&(this._requests.length>0?this._requests.shift().resolve({value:ae.chunk,done:!1}):this._cachedChunks.push(ae.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ae){this._storedError=(0,Y.createResponseStatusError)(ae,this._url),this._headersReceivedCapability.reject(this._storedError);for(const se of this._requests)se.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ae){this.onProgress?.({loaded:ae.loaded,total:ae.lengthComputable?ae.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ae=new V.PromiseCapability;return this._requests.push(ae),ae.promise}cancel(ae){this._done=!0,this._headersReceivedCapability.reject(ae);for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ne{constructor(ae,se,ue){this._manager=ae;const de={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ae.url,this._requestId=ae.requestRange(se,ue,de),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(ae){const se=ae.chunk;this._requests.length>0?this._requests.shift().resolve({value:se,done:!1}):this._queuedChunk=se,this._done=!0;for(const ue of this._requests)ue.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ae){this._storedError=(0,Y.createResponseStatusError)(ae,this._url);for(const se of this._requests)se.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ae){this.isStreamingSupported||this.onProgress?.({loaded:ae.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const se=this._queuedChunk;return this._queuedChunk=null,{value:se,done:!1}}if(this._done)return{value:void 0,done:!0};const ae=new V.PromiseCapability;return this._requests.push(ae),ae.promise}cancel(ae){this._done=!0;for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFNodeStream=void 0;var V=$(1),Y=$(20);const ee=/^file:\/\/\/[a-zA-Z]:\//;function te(ue){const de=require$$5,ce=de.parse(ue);return ce.protocol==="file:"||ce.host?ce:/^[a-z]:[/\\]/i.test(ue)?de.parse(`file:///${ue}`):(ce.host||(ce.protocol="file:"),ce)}class J{constructor(de){this.source=de,this.url=te(de.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&de.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,V.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ae(this):new ne(this),this._fullRequestReader}getRangeReader(de,ce){if(ce<=this._progressiveDataLength)return null;const be=this.isFsUrl?new se(this,de,ce):new le(this,de,ce);return this._rangeRequestReaders.push(be),be}cancelAllRequests(de){this._fullRequestReader?.cancel(de);for(const ce of this._rangeRequestReaders.slice(0))ce.cancel(de)}}T.PDFNodeStream=J;class ie{constructor(de){this._url=de.url,this._done=!1,this._storedError=null,this.onProgress=null;const ce=de.source;this._contentLength=ce.length,this._loaded=0,this._filename=null,this._disableRange=ce.disableRange||!1,this._rangeChunkSize=ce.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ce.disableStream,this._isRangeSupported=!ce.disableRange,this._readableStream=null,this._readCapability=new V.PromiseCapability,this._headersCapability=new V.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const de=this._readableStream.read();return de===null?(this._readCapability=new V.PromiseCapability,this.read()):(this._loaded+=de.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(de).buffer,done:!1})}cancel(de){if(!this._readableStream){this._error(de);return}this._readableStream.destroy(de)}_error(de){this._storedError=de,this._readCapability.resolve()}_setReadableStream(de){this._readableStream=de,de.on("readable",()=>{this._readCapability.resolve()}),de.on("end",()=>{de.destroy(),this._done=!0,this._readCapability.resolve()}),de.on("error",ce=>{this._error(ce)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new V.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class K{constructor(de){this._url=de.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new V.PromiseCapability;const ce=de.source;this._isStreamingSupported=!ce.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const de=this._readableStream.read();return de===null?(this._readCapability=new V.PromiseCapability,this.read()):(this._loaded+=de.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(de).buffer,done:!1})}cancel(de){if(!this._readableStream){this._error(de);return}this._readableStream.destroy(de)}_error(de){this._storedError=de,this._readCapability.resolve()}_setReadableStream(de){this._readableStream=de,de.on("readable",()=>{this._readCapability.resolve()}),de.on("end",()=>{de.destroy(),this._done=!0,this._readCapability.resolve()}),de.on("error",ce=>{this._error(ce)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function re(ue,de){return{protocol:ue.protocol,auth:ue.auth,host:ue.hostname,port:ue.port,path:ue.path,method:"GET",headers:de}}class ne extends ie{constructor(de){super(de);const ce=be=>{if(be.statusCode===404){const Ae=new V.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ae,this._headersCapability.reject(Ae);return}this._headersCapability.resolve(),this._setReadableStream(be);const Le=Ae=>this._readableStream.headers[Ae.toLowerCase()],{allowRangeRequests:ve,suggestedLength:ye}=(0,Y.validateRangeRequestCapabilities)({getResponseHeader:Le,isHttp:de.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ve,this._contentLength=ye||this._contentLength,this._filename=(0,Y.extractFilenameFromHeader)(Le)};if(this._request=null,this._url.protocol==="http:"){const be=require$$5;this._request=be.request(re(this._url,de.httpHeaders),ce)}else{const be=require$$5;this._request=be.request(re(this._url,de.httpHeaders),ce)}this._request.on("error",be=>{this._storedError=be,this._headersCapability.reject(be)}),this._request.end()}}class le extends K{constructor(de,ce,be){super(de),this._httpHeaders={};for(const ve in de.httpHeaders){const ye=de.httpHeaders[ve];ye!==void 0&&(this._httpHeaders[ve]=ye)}this._httpHeaders.Range=`bytes=${ce}-${be-1}`;const Le=ve=>{if(ve.statusCode===404){const ye=new V.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ye;return}this._setReadableStream(ve)};if(this._request=null,this._url.protocol==="http:"){const ve=require$$5;this._request=ve.request(re(this._url,this._httpHeaders),Le)}else{const ve=require$$5;this._request=ve.request(re(this._url,this._httpHeaders),Le)}this._request.on("error",ve=>{this._storedError=ve}),this._request.end()}}class ae extends ie{constructor(de){super(de);let ce=decodeURIComponent(this._url.path);ee.test(this._url.href)&&(ce=ce.replace(/^\//,""));const be=require$$5;be.lstat(ce,(Le,ve)=>{if(Le){Le.code==="ENOENT"&&(Le=new V.MissingPDFException(`Missing PDF "${ce}".`)),this._storedError=Le,this._headersCapability.reject(Le);return}this._contentLength=ve.size,this._setReadableStream(be.createReadStream(ce)),this._headersCapability.resolve()})}}class se extends K{constructor(de,ce,be){super(de);let Le=decodeURIComponent(this._url.path);ee.test(this._url.href)&&(Le=Le.replace(/^\//,""));const ve=require$$5;this._setReadableStream(ve.createReadStream(Le,{start:ce,end:be-1}))}}},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.SVGGraphics=void 0;var V=$(6),Y=$(1);const ee={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},te="http://www.w3.org/XML/1998/namespace",J="http://www.w3.org/1999/xlink",ie=["butt","round","square"],K=["miter","round","bevel"],re=function(ve,ye="",Ae=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Ae)return URL.createObjectURL(new Blob([ve],{type:ye}));const Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let qe=`data:${ye};base64,`;for(let Ue=0,Ke=ve.length;Ue<Ke;Ue+=3){const Je=ve[Ue]&255,mt=ve[Ue+1]&255,ht=ve[Ue+2]&255,pt=Je>>2,bt=(Je&3)<<4|mt>>4,ct=Ue+1<Ke?(mt&15)<<2|ht>>6:64,We=Ue+2<Ke?ht&63:64;qe+=Be[pt]+Be[bt]+Be[ct]+Be[We]}return qe},ne=function(){const ve=new Uint8Array([137,80,78,71,13,10,26,10]),ye=12,Ae=new Int32Array(256);for(let ht=0;ht<256;ht++){let pt=ht;for(let bt=0;bt<8;bt++)pt=pt&1?3988292384^pt>>1&2147483647:pt>>1&2147483647;Ae[ht]=pt}function Be(ht,pt,bt){let ct=-1;for(let We=pt;We<bt;We++){const Pe=(ct^ht[We])&255,_e=Ae[Pe];ct=ct>>>8^_e}return ct^-1}function qe(ht,pt,bt,ct){let We=ct;const Pe=pt.length;bt[We]=Pe>>24&255,bt[We+1]=Pe>>16&255,bt[We+2]=Pe>>8&255,bt[We+3]=Pe&255,We+=4,bt[We]=ht.charCodeAt(0)&255,bt[We+1]=ht.charCodeAt(1)&255,bt[We+2]=ht.charCodeAt(2)&255,bt[We+3]=ht.charCodeAt(3)&255,We+=4,bt.set(pt,We),We+=pt.length;const _e=Be(bt,ct+4,We);bt[We]=_e>>24&255,bt[We+1]=_e>>16&255,bt[We+2]=_e>>8&255,bt[We+3]=_e&255}function Ue(ht,pt,bt){let ct=1,We=0;for(let Pe=pt;Pe<bt;++Pe)ct=(ct+(ht[Pe]&255))%65521,We=(We+ct)%65521;return We<<16|ct}function Ke(ht){if(!Y.isNodeJS)return Je(ht);try{const pt=parseInt(process.versions.node)>=8?ht:Buffer.from(ht),bt=require$$5.deflateSync(pt,{level:9});return bt instanceof Uint8Array?bt:new Uint8Array(bt)}catch(pt){(0,Y.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+pt)}return Je(ht)}function Je(ht){let pt=ht.length;const bt=65535,ct=Math.ceil(pt/bt),We=new Uint8Array(2+pt+ct*5+4);let Pe=0;We[Pe++]=120,We[Pe++]=156;let _e=0;for(;pt>bt;)We[Pe++]=0,We[Pe++]=255,We[Pe++]=255,We[Pe++]=0,We[Pe++]=0,We.set(ht.subarray(_e,_e+bt),Pe),Pe+=bt,_e+=bt,pt-=bt;We[Pe++]=1,We[Pe++]=pt&255,We[Pe++]=pt>>8&255,We[Pe++]=~pt&65535&255,We[Pe++]=(~pt&65535)>>8&255,We.set(ht.subarray(_e),Pe),Pe+=ht.length-_e;const xe=Ue(ht,0,ht.length);return We[Pe++]=xe>>24&255,We[Pe++]=xe>>16&255,We[Pe++]=xe>>8&255,We[Pe++]=xe&255,We}function mt(ht,pt,bt,ct){const We=ht.width,Pe=ht.height;let _e,xe,ge;const ke=ht.data;switch(pt){case Y.ImageKind.GRAYSCALE_1BPP:xe=0,_e=1,ge=We+7>>3;break;case Y.ImageKind.RGB_24BPP:xe=2,_e=8,ge=We*3;break;case Y.ImageKind.RGBA_32BPP:xe=6,_e=8,ge=We*4;break;default:throw new Error("invalid format")}const Ee=new Uint8Array((1+ge)*Pe);let Me=0,Oe=0;for(let He=0;He<Pe;++He)Ee[Me++]=0,Ee.set(ke.subarray(Oe,Oe+ge),Me),Oe+=ge,Me+=ge;if(pt===Y.ImageKind.GRAYSCALE_1BPP&&ct){Me=0;for(let He=0;He<Pe;He++){Me++;for(let Ge=0;Ge<ge;Ge++)Ee[Me++]^=255}}const pe=new Uint8Array([We>>24&255,We>>16&255,We>>8&255,We&255,Pe>>24&255,Pe>>16&255,Pe>>8&255,Pe&255,_e,xe,0,0,0]),Ce=Ke(Ee),Re=ve.length+ye*3+pe.length+Ce.length,De=new Uint8Array(Re);let Ne=0;return De.set(ve,Ne),Ne+=ve.length,qe("IHDR",pe,De,Ne),Ne+=ye+pe.length,qe("IDATA",Ce,De,Ne),Ne+=ye+Ce.length,qe("IEND",new Uint8Array(0),De,Ne),re(De,"image/png",bt)}return function(pt,bt,ct){const We=pt.kind===void 0?Y.ImageKind.GRAYSCALE_1BPP:pt.kind;return mt(pt,We,bt,ct)}}();class le{constructor(){this.fontSizeScale=1,this.fontWeight=ee.fontWeight,this.fontSize=0,this.textMatrix=Y.IDENTITY_MATRIX,this.fontMatrix=Y.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=Y.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ee.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ye,Ae){this.x=ye,this.y=Ae}}function ae(ve){let ye=[];const Ae=[];for(const Be of ve){if(Be.fn==="save"){ye.push({fnId:92,fn:"group",items:[]}),Ae.push(ye),ye=ye.at(-1).items;continue}Be.fn==="restore"?ye=Ae.pop():ye.push(Be)}return ye}function se(ve){if(Number.isInteger(ve))return ve.toString();const ye=ve.toFixed(10);let Ae=ye.length-1;if(ye[Ae]!=="0")return ye;do Ae--;while(ye[Ae]==="0");return ye.substring(0,ye[Ae]==="."?Ae:Ae+1)}function ue(ve){if(ve[4]===0&&ve[5]===0){if(ve[1]===0&&ve[2]===0)return ve[0]===1&&ve[3]===1?"":`scale(${se(ve[0])} ${se(ve[3])})`;if(ve[0]===ve[3]&&ve[1]===-ve[2]){const ye=Math.acos(ve[0])*180/Math.PI;return`rotate(${se(ye)})`}}else if(ve[0]===1&&ve[1]===0&&ve[2]===0&&ve[3]===1)return`translate(${se(ve[4])} ${se(ve[5])})`;return`matrix(${se(ve[0])} ${se(ve[1])} ${se(ve[2])} ${se(ve[3])} ${se(ve[4])} ${se(ve[5])})`}let de=0,ce=0,be=0;class Le{constructor(ye,Ae,Be=!1){(0,V.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new V.DOMSVGFactory,this.current=new le,this.transformMatrix=Y.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ye,this.objs=Ae,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Be,this._operatorIdMapping=[];for(const qe in Y.OPS)this._operatorIdMapping[Y.OPS[qe]]=qe}getObject(ye,Ae=null){return typeof ye=="string"?ye.startsWith("g_")?this.commonObjs.get(ye):this.objs.get(ye):Ae}save(){this.transformStack.push(this.transformMatrix);const ye=this.current;this.extraStack.push(ye),this.current=ye.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ye){this.save(),this.executeOpTree(ye),this.restore()}loadDependencies(ye){const Ae=ye.fnArray,Be=ye.argsArray;for(let qe=0,Ue=Ae.length;qe<Ue;qe++)if(Ae[qe]===Y.OPS.dependency)for(const Ke of Be[qe]){const Je=Ke.startsWith("g_")?this.commonObjs:this.objs,mt=new Promise(ht=>{Je.get(Ke,ht)});this.current.dependencies.push(mt)}return Promise.all(this.current.dependencies)}transform(ye,Ae,Be,qe,Ue,Ke){const Je=[ye,Ae,Be,qe,Ue,Ke];this.transformMatrix=Y.Util.transform(this.transformMatrix,Je),this.tgrp=null}getSVG(ye,Ae){this.viewport=Ae;const Be=this._initialize(Ae);return this.loadDependencies(ye).then(()=>(this.transformMatrix=Y.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ye)),Be))}convertOpList(ye){const Ae=this._operatorIdMapping,Be=ye.argsArray,qe=ye.fnArray,Ue=[];for(let Ke=0,Je=qe.length;Ke<Je;Ke++){const mt=qe[Ke];Ue.push({fnId:mt,fn:Ae[mt],args:Be[Ke]})}return ae(Ue)}executeOpTree(ye){for(const Ae of ye){const Be=Ae.fn,qe=Ae.fnId,Ue=Ae.args;switch(qe|0){case Y.OPS.beginText:this.beginText();break;case Y.OPS.dependency:break;case Y.OPS.setLeading:this.setLeading(Ue);break;case Y.OPS.setLeadingMoveText:this.setLeadingMoveText(Ue[0],Ue[1]);break;case Y.OPS.setFont:this.setFont(Ue);break;case Y.OPS.showText:this.showText(Ue[0]);break;case Y.OPS.showSpacedText:this.showText(Ue[0]);break;case Y.OPS.endText:this.endText();break;case Y.OPS.moveText:this.moveText(Ue[0],Ue[1]);break;case Y.OPS.setCharSpacing:this.setCharSpacing(Ue[0]);break;case Y.OPS.setWordSpacing:this.setWordSpacing(Ue[0]);break;case Y.OPS.setHScale:this.setHScale(Ue[0]);break;case Y.OPS.setTextMatrix:this.setTextMatrix(Ue[0],Ue[1],Ue[2],Ue[3],Ue[4],Ue[5]);break;case Y.OPS.setTextRise:this.setTextRise(Ue[0]);break;case Y.OPS.setTextRenderingMode:this.setTextRenderingMode(Ue[0]);break;case Y.OPS.setLineWidth:this.setLineWidth(Ue[0]);break;case Y.OPS.setLineJoin:this.setLineJoin(Ue[0]);break;case Y.OPS.setLineCap:this.setLineCap(Ue[0]);break;case Y.OPS.setMiterLimit:this.setMiterLimit(Ue[0]);break;case Y.OPS.setFillRGBColor:this.setFillRGBColor(Ue[0],Ue[1],Ue[2]);break;case Y.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Ue[0],Ue[1],Ue[2]);break;case Y.OPS.setStrokeColorN:this.setStrokeColorN(Ue);break;case Y.OPS.setFillColorN:this.setFillColorN(Ue);break;case Y.OPS.shadingFill:this.shadingFill(Ue[0]);break;case Y.OPS.setDash:this.setDash(Ue[0],Ue[1]);break;case Y.OPS.setRenderingIntent:this.setRenderingIntent(Ue[0]);break;case Y.OPS.setFlatness:this.setFlatness(Ue[0]);break;case Y.OPS.setGState:this.setGState(Ue[0]);break;case Y.OPS.fill:this.fill();break;case Y.OPS.eoFill:this.eoFill();break;case Y.OPS.stroke:this.stroke();break;case Y.OPS.fillStroke:this.fillStroke();break;case Y.OPS.eoFillStroke:this.eoFillStroke();break;case Y.OPS.clip:this.clip("nonzero");break;case Y.OPS.eoClip:this.clip("evenodd");break;case Y.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case Y.OPS.paintImageXObject:this.paintImageXObject(Ue[0]);break;case Y.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Ue[0]);break;case Y.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Ue[0]);break;case Y.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Ue[0],Ue[1]);break;case Y.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case Y.OPS.closePath:this.closePath();break;case Y.OPS.closeStroke:this.closeStroke();break;case Y.OPS.closeFillStroke:this.closeFillStroke();break;case Y.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case Y.OPS.nextLine:this.nextLine();break;case Y.OPS.transform:this.transform(Ue[0],Ue[1],Ue[2],Ue[3],Ue[4],Ue[5]);break;case Y.OPS.constructPath:this.constructPath(Ue[0],Ue[1]);break;case Y.OPS.endPath:this.endPath();break;case 92:this.group(Ae.items);break;default:(0,Y.warn)(`Unimplemented operator ${Be}`);break}}}setWordSpacing(ye){this.current.wordSpacing=ye}setCharSpacing(ye){this.current.charSpacing=ye}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ye,Ae,Be,qe,Ue,Ke){const Je=this.current;Je.textMatrix=Je.lineMatrix=[ye,Ae,Be,qe,Ue,Ke],Je.textMatrixScale=Math.hypot(ye,Ae),Je.x=Je.lineX=0,Je.y=Je.lineY=0,Je.xcoords=[],Je.ycoords=[],Je.tspan=this.svgFactory.createElement("svg:tspan"),Je.tspan.setAttributeNS(null,"font-family",Je.fontFamily),Je.tspan.setAttributeNS(null,"font-size",`${se(Je.fontSize)}px`),Je.tspan.setAttributeNS(null,"y",se(-Je.y)),Je.txtElement=this.svgFactory.createElement("svg:text"),Je.txtElement.append(Je.tspan)}beginText(){const ye=this.current;ye.x=ye.lineX=0,ye.y=ye.lineY=0,ye.textMatrix=Y.IDENTITY_MATRIX,ye.lineMatrix=Y.IDENTITY_MATRIX,ye.textMatrixScale=1,ye.tspan=this.svgFactory.createElement("svg:tspan"),ye.txtElement=this.svgFactory.createElement("svg:text"),ye.txtgrp=this.svgFactory.createElement("svg:g"),ye.xcoords=[],ye.ycoords=[]}moveText(ye,Ae){const Be=this.current;Be.x=Be.lineX+=ye,Be.y=Be.lineY+=Ae,Be.xcoords=[],Be.ycoords=[],Be.tspan=this.svgFactory.createElement("svg:tspan"),Be.tspan.setAttributeNS(null,"font-family",Be.fontFamily),Be.tspan.setAttributeNS(null,"font-size",`${se(Be.fontSize)}px`),Be.tspan.setAttributeNS(null,"y",se(-Be.y))}showText(ye){const Ae=this.current,Be=Ae.font,qe=Ae.fontSize;if(qe===0)return;const Ue=Ae.fontSizeScale,Ke=Ae.charSpacing,Je=Ae.wordSpacing,mt=Ae.fontDirection,ht=Ae.textHScale*mt,pt=Be.vertical,bt=pt?1:-1,ct=Be.defaultVMetrics,We=qe*Ae.fontMatrix[0];let Pe=0;for(const ge of ye){if(ge===null){Pe+=mt*Je;continue}else if(typeof ge=="number"){Pe+=bt*ge*qe/1e3;continue}const ke=(ge.isSpace?Je:0)+Ke,Ee=ge.fontChar;let Me,Oe,pe=ge.width;if(pt){let Re;const De=ge.vmetric||ct;Re=ge.vmetric?De[1]:pe*.5,Re=-Re*We;const Ne=De[2]*We;pe=De?-De[0]:pe,Me=Re/Ue,Oe=(Pe+Ne)/Ue}else Me=Pe/Ue,Oe=0;(ge.isInFont||Be.missingFile)&&(Ae.xcoords.push(Ae.x+Me),pt&&Ae.ycoords.push(-Ae.y+Oe),Ae.tspan.textContent+=Ee);const Ce=pt?pe*We-ke*mt:pe*We+ke*mt;Pe+=Ce}Ae.tspan.setAttributeNS(null,"x",Ae.xcoords.map(se).join(" ")),pt?Ae.tspan.setAttributeNS(null,"y",Ae.ycoords.map(se).join(" ")):Ae.tspan.setAttributeNS(null,"y",se(-Ae.y)),pt?Ae.y-=Pe:Ae.x+=Pe*ht,Ae.tspan.setAttributeNS(null,"font-family",Ae.fontFamily),Ae.tspan.setAttributeNS(null,"font-size",`${se(Ae.fontSize)}px`),Ae.fontStyle!==ee.fontStyle&&Ae.tspan.setAttributeNS(null,"font-style",Ae.fontStyle),Ae.fontWeight!==ee.fontWeight&&Ae.tspan.setAttributeNS(null,"font-weight",Ae.fontWeight);const _e=Ae.textRenderingMode&Y.TextRenderingMode.FILL_STROKE_MASK;if(_e===Y.TextRenderingMode.FILL||_e===Y.TextRenderingMode.FILL_STROKE?(Ae.fillColor!==ee.fillColor&&Ae.tspan.setAttributeNS(null,"fill",Ae.fillColor),Ae.fillAlpha<1&&Ae.tspan.setAttributeNS(null,"fill-opacity",Ae.fillAlpha)):Ae.textRenderingMode===Y.TextRenderingMode.ADD_TO_PATH?Ae.tspan.setAttributeNS(null,"fill","transparent"):Ae.tspan.setAttributeNS(null,"fill","none"),_e===Y.TextRenderingMode.STROKE||_e===Y.TextRenderingMode.FILL_STROKE){const ge=1/(Ae.textMatrixScale||1);this._setStrokeAttributes(Ae.tspan,ge)}let xe=Ae.textMatrix;Ae.textRise!==0&&(xe=xe.slice(),xe[5]+=Ae.textRise),Ae.txtElement.setAttributeNS(null,"transform",`${ue(xe)} scale(${se(ht)}, -1)`),Ae.txtElement.setAttributeNS(te,"xml:space","preserve"),Ae.txtElement.append(Ae.tspan),Ae.txtgrp.append(Ae.txtElement),this._ensureTransformGroup().append(Ae.txtElement)}setLeadingMoveText(ye,Ae){this.setLeading(-Ae),this.moveText(ye,Ae)}addFontStyle(ye){if(!ye.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Ae=re(ye.data,ye.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ye.loadedName}"; src: url(${Ae}); }
`}setFont(ye){const Ae=this.current,Be=this.commonObjs.get(ye[0]);let qe=ye[1];Ae.font=Be,this.embedFonts&&!Be.missingFile&&!this.embeddedFonts[Be.loadedName]&&(this.addFontStyle(Be),this.embeddedFonts[Be.loadedName]=Be),Ae.fontMatrix=Be.fontMatrix||Y.FONT_IDENTITY_MATRIX;let Ue="normal";Be.black?Ue="900":Be.bold&&(Ue="bold");const Ke=Be.italic?"italic":"normal";qe<0?(qe=-qe,Ae.fontDirection=-1):Ae.fontDirection=1,Ae.fontSize=qe,Ae.fontFamily=Be.loadedName,Ae.fontWeight=Ue,Ae.fontStyle=Ke,Ae.tspan=this.svgFactory.createElement("svg:tspan"),Ae.tspan.setAttributeNS(null,"y",se(-Ae.y)),Ae.xcoords=[],Ae.ycoords=[]}endText(){const ye=this.current;ye.textRenderingMode&Y.TextRenderingMode.ADD_TO_PATH_FLAG&&ye.txtElement?.hasChildNodes()&&(ye.element=ye.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ye){ye>0&&(this.current.lineWidth=ye)}setLineCap(ye){this.current.lineCap=ie[ye]}setLineJoin(ye){this.current.lineJoin=K[ye]}setMiterLimit(ye){this.current.miterLimit=ye}setStrokeAlpha(ye){this.current.strokeAlpha=ye}setStrokeRGBColor(ye,Ae,Be){this.current.strokeColor=Y.Util.makeHexColor(ye,Ae,Be)}setFillAlpha(ye){this.current.fillAlpha=ye}setFillRGBColor(ye,Ae,Be){this.current.fillColor=Y.Util.makeHexColor(ye,Ae,Be),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ye){this.current.strokeColor=this._makeColorN_Pattern(ye)}setFillColorN(ye){this.current.fillColor=this._makeColorN_Pattern(ye)}shadingFill(ye){const{width:Ae,height:Be}=this.viewport,qe=Y.Util.inverseTransform(this.transformMatrix),[Ue,Ke,Je,mt]=Y.Util.getAxialAlignedBoundingBox([0,0,Ae,Be],qe),ht=this.svgFactory.createElement("svg:rect");ht.setAttributeNS(null,"x",Ue),ht.setAttributeNS(null,"y",Ke),ht.setAttributeNS(null,"width",Je-Ue),ht.setAttributeNS(null,"height",mt-Ke),ht.setAttributeNS(null,"fill",this._makeShadingPattern(ye)),this.current.fillAlpha<1&&ht.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(ht)}_makeColorN_Pattern(ye){return ye[0]==="TilingPattern"?this._makeTilingPattern(ye):this._makeShadingPattern(ye)}_makeTilingPattern(ye){const Ae=ye[1],Be=ye[2],qe=ye[3]||Y.IDENTITY_MATRIX,[Ue,Ke,Je,mt]=ye[4],ht=ye[5],pt=ye[6],bt=ye[7],ct=`shading${be++}`,[We,Pe,_e,xe]=Y.Util.normalizeRect([...Y.Util.applyTransform([Ue,Ke],qe),...Y.Util.applyTransform([Je,mt],qe)]),[ge,ke]=Y.Util.singularValueDecompose2dScale(qe),Ee=ht*ge,Me=pt*ke,Oe=this.svgFactory.createElement("svg:pattern");Oe.setAttributeNS(null,"id",ct),Oe.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Oe.setAttributeNS(null,"width",Ee),Oe.setAttributeNS(null,"height",Me),Oe.setAttributeNS(null,"x",`${We}`),Oe.setAttributeNS(null,"y",`${Pe}`);const pe=this.svg,Ce=this.transformMatrix,Re=this.current.fillColor,De=this.current.strokeColor,Ne=this.svgFactory.create(_e-We,xe-Pe);if(this.svg=Ne,this.transformMatrix=qe,bt===2){const He=Y.Util.makeHexColor(...Ae);this.current.fillColor=He,this.current.strokeColor=He}return this.executeOpTree(this.convertOpList(Be)),this.svg=pe,this.transformMatrix=Ce,this.current.fillColor=Re,this.current.strokeColor=De,Oe.append(Ne.childNodes[0]),this.defs.append(Oe),`url(#${ct})`}_makeShadingPattern(ye){switch(typeof ye=="string"&&(ye=this.objs.get(ye)),ye[0]){case"RadialAxial":const Ae=`shading${be++}`,Be=ye[3];let qe;switch(ye[1]){case"axial":const Ue=ye[4],Ke=ye[5];qe=this.svgFactory.createElement("svg:linearGradient"),qe.setAttributeNS(null,"id",Ae),qe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),qe.setAttributeNS(null,"x1",Ue[0]),qe.setAttributeNS(null,"y1",Ue[1]),qe.setAttributeNS(null,"x2",Ke[0]),qe.setAttributeNS(null,"y2",Ke[1]);break;case"radial":const Je=ye[4],mt=ye[5],ht=ye[6],pt=ye[7];qe=this.svgFactory.createElement("svg:radialGradient"),qe.setAttributeNS(null,"id",Ae),qe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),qe.setAttributeNS(null,"cx",mt[0]),qe.setAttributeNS(null,"cy",mt[1]),qe.setAttributeNS(null,"r",pt),qe.setAttributeNS(null,"fx",Je[0]),qe.setAttributeNS(null,"fy",Je[1]),qe.setAttributeNS(null,"fr",ht);break;default:throw new Error(`Unknown RadialAxial type: ${ye[1]}`)}for(const Ue of Be){const Ke=this.svgFactory.createElement("svg:stop");Ke.setAttributeNS(null,"offset",Ue[0]),Ke.setAttributeNS(null,"stop-color",Ue[1]),qe.append(Ke)}return this.defs.append(qe),`url(#${Ae})`;case"Mesh":return(0,Y.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ye[0]}`)}}setDash(ye,Ae){this.current.dashArray=ye,this.current.dashPhase=Ae}constructPath(ye,Ae){const Be=this.current;let qe=Be.x,Ue=Be.y,Ke=[],Je=0;for(const mt of ye)switch(mt|0){case Y.OPS.rectangle:qe=Ae[Je++],Ue=Ae[Je++];const ht=Ae[Je++],pt=Ae[Je++],bt=qe+ht,ct=Ue+pt;Ke.push("M",se(qe),se(Ue),"L",se(bt),se(Ue),"L",se(bt),se(ct),"L",se(qe),se(ct),"Z");break;case Y.OPS.moveTo:qe=Ae[Je++],Ue=Ae[Je++],Ke.push("M",se(qe),se(Ue));break;case Y.OPS.lineTo:qe=Ae[Je++],Ue=Ae[Je++],Ke.push("L",se(qe),se(Ue));break;case Y.OPS.curveTo:qe=Ae[Je+4],Ue=Ae[Je+5],Ke.push("C",se(Ae[Je]),se(Ae[Je+1]),se(Ae[Je+2]),se(Ae[Je+3]),se(qe),se(Ue)),Je+=6;break;case Y.OPS.curveTo2:Ke.push("C",se(qe),se(Ue),se(Ae[Je]),se(Ae[Je+1]),se(Ae[Je+2]),se(Ae[Je+3])),qe=Ae[Je+2],Ue=Ae[Je+3],Je+=4;break;case Y.OPS.curveTo3:qe=Ae[Je+2],Ue=Ae[Je+3],Ke.push("C",se(Ae[Je]),se(Ae[Je+1]),se(qe),se(Ue),se(qe),se(Ue)),Je+=4;break;case Y.OPS.closePath:Ke.push("Z");break}Ke=Ke.join(" "),Be.path&&ye.length>0&&ye[0]!==Y.OPS.rectangle&&ye[0]!==Y.OPS.moveTo?Ke=Be.path.getAttributeNS(null,"d")+Ke:(Be.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Be.path)),Be.path.setAttributeNS(null,"d",Ke),Be.path.setAttributeNS(null,"fill","none"),Be.element=Be.path,Be.setCurrentPoint(qe,Ue)}endPath(){const ye=this.current;if(ye.path=null,!this.pendingClip)return;if(!ye.element){this.pendingClip=null;return}const Ae=`clippath${de++}`,Be=this.svgFactory.createElement("svg:clipPath");Be.setAttributeNS(null,"id",Ae),Be.setAttributeNS(null,"transform",ue(this.transformMatrix));const qe=ye.element.cloneNode(!0);if(this.pendingClip==="evenodd"?qe.setAttributeNS(null,"clip-rule","evenodd"):qe.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Be.append(qe),this.defs.append(Be),ye.activeClipUrl){ye.clipGroup=null;for(const Ue of this.extraStack)Ue.clipGroup=null;Be.setAttributeNS(null,"clip-path",ye.activeClipUrl)}ye.activeClipUrl=`url(#${Ae})`,this.tgrp=null}clip(ye){this.pendingClip=ye}closePath(){const ye=this.current;if(ye.path){const Ae=`${ye.path.getAttributeNS(null,"d")}Z`;ye.path.setAttributeNS(null,"d",Ae)}}setLeading(ye){this.current.leading=-ye}setTextRise(ye){this.current.textRise=ye}setTextRenderingMode(ye){this.current.textRenderingMode=ye}setHScale(ye){this.current.textHScale=ye/100}setRenderingIntent(ye){}setFlatness(ye){}setGState(ye){for(const[Ae,Be]of ye)switch(Ae){case"LW":this.setLineWidth(Be);break;case"LC":this.setLineCap(Be);break;case"LJ":this.setLineJoin(Be);break;case"ML":this.setMiterLimit(Be);break;case"D":this.setDash(Be[0],Be[1]);break;case"RI":this.setRenderingIntent(Be);break;case"FL":this.setFlatness(Be);break;case"Font":this.setFont(Be);break;case"CA":this.setStrokeAlpha(Be);break;case"ca":this.setFillAlpha(Be);break;default:(0,Y.warn)(`Unimplemented graphic state operator ${Ae}`);break}}fill(){const ye=this.current;ye.element&&(ye.element.setAttributeNS(null,"fill",ye.fillColor),ye.element.setAttributeNS(null,"fill-opacity",ye.fillAlpha),this.endPath())}stroke(){const ye=this.current;ye.element&&(this._setStrokeAttributes(ye.element),ye.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ye,Ae=1){const Be=this.current;let qe=Be.dashArray;Ae!==1&&qe.length>0&&(qe=qe.map(function(Ue){return Ae*Ue})),ye.setAttributeNS(null,"stroke",Be.strokeColor),ye.setAttributeNS(null,"stroke-opacity",Be.strokeAlpha),ye.setAttributeNS(null,"stroke-miterlimit",se(Be.miterLimit)),ye.setAttributeNS(null,"stroke-linecap",Be.lineCap),ye.setAttributeNS(null,"stroke-linejoin",Be.lineJoin),ye.setAttributeNS(null,"stroke-width",se(Ae*Be.lineWidth)+"px"),ye.setAttributeNS(null,"stroke-dasharray",qe.map(se).join(" ")),ye.setAttributeNS(null,"stroke-dashoffset",se(Ae*Be.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ye=this.svgFactory.createElement("svg:rect");ye.setAttributeNS(null,"x","0"),ye.setAttributeNS(null,"y","0"),ye.setAttributeNS(null,"width","1px"),ye.setAttributeNS(null,"height","1px"),ye.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ye)}paintImageXObject(ye){const Ae=this.getObject(ye);if(!Ae){(0,Y.warn)(`Dependent image with object ID ${ye} is not ready yet`);return}this.paintInlineImageXObject(Ae)}paintInlineImageXObject(ye,Ae){const Be=ye.width,qe=ye.height,Ue=ne(ye,this.forceDataSchema,!!Ae),Ke=this.svgFactory.createElement("svg:rect");Ke.setAttributeNS(null,"x","0"),Ke.setAttributeNS(null,"y","0"),Ke.setAttributeNS(null,"width",se(Be)),Ke.setAttributeNS(null,"height",se(qe)),this.current.element=Ke,this.clip("nonzero");const Je=this.svgFactory.createElement("svg:image");Je.setAttributeNS(J,"xlink:href",Ue),Je.setAttributeNS(null,"x","0"),Je.setAttributeNS(null,"y",se(-qe)),Je.setAttributeNS(null,"width",se(Be)+"px"),Je.setAttributeNS(null,"height",se(qe)+"px"),Je.setAttributeNS(null,"transform",`scale(${se(1/Be)} ${se(-1/qe)})`),Ae?Ae.append(Je):this._ensureTransformGroup().append(Je)}paintImageMaskXObject(ye){const Ae=this.getObject(ye.data,ye);if(Ae.bitmap){(0,Y.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Be=this.current,qe=Ae.width,Ue=Ae.height,Ke=Be.fillColor;Be.maskId=`mask${ce++}`;const Je=this.svgFactory.createElement("svg:mask");Je.setAttributeNS(null,"id",Be.maskId);const mt=this.svgFactory.createElement("svg:rect");mt.setAttributeNS(null,"x","0"),mt.setAttributeNS(null,"y","0"),mt.setAttributeNS(null,"width",se(qe)),mt.setAttributeNS(null,"height",se(Ue)),mt.setAttributeNS(null,"fill",Ke),mt.setAttributeNS(null,"mask",`url(#${Be.maskId})`),this.defs.append(Je),this._ensureTransformGroup().append(mt),this.paintInlineImageXObject(Ae,Je)}paintFormXObjectBegin(ye,Ae){if(Array.isArray(ye)&&ye.length===6&&this.transform(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5]),Ae){const Be=Ae[2]-Ae[0],qe=Ae[3]-Ae[1],Ue=this.svgFactory.createElement("svg:rect");Ue.setAttributeNS(null,"x",Ae[0]),Ue.setAttributeNS(null,"y",Ae[1]),Ue.setAttributeNS(null,"width",se(Be)),Ue.setAttributeNS(null,"height",se(qe)),this.current.element=Ue,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ye){const Ae=this.svgFactory.create(ye.width,ye.height),Be=this.svgFactory.createElement("svg:defs");Ae.append(Be),this.defs=Be;const qe=this.svgFactory.createElement("svg:g");return qe.setAttributeNS(null,"transform",ue(ye.transform)),Ae.append(qe),this.svg=qe,Ae}_ensureClipGroup(){if(!this.current.clipGroup){const ye=this.svgFactory.createElement("svg:g");ye.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ye),this.current.clipGroup=ye}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ue(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}T.SVGGraphics=Le},(C,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.XfaText=void 0;class ${static textContent(Y){const ee=[],te={items:ee,styles:Object.create(null)};function J(ie){if(!ie)return;let K=null;const re=ie.name;if(re==="#text")K=ie.value;else if($.shouldBuildText(re))ie?.attributes?.textContent?K=ie.attributes.textContent:ie.value&&(K=ie.value);else return;if(K!==null&&ee.push({str:K}),!!ie.children)for(const ne of ie.children)J(ne)}return J(Y),te}static shouldBuildText(Y){return!(Y==="textarea"||Y==="input"||Y==="option"||Y==="select")}}T.XfaText=$},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.TextLayerRenderTask=void 0,T.renderTextLayer=ue,T.updateTextLayer=de;var V=$(1),Y=$(6);const ee=1e5,te=30,J=.8,ie=new Map;function K(ce,be){let Le;if(be&&V.FeatureTest.isOffscreenCanvasSupported)Le=new OffscreenCanvas(ce,ce).getContext("2d",{alpha:!1});else{const ve=document.createElement("canvas");ve.width=ve.height=ce,Le=ve.getContext("2d",{alpha:!1})}return Le}function re(ce,be){const Le=ie.get(ce);if(Le)return Le;const ve=K(te,be);ve.font=`${te}px ${ce}`;const ye=ve.measureText("");let Ae=ye.fontBoundingBoxAscent,Be=Math.abs(ye.fontBoundingBoxDescent);if(Ae){const Ue=Ae/(Ae+Be);return ie.set(ce,Ue),ve.canvas.width=ve.canvas.height=0,Ue}ve.strokeStyle="red",ve.clearRect(0,0,te,te),ve.strokeText("g",0,0);let qe=ve.getImageData(0,0,te,te).data;Be=0;for(let Ue=qe.length-1-3;Ue>=0;Ue-=4)if(qe[Ue]>0){Be=Math.ceil(Ue/4/te);break}ve.clearRect(0,0,te,te),ve.strokeText("A",0,te),qe=ve.getImageData(0,0,te,te).data,Ae=0;for(let Ue=0,Ke=qe.length;Ue<Ke;Ue+=4)if(qe[Ue]>0){Ae=te-Math.floor(Ue/4/te);break}if(ve.canvas.width=ve.canvas.height=0,Ae){const Ue=Ae/(Ae+Be);return ie.set(ce,Ue),Ue}return ie.set(ce,J),J}function ne(ce,be,Le){const ve=document.createElement("span"),ye={angle:0,canvasWidth:0,hasText:be.str!=="",hasEOL:be.hasEOL,fontSize:0};ce._textDivs.push(ve);const Ae=V.Util.transform(ce._transform,be.transform);let Be=Math.atan2(Ae[1],Ae[0]);const qe=Le[be.fontName];qe.vertical&&(Be+=Math.PI/2);const Ue=Math.hypot(Ae[2],Ae[3]),Ke=Ue*re(qe.fontFamily,ce._isOffscreenCanvasSupported);let Je,mt;Be===0?(Je=Ae[4],mt=Ae[5]-Ke):(Je=Ae[4]+Ke*Math.sin(Be),mt=Ae[5]-Ke*Math.cos(Be));const ht="calc(var(--scale-factor)*",pt=ve.style;ce._container===ce._rootContainer?(pt.left=`${(100*Je/ce._pageWidth).toFixed(2)}%`,pt.top=`${(100*mt/ce._pageHeight).toFixed(2)}%`):(pt.left=`${ht}${Je.toFixed(2)}px)`,pt.top=`${ht}${mt.toFixed(2)}px)`),pt.fontSize=`${ht}${Ue.toFixed(2)}px)`,pt.fontFamily=qe.fontFamily,ye.fontSize=Ue,ve.setAttribute("role","presentation"),ve.textContent=be.str,ve.dir=be.dir,ce._fontInspectorEnabled&&(ve.dataset.fontName=be.fontName),Be!==0&&(ye.angle=Be*(180/Math.PI));let bt=!1;if(be.str.length>1)bt=!0;else if(be.str!==" "&&be.transform[0]!==be.transform[3]){const ct=Math.abs(be.transform[0]),We=Math.abs(be.transform[3]);ct!==We&&Math.max(ct,We)/Math.min(ct,We)>1.5&&(bt=!0)}bt&&(ye.canvasWidth=qe.vertical?be.height:be.width),ce._textDivProperties.set(ve,ye),ce._isReadableStream&&ce._layoutText(ve)}function le(ce){const{div:be,scale:Le,properties:ve,ctx:ye,prevFontSize:Ae,prevFontFamily:Be}=ce,{style:qe}=be;let Ue="";if(ve.canvasWidth!==0&&ve.hasText){const{fontFamily:Ke}=qe,{canvasWidth:Je,fontSize:mt}=ve;(Ae!==mt||Be!==Ke)&&(ye.font=`${mt*Le}px ${Ke}`,ce.prevFontSize=mt,ce.prevFontFamily=Ke);const{width:ht}=ye.measureText(be.textContent);ht>0&&(Ue=`scaleX(${Je*Le/ht})`)}ve.angle!==0&&(Ue=`rotate(${ve.angle}deg) ${Ue}`),Ue.length>0&&(qe.transform=Ue)}function ae(ce){if(ce._canceled)return;const be=ce._textDivs,Le=ce._capability;if(be.length>ee){Le.resolve();return}if(!ce._isReadableStream)for(const ye of be)ce._layoutText(ye);Le.resolve()}class se{constructor({textContentSource:be,container:Le,viewport:ve,textDivs:ye,textDivProperties:Ae,textContentItemsStr:Be,isOffscreenCanvasSupported:qe}){this._textContentSource=be,this._isReadableStream=be instanceof ReadableStream,this._container=this._rootContainer=Le,this._textDivs=ye||[],this._textContentItemsStr=Be||[],this._isOffscreenCanvasSupported=qe,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=Ae||new WeakMap,this._canceled=!1,this._capability=new V.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ve.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:K(0,qe)};const{pageWidth:Ue,pageHeight:Ke,pageX:Je,pageY:mt}=ve.rawDims;this._transform=[1,0,0,-1,-Je,mt+Ke],this._pageWidth=Ue,this._pageHeight=Ke,(0,Y.setLayerDimensions)(Le,ve),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new V.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new V.AbortException("TextLayer task cancelled."))}_processItems(be,Le){for(const ve of be){if(ve.str===void 0){if(ve.type==="beginMarkedContentProps"||ve.type==="beginMarkedContent"){const ye=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ve.id!==null&&this._container.setAttribute("id",`${ve.id}`),ye.append(this._container)}else ve.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ve.str),ne(this,ve,Le)}}_layoutText(be){const Le=this._layoutTextParams.properties=this._textDivProperties.get(be);if(this._layoutTextParams.div=be,le(this._layoutTextParams),Le.hasText&&this._container.append(be),Le.hasEOL){const ve=document.createElement("br");ve.setAttribute("role","presentation"),this._container.append(ve)}}_render(){const be=new V.PromiseCapability;let Le=Object.create(null);if(this._isReadableStream){const ve=()=>{this._reader.read().then(({value:ye,done:Ae})=>{if(Ae){be.resolve();return}Object.assign(Le,ye.styles),this._processItems(ye.items,Le),ve()},be.reject)};this._reader=this._textContentSource.getReader(),ve()}else if(this._textContentSource){const{items:ve,styles:ye}=this._textContentSource;this._processItems(ve,ye),be.resolve()}else throw new Error('No "textContentSource" parameter specified.');be.promise.then(()=>{Le=null,ae(this)},this._capability.reject)}}T.TextLayerRenderTask=se;function ue(ce){!ce.textContentSource&&(ce.textContent||ce.textContentStream)&&((0,Y.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ce.textContentSource=ce.textContent||ce.textContentStream);const{container:be,viewport:Le}=ce,ve=getComputedStyle(be),ye=ve.getPropertyValue("visibility"),Ae=parseFloat(ve.getPropertyValue("--scale-factor"));ye==="visible"&&(!Ae||Math.abs(Ae-Le.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Be=new se(ce);return Be._render(),Be}function de({container:ce,viewport:be,textDivs:Le,textDivProperties:ve,isOffscreenCanvasSupported:ye,mustRotate:Ae=!0,mustRescale:Be=!0}){if(Ae&&(0,Y.setLayerDimensions)(ce,{rotation:be.rotation}),Be){const qe=K(0,ye),Ke={prevFontSize:null,prevFontFamily:null,div:null,scale:be.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:qe};for(const Je of Le)Ke.properties=ve.get(Je),Ke.div=Je,le(Ke)}}},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.AnnotationEditorLayer=void 0;var V=$(1),Y=$(4),ee=$(28),te=$(33),J=$(6),ie=$(34);class K{#e;#t=!1;#r=null;#n=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#a=new Map;#s=!1;#l=!1;#c=!1;#i;static _initialized=!1;constructor({uiManager:ne,pageIndex:le,div:ae,accessibilityManager:se,annotationLayer:ue,viewport:de,l10n:ce}){const be=[ee.FreeTextEditor,te.InkEditor,ie.StampEditor];if(!K._initialized){K._initialized=!0;for(const Le of be)Le.initialize(ce)}ne.registerEditorTypes(be),this.#i=ne,this.pageIndex=le,this.div=ae,this.#e=se,this.#r=ue,this.viewport=de,this.#i.addLayer(this)}get isEmpty(){return this.#a.size===0}updateToolbar(ne){this.#i.updateToolbar(ne)}updateMode(ne=this.#i.getMode()){this.#p(),ne===V.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ne!==V.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ne===V.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ne===V.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ne===V.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ne){if(!ne&&this.#i.getMode()!==V.AnnotationEditorType.INK)return;if(!ne){for(const ae of this.#a.values())if(ae.isEmpty()){ae.setInBackground();return}}this.#h({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(ne){this.#i.setEditingState(ne)}addCommands(ne){this.#i.addCommands(ne)}enable(){this.div.style.pointerEvents="auto";const ne=new Set;for(const ae of this.#a.values())ae.enableEditing(),ae.annotationElementId&&ne.add(ae.annotationElementId);if(!this.#r)return;const le=this.#r.getEditableAnnotations();for(const ae of le){if(ae.hide(),this.#i.isDeletedAnnotationElement(ae.data.id)||ne.has(ae.data.id))continue;const se=this.deserialize(ae);se&&(this.addOrRebuild(se),se.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";const ne=new Set;for(const le of this.#a.values()){if(le.disableEditing(),!le.annotationElementId||le.serialize()!==null){ne.add(le.annotationElementId);continue}this.getEditableAnnotation(le.annotationElementId)?.show(),le.remove()}if(this.#r){const le=this.#r.getEditableAnnotations();for(const ae of le){const{id:se}=ae.data;ne.has(se)||this.#i.isDeletedAnnotationElement(se)||ae.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(ne){return this.#r?.getEditableAnnotation(ne)||null}setActiveEditor(ne){this.#i.getActive()!==ne&&this.#i.setActiveEditor(ne)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#n)}attach(ne){this.#a.set(ne.id,ne);const{annotationElementId:le}=ne;le&&this.#i.isDeletedAnnotationElement(le)&&this.#i.removeDeletedAnnotationElement(ne)}detach(ne){this.#a.delete(ne.id),this.#e?.removePointerInTextLayer(ne.contentDiv),!this.#c&&ne.annotationElementId&&this.#i.addDeletedAnnotationElement(ne)}remove(ne){this.detach(ne),this.#i.removeEditor(ne),ne.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),ne.div.remove(),ne.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(ne){ne.parent!==this&&(ne.annotationElementId&&(this.#i.addDeletedAnnotationElement(ne.annotationElementId),Y.AnnotationEditor.deleteAnnotationElement(ne),ne.annotationElementId=null),this.attach(ne),ne.parent?.detach(ne),ne.setParent(this),ne.div&&ne.isAttachedToDOM&&(ne.div.remove(),this.div.append(ne.div)))}add(ne){if(this.changeParent(ne),this.#i.addEditor(ne),this.attach(ne),!ne.isAttachedToDOM){const le=ne.render();this.div.append(le),ne.isAttachedToDOM=!0}ne.fixAndSetPosition(),ne.onceAdded(),this.#i.addToAnnotationStorage(ne)}moveEditorInDOM(ne){if(!ne.isAttachedToDOM)return;const{activeElement:le}=document;ne.div.contains(le)&&(ne._focusEventsAllowed=!1,setTimeout(()=>{ne.div.contains(document.activeElement)?ne._focusEventsAllowed=!0:(ne.div.addEventListener("focusin",()=>{ne._focusEventsAllowed=!0},{once:!0}),le.focus())},0)),ne._structTreeParentId=this.#e?.moveElementInDOM(this.div,ne.div,ne.contentDiv,!0)}addOrRebuild(ne){ne.needsToBeRebuilt()?ne.rebuild():this.add(ne)}addUndoableEditor(ne){const le=()=>ne._uiManager.rebuild(ne),ae=()=>{ne.remove()};this.addCommands({cmd:le,undo:ae,mustExec:!1})}getNextId(){return this.#i.getId()}#f(ne){switch(this.#i.getMode()){case V.AnnotationEditorType.FREETEXT:return new ee.FreeTextEditor(ne);case V.AnnotationEditorType.INK:return new te.InkEditor(ne);case V.AnnotationEditorType.STAMP:return new ie.StampEditor(ne)}return null}pasteEditor(ne,le){this.#i.updateToolbar(ne),this.#i.updateMode(ne);const{offsetX:ae,offsetY:se}=this.#d(),ue=this.getNextId(),de=this.#f({parent:this,id:ue,x:ae,y:se,uiManager:this.#i,isCentered:!0,...le});de&&this.add(de)}deserialize(ne){switch(ne.annotationType??ne.annotationEditorType){case V.AnnotationEditorType.FREETEXT:return ee.FreeTextEditor.deserialize(ne,this,this.#i);case V.AnnotationEditorType.INK:return te.InkEditor.deserialize(ne,this,this.#i);case V.AnnotationEditorType.STAMP:return ie.StampEditor.deserialize(ne,this,this.#i)}return null}#h(ne,le){const ae=this.getNextId(),se=this.#f({parent:this,id:ae,x:ne.offsetX,y:ne.offsetY,uiManager:this.#i,isCentered:le});return se&&this.add(se),se}#d(){const{x:ne,y:le,width:ae,height:se}=this.div.getBoundingClientRect(),ue=Math.max(0,ne),de=Math.max(0,le),ce=Math.min(window.innerWidth,ne+ae),be=Math.min(window.innerHeight,le+se),Le=(ue+ce)/2-ne,ve=(de+be)/2-le,[ye,Ae]=this.viewport.rotation%180===0?[Le,ve]:[ve,Le];return{offsetX:ye,offsetY:Ae}}addNewEditor(){this.#h(this.#d(),!0)}setSelected(ne){this.#i.setSelected(ne)}toggleSelected(ne){this.#i.toggleSelected(ne)}isSelected(ne){return this.#i.isSelected(ne)}unselect(ne){this.#i.unselect(ne)}pointerup(ne){const{isMac:le}=V.FeatureTest.platform;if(!(ne.button!==0||ne.ctrlKey&&le)&&ne.target===this.div&&this.#s){if(this.#s=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===V.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#h(ne,!1)}}pointerdown(ne){if(this.#s){this.#s=!1;return}const{isMac:le}=V.FeatureTest.platform;if(ne.button!==0||ne.ctrlKey&&le||ne.target!==this.div)return;this.#s=!0;const ae=this.#i.getActive();this.#t=!ae||ae.isEmpty()}findNewParent(ne,le,ae){const se=this.#i.findParent(le,ae);return se===null||se===this?!1:(se.changeParent(ne),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const ne of this.#a.values())this.#e?.removePointerInTextLayer(ne.contentDiv),ne.setParent(null),ne.isAttachedToDOM=!1,ne.div.remove();this.div=null,this.#a.clear(),this.#i.removeLayer(this)}#p(){this.#l=!0;for(const ne of this.#a.values())ne.isEmpty()&&ne.remove();this.#l=!1}render({viewport:ne}){this.viewport=ne,(0,J.setLayerDimensions)(this.div,ne);for(const le of this.#i.getEditors(this.pageIndex))this.add(le);this.updateMode()}update({viewport:ne}){this.#i.commitOrRemove(),this.viewport=ne,(0,J.setLayerDimensions)(this.div,{rotation:ne.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ne,pageHeight:le}=this.viewport.rawDims;return[ne,le]}}T.AnnotationEditorLayer=K},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.FreeTextEditor=void 0;var V=$(1),Y=$(5),ee=$(4),te=$(29);class J extends ee.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#r=this.editorDivInput.bind(this);#n=this.editorDivKeydown.bind(this);#o;#a="";#s=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const K=J.prototype,re=ae=>ae.isEmpty(),ne=Y.AnnotationEditorUIManager.TRANSLATE_SMALL,le=Y.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,V.shadow)(this,"_keyboardManager",new Y.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],K.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],K.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],K._translateEmpty,{args:[-ne,0],checker:re}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],K._translateEmpty,{args:[-le,0],checker:re}],[["ArrowRight","mac+ArrowRight"],K._translateEmpty,{args:[ne,0],checker:re}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],K._translateEmpty,{args:[le,0],checker:re}],[["ArrowUp","mac+ArrowUp"],K._translateEmpty,{args:[0,-ne],checker:re}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],K._translateEmpty,{args:[0,-le],checker:re}],[["ArrowDown","mac+ArrowDown"],K._translateEmpty,{args:[0,ne],checker:re}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],K._translateEmpty,{args:[0,le],checker:re}]]))}static _type="freetext";constructor(K){super({...K,name:"freeTextEditor"}),this.#o=K.color||J._defaultColor||ee.AnnotationEditor._defaultLineColor,this.#l=K.fontSize||J._defaultFontSize}static initialize(K){ee.AnnotationEditor.initialize(K,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const re=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(re.getPropertyValue("--freetext-padding"))}static updateDefaultParams(K,re){switch(K){case V.AnnotationEditorParamsType.FREETEXT_SIZE:J._defaultFontSize=re;break;case V.AnnotationEditorParamsType.FREETEXT_COLOR:J._defaultColor=re;break}}updateParams(K,re){switch(K){case V.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(re);break;case V.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(re);break}}static get defaultPropertiesToUpdate(){return[[V.AnnotationEditorParamsType.FREETEXT_SIZE,J._defaultFontSize],[V.AnnotationEditorParamsType.FREETEXT_COLOR,J._defaultColor||ee.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[V.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[V.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#i(K){const re=le=>{this.editorDiv.style.fontSize=`calc(${le}px * var(--scale-factor))`,this.translate(0,-(le-this.#l)*this.parentScale),this.#l=le,this.#d()},ne=this.#l;this.addCommands({cmd:()=>{re(K)},undo:()=>{re(ne)},mustExec:!0,type:V.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(K){const re=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=K},undo:()=>{this.#o=this.editorDiv.style.color=re},mustExec:!0,type:V.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(K,re){this._uiManager.translateSelectedEditors(K,re,!0)}getInitialTranslation(){const K=this.parentScale;return[-J._internalPadding*K,-(J._internalPadding+this.#l)*K]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(V.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#n),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#r))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#n),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#r),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(K){this._focusEventsAllowed&&(super.focusin(K),K.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#m();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#h(){const K=this.editorDiv.getElementsByTagName("div");if(K.length===0)return this.editorDiv.innerText;const re=[];for(const ne of K)re.push(ne.innerText.replace(/\r\n?|\n/,""));return re.join(`
`)}#d(){const[K,re]=this.parentDimensions;let ne;if(this.isAttachedToDOM)ne=this.div.getBoundingClientRect();else{const{currentLayer:le,div:ae}=this,se=ae.style.display;ae.style.display="hidden",le.div.append(this.div),ne=ae.getBoundingClientRect(),ae.remove(),ae.style.display=se}this.rotation%180===this.parentRotation%180?(this.width=ne.width/K,this.height=ne.height/re):(this.width=ne.height/K,this.height=ne.width/re),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const K=this.#a,re=this.#a=this.#h().trimEnd();if(K===re)return;const ne=le=>{if(this.#a=le,!le){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{ne(re)},undo:()=>{ne(K)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(K){this.enterInEditMode()}keydown(K){K.target===this.div&&K.key==="Enter"&&(this.enterInEditMode(),K.preventDefault())}editorDivKeydown(K){J._keyboardManager.exec(this,K)}editorDivFocus(K){this.isEditing=!0}editorDivBlur(K){this.isEditing=!1}editorDivInput(K){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let K,re;this.width&&(K=this.x,re=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),ee.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(le=>this.editorDiv?.setAttribute("aria-label",le)),ee.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(le=>this.editorDiv?.setAttribute("default-content",le)),this.editorDiv.contentEditable=!0;const{style:ne}=this.editorDiv;if(ne.fontSize=`calc(${this.#l}px * var(--scale-factor))`,ne.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,Y.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[le,ae]=this.parentDimensions;if(this.annotationElementId){const{position:se}=this.#c;let[ue,de]=this.getInitialTranslation();[ue,de]=this.pageTranslationToScreen(ue,de);const[ce,be]=this.pageDimensions,[Le,ve]=this.pageTranslation;let ye,Ae;switch(this.rotation){case 0:ye=K+(se[0]-Le)/ce,Ae=re+this.height-(se[1]-ve)/be;break;case 90:ye=K+(se[0]-Le)/ce,Ae=re-(se[1]-ve)/be,[ue,de]=[de,-ue];break;case 180:ye=K-this.width+(se[0]-Le)/ce,Ae=re-(se[1]-ve)/be,[ue,de]=[-ue,-de];break;case 270:ye=K+(se[0]-Le-this.height*be)/ce,Ae=re+(se[1]-ve-this.width*ce)/be,[ue,de]=[-de,ue];break}this.setAt(ye*le,Ae*ae,ue,de)}else this.setAt(K*le,re*ae,this.width*le,this.height*ae);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#a)for(const K of this.#a.split(`
`)){const re=document.createElement("div");re.append(K?document.createTextNode(K):document.createElement("br")),this.editorDiv.append(re)}}get contentDiv(){return this.editorDiv}static deserialize(K,re,ne){let le=null;if(K instanceof te.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:se,fontColor:ue},rect:de,rotation:ce,id:be},textContent:Le,textPosition:ve,parent:{page:{pageNumber:ye}}}=K;if(!Le||Le.length===0)return null;le=K={annotationType:V.AnnotationEditorType.FREETEXT,color:Array.from(ue),fontSize:se,value:Le.join(`
`),position:ve,pageIndex:ye-1,rect:de,rotation:ce,id:be,deleted:!1}}const ae=super.deserialize(K,re,ne);return ae.#l=K.fontSize,ae.#o=V.Util.makeHexColor(...K.color),ae.#a=K.value,ae.annotationElementId=K.id||null,ae.#c=le,ae}serialize(K=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const re=J._internalPadding*this.parentScale,ne=this.getRect(re,re),le=ee.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),ae={annotationType:V.AnnotationEditorType.FREETEXT,color:le,fontSize:this.#l,value:this.#a,pageIndex:this.pageIndex,rect:ne,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return K?ae:this.annotationElementId&&!this.#y(ae)?null:(ae.id=this.annotationElementId,ae)}#y(K){const{value:re,fontSize:ne,color:le,rect:ae,pageIndex:se}=this.#c;return K.value!==re||K.fontSize!==ne||K.rect.some((ue,de)=>Math.abs(ue-ae[de])>=1)||K.color.some((ue,de)=>ue!==le[de])||K.pageIndex!==se}#m(K=!1){if(!this.annotationElementId)return;if(this.#d(),!K&&(this.width===0||this.height===0)){setTimeout(()=>this.#m(!0),0);return}const re=J._internalPadding*this.parentScale;this.#c.rect=this.getRect(re,re)}}T.FreeTextEditor=J},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.StampAnnotationElement=T.InkAnnotationElement=T.FreeTextAnnotationElement=T.AnnotationLayer=void 0;var V=$(1),Y=$(6),ee=$(3),te=$(30),J=$(31),ie=$(32);const K=1e3,re=9,ne=new WeakSet;function le(Oe){return{width:Oe[2]-Oe[0],height:Oe[3]-Oe[1]}}class ae{static create(pe){switch(pe.data.annotationType){case V.AnnotationType.LINK:return new ue(pe);case V.AnnotationType.TEXT:return new de(pe);case V.AnnotationType.WIDGET:switch(pe.data.fieldType){case"Tx":return new be(pe);case"Btn":return pe.data.radioButton?new ye(pe):pe.data.checkBox?new ve(pe):new Ae(pe);case"Ch":return new Be(pe);case"Sig":return new Le(pe)}return new ce(pe);case V.AnnotationType.POPUP:return new qe(pe);case V.AnnotationType.FREETEXT:return new Ke(pe);case V.AnnotationType.LINE:return new Je(pe);case V.AnnotationType.SQUARE:return new mt(pe);case V.AnnotationType.CIRCLE:return new ht(pe);case V.AnnotationType.POLYLINE:return new pt(pe);case V.AnnotationType.CARET:return new ct(pe);case V.AnnotationType.INK:return new We(pe);case V.AnnotationType.POLYGON:return new bt(pe);case V.AnnotationType.HIGHLIGHT:return new Pe(pe);case V.AnnotationType.UNDERLINE:return new _e(pe);case V.AnnotationType.SQUIGGLY:return new xe(pe);case V.AnnotationType.STRIKEOUT:return new ge(pe);case V.AnnotationType.STAMP:return new ke(pe);case V.AnnotationType.FILEATTACHMENT:return new Ee(pe);default:return new se(pe)}}}class se{#e=!1;constructor(pe,{isRenderable:Ce=!1,ignoreBorder:Re=!1,createQuadrilaterals:De=!1}={}){this.isRenderable=Ce,this.data=pe.data,this.layer=pe.layer,this.linkService=pe.linkService,this.downloadManager=pe.downloadManager,this.imageResourcesPath=pe.imageResourcesPath,this.renderForms=pe.renderForms,this.svgFactory=pe.svgFactory,this.annotationStorage=pe.annotationStorage,this.enableScripting=pe.enableScripting,this.hasJSActions=pe.hasJSActions,this._fieldObjects=pe.fieldObjects,this.parent=pe.parent,Ce&&(this.container=this._createContainer(Re)),De&&this._createQuadrilaterals()}static _hasPopupData({titleObj:pe,contentsObj:Ce,richText:Re}){return!!(pe?.str||Ce?.str||Re?.str)}get hasPopupData(){return se._hasPopupData(this.data)}_createContainer(pe){const{data:Ce,parent:{page:Re,viewport:De}}=this,Ne=document.createElement("section");Ne.setAttribute("data-annotation-id",Ce.id),this instanceof ce||(Ne.tabIndex=K),Ne.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Ne.setAttribute("aria-haspopup","dialog"),Ce.noRotate&&Ne.classList.add("norotate");const{pageWidth:He,pageHeight:Ge,pageX:it,pageY:ut}=De.rawDims;if(!Ce.rect||this instanceof qe){const{rotation:vt}=Ce;return!Ce.hasOwnCanvas&&vt!==0&&this.setRotation(vt,Ne),Ne}const{width:tt,height:lt}=le(Ce.rect),ot=V.Util.normalizeRect([Ce.rect[0],Re.view[3]-Ce.rect[1]+Re.view[1],Ce.rect[2],Re.view[3]-Ce.rect[3]+Re.view[1]]);if(!pe&&Ce.borderStyle.width>0){Ne.style.borderWidth=`${Ce.borderStyle.width}px`;const vt=Ce.borderStyle.horizontalCornerRadius,St=Ce.borderStyle.verticalCornerRadius;if(vt>0||St>0){const $t=`calc(${vt}px * var(--scale-factor)) / calc(${St}px * var(--scale-factor))`;Ne.style.borderRadius=$t}else if(this instanceof ye){const $t=`calc(${tt}px * var(--scale-factor)) / calc(${lt}px * var(--scale-factor))`;Ne.style.borderRadius=$t}switch(Ce.borderStyle.style){case V.AnnotationBorderStyleType.SOLID:Ne.style.borderStyle="solid";break;case V.AnnotationBorderStyleType.DASHED:Ne.style.borderStyle="dashed";break;case V.AnnotationBorderStyleType.BEVELED:(0,V.warn)("Unimplemented border style: beveled");break;case V.AnnotationBorderStyleType.INSET:(0,V.warn)("Unimplemented border style: inset");break;case V.AnnotationBorderStyleType.UNDERLINE:Ne.style.borderBottomStyle="solid";break}const Tt=Ce.borderColor||null;Tt?(this.#e=!0,Ne.style.borderColor=V.Util.makeHexColor(Tt[0]|0,Tt[1]|0,Tt[2]|0)):Ne.style.borderWidth=0}Ne.style.left=`${100*(ot[0]-it)/He}%`,Ne.style.top=`${100*(ot[1]-ut)/Ge}%`;const{rotation:dt}=Ce;return Ce.hasOwnCanvas||dt===0?(Ne.style.width=`${100*tt/He}%`,Ne.style.height=`${100*lt/Ge}%`):this.setRotation(dt,Ne),Ne}setRotation(pe,Ce=this.container){if(!this.data.rect)return;const{pageWidth:Re,pageHeight:De}=this.parent.viewport.rawDims,{width:Ne,height:He}=le(this.data.rect);let Ge,it;pe%180===0?(Ge=100*Ne/Re,it=100*He/De):(Ge=100*He/Re,it=100*Ne/De),Ce.style.width=`${Ge}%`,Ce.style.height=`${it}%`,Ce.setAttribute("data-main-rotation",(360-pe)%360)}get _commonActions(){const pe=(Ce,Re,De)=>{const Ne=De.detail[Ce],He=Ne[0],Ge=Ne.slice(1);De.target.style[Re]=te.ColorConverters[`${He}_HTML`](Ge),this.annotationStorage.setValue(this.data.id,{[Re]:te.ColorConverters[`${He}_rgb`](Ge)})};return(0,V.shadow)(this,"_commonActions",{display:Ce=>{const{display:Re}=Ce.detail,De=Re%2===1;this.container.style.visibility=De?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:De,noPrint:Re===1||Re===2})},print:Ce=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Ce.detail.print})},hidden:Ce=>{const{hidden:Re}=Ce.detail;this.container.style.visibility=Re?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Re,noView:Re})},focus:Ce=>{setTimeout(()=>Ce.target.focus({preventScroll:!1}),0)},userName:Ce=>{Ce.target.title=Ce.detail.userName},readonly:Ce=>{Ce.target.disabled=Ce.detail.readonly},required:Ce=>{this._setRequired(Ce.target,Ce.detail.required)},bgColor:Ce=>{pe("bgColor","backgroundColor",Ce)},fillColor:Ce=>{pe("fillColor","backgroundColor",Ce)},fgColor:Ce=>{pe("fgColor","color",Ce)},textColor:Ce=>{pe("textColor","color",Ce)},borderColor:Ce=>{pe("borderColor","borderColor",Ce)},strokeColor:Ce=>{pe("strokeColor","borderColor",Ce)},rotation:Ce=>{const Re=Ce.detail.rotation;this.setRotation(Re),this.annotationStorage.setValue(this.data.id,{rotation:Re})}})}_dispatchEventFromSandbox(pe,Ce){const Re=this._commonActions;for(const De of Object.keys(Ce.detail))(pe[De]||Re[De])?.(Ce)}_setDefaultPropertiesFromJS(pe){if(!this.enableScripting)return;const Ce=this.annotationStorage.getRawValue(this.data.id);if(!Ce)return;const Re=this._commonActions;for(const[De,Ne]of Object.entries(Ce)){const He=Re[De];if(He){const Ge={detail:{[De]:Ne},target:pe};He(Ge),delete Ce[De]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:pe}=this.data;if(!pe)return;const[Ce,Re,De,Ne]=this.data.rect;if(pe.length===1){const[,{x:St,y:Tt},{x:$t,y:It}]=pe[0];if(De===St&&Ne===Tt&&Ce===$t&&Re===It)return}const{style:He}=this.container;let Ge;if(this.#e){const{borderColor:St,borderWidth:Tt}=He;He.borderWidth=0,Ge=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${St}" stroke-width="${Tt}">`],this.container.classList.add("hasBorder")}const it=De-Ce,ut=Ne-Re,{svgFactory:tt}=this,lt=tt.createElement("svg");lt.classList.add("quadrilateralsContainer"),lt.setAttribute("width",0),lt.setAttribute("height",0);const ot=tt.createElement("defs");lt.append(ot);const dt=tt.createElement("clipPath"),vt=`clippath_${this.data.id}`;dt.setAttribute("id",vt),dt.setAttribute("clipPathUnits","objectBoundingBox"),ot.append(dt);for(const[,{x:St,y:Tt},{x:$t,y:It}]of pe){const qt=tt.createElement("rect"),Vt=($t-Ce)/it,ar=(Ne-Tt)/ut,sr=(St-$t)/it,fr=(Tt-It)/ut;qt.setAttribute("x",Vt),qt.setAttribute("y",ar),qt.setAttribute("width",sr),qt.setAttribute("height",fr),dt.append(qt),Ge?.push(`<rect vector-effect="non-scaling-stroke" x="${Vt}" y="${ar}" width="${sr}" height="${fr}"/>`)}this.#e&&(Ge.push("</g></svg>')"),He.backgroundImage=Ge.join("")),this.container.append(lt),this.container.style.clipPath=`url(#${vt})`}_createPopup(){const{container:pe,data:Ce}=this;pe.setAttribute("aria-haspopup","dialog");const Re=new qe({data:{color:Ce.color,titleObj:Ce.titleObj,modificationDate:Ce.modificationDate,contentsObj:Ce.contentsObj,richText:Ce.richText,parentRect:Ce.rect,borderStyle:0,id:`popup_${Ce.id}`,rotation:Ce.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Re.render())}render(){(0,V.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(pe,Ce=null){const Re=[];if(this._fieldObjects){const De=this._fieldObjects[pe];if(De)for(const{page:Ne,id:He,exportValues:Ge}of De){if(Ne===-1||He===Ce)continue;const it=typeof Ge=="string"?Ge:null,ut=document.querySelector(`[data-element-id="${He}"]`);if(ut&&!ne.has(ut)){(0,V.warn)(`_getElementsByName - element not allowed: ${He}`);continue}Re.push({id:He,exportValue:it,domElement:ut})}return Re}for(const De of document.getElementsByName(pe)){const{exportValue:Ne}=De,He=De.getAttribute("data-element-id");He!==Ce&&ne.has(De)&&Re.push({id:He,exportValue:Ne,domElement:De})}return Re}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const pe=this.getElementsToTriggerPopup();if(Array.isArray(pe))for(const Ce of pe)Ce.classList.add("highlightArea");else pe.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:pe,data:{id:Ce}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:pe,editId:Ce})})}}class ue extends se{constructor(pe,Ce=null){super(pe,{isRenderable:!0,ignoreBorder:!!Ce?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=pe.data.isTooltipOnly}render(){const{data:pe,linkService:Ce}=this,Re=document.createElement("a");Re.setAttribute("data-element-id",pe.id);let De=!1;return pe.url?(Ce.addLinkAttributes(Re,pe.url,pe.newWindow),De=!0):pe.action?(this._bindNamedAction(Re,pe.action),De=!0):pe.attachment?(this._bindAttachment(Re,pe.attachment),De=!0):pe.setOCGState?(this.#t(Re,pe.setOCGState),De=!0):pe.dest?(this._bindLink(Re,pe.dest),De=!0):(pe.actions&&(pe.actions.Action||pe.actions["Mouse Up"]||pe.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Re,pe),De=!0),pe.resetForm?(this._bindResetFormAction(Re,pe.resetForm),De=!0):this.isTooltipOnly&&!De&&(this._bindLink(Re,""),De=!0)),this.container.classList.add("linkAnnotation"),De&&this.container.append(Re),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(pe,Ce){pe.href=this.linkService.getDestinationHash(Ce),pe.onclick=()=>(Ce&&this.linkService.goToDestination(Ce),!1),(Ce||Ce==="")&&this.#e()}_bindNamedAction(pe,Ce){pe.href=this.linkService.getAnchorUrl(""),pe.onclick=()=>(this.linkService.executeNamedAction(Ce),!1),this.#e()}_bindAttachment(pe,Ce){pe.href=this.linkService.getAnchorUrl(""),pe.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,Ce.content,Ce.filename),!1),this.#e()}#t(pe,Ce){pe.href=this.linkService.getAnchorUrl(""),pe.onclick=()=>(this.linkService.executeSetOCGState(Ce),!1),this.#e()}_bindJSAction(pe,Ce){pe.href=this.linkService.getAnchorUrl("");const Re=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const De of Object.keys(Ce.actions)){const Ne=Re.get(De);Ne&&(pe[Ne]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ce.id,name:De}}),!1))}pe.onclick||(pe.onclick=()=>!1),this.#e()}_bindResetFormAction(pe,Ce){const Re=pe.onclick;if(Re||(pe.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,V.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Re||(pe.onclick=()=>!1);return}pe.onclick=()=>{Re?.();const{fields:De,refs:Ne,include:He}=Ce,Ge=[];if(De.length!==0||Ne.length!==0){const tt=new Set(Ne);for(const lt of De){const ot=this._fieldObjects[lt]||[];for(const{id:dt}of ot)tt.add(dt)}for(const lt of Object.values(this._fieldObjects))for(const ot of lt)tt.has(ot.id)===He&&Ge.push(ot)}else for(const tt of Object.values(this._fieldObjects))Ge.push(...tt);const it=this.annotationStorage,ut=[];for(const tt of Ge){const{id:lt}=tt;switch(ut.push(lt),tt.type){case"text":{const dt=tt.defaultValue||"";it.setValue(lt,{value:dt});break}case"checkbox":case"radiobutton":{const dt=tt.defaultValue===tt.exportValues;it.setValue(lt,{value:dt});break}case"combobox":case"listbox":{const dt=tt.defaultValue||"";it.setValue(lt,{value:dt});break}default:continue}const ot=document.querySelector(`[data-element-id="${lt}"]`);if(ot){if(!ne.has(ot)){(0,V.warn)(`_bindResetFormAction - element not allowed: ${lt}`);continue}}else continue;ot.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ut,name:"ResetForm"}}),!1}}}class de extends se{constructor(pe){super(pe,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const pe=document.createElement("img");return pe.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",pe.alt="[{{type}} Annotation]",pe.dataset.l10nId="text_annotation_type",pe.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(pe),this.container}}class ce extends se{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(pe){this.data.hasOwnCanvas&&(pe.previousSibling?.nodeName==="CANVAS"&&(pe.previousSibling.hidden=!0),pe.hidden=!1)}_getKeyModifier(pe){const{isWin:Ce,isMac:Re}=V.FeatureTest.platform;return Ce&&pe.ctrlKey||Re&&pe.metaKey}_setEventListener(pe,Ce,Re,De,Ne){Re.includes("mouse")?pe.addEventListener(Re,He=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:De,value:Ne(He),shift:He.shiftKey,modifier:this._getKeyModifier(He)}})}):pe.addEventListener(Re,He=>{if(Re==="blur"){if(!Ce.focused||!He.relatedTarget)return;Ce.focused=!1}else if(Re==="focus"){if(Ce.focused)return;Ce.focused=!0}Ne&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:De,value:Ne(He)}})})}_setEventListeners(pe,Ce,Re,De){for(const[Ne,He]of Re)(He==="Action"||this.data.actions?.[He])&&((He==="Focus"||He==="Blur")&&(Ce||={focused:!1}),this._setEventListener(pe,Ce,Ne,He,De),He==="Focus"&&!this.data.actions?.Blur?this._setEventListener(pe,Ce,"blur","Blur",null):He==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(pe,Ce,"focus","Focus",null))}_setBackgroundColor(pe){const Ce=this.data.backgroundColor||null;pe.style.backgroundColor=Ce===null?"transparent":V.Util.makeHexColor(Ce[0],Ce[1],Ce[2])}_setTextStyle(pe){const Ce=["left","center","right"],{fontColor:Re}=this.data.defaultAppearanceData,De=this.data.defaultAppearanceData.fontSize||re,Ne=pe.style;let He;const Ge=2,it=ut=>Math.round(10*ut)/10;if(this.data.multiLine){const ut=Math.abs(this.data.rect[3]-this.data.rect[1]-Ge),tt=Math.round(ut/(V.LINE_FACTOR*De))||1,lt=ut/tt;He=Math.min(De,it(lt/V.LINE_FACTOR))}else{const ut=Math.abs(this.data.rect[3]-this.data.rect[1]-Ge);He=Math.min(De,it(ut/V.LINE_FACTOR))}Ne.fontSize=`calc(${He}px * var(--scale-factor))`,Ne.color=V.Util.makeHexColor(Re[0],Re[1],Re[2]),this.data.textAlignment!==null&&(Ne.textAlign=Ce[this.data.textAlignment])}_setRequired(pe,Ce){Ce?pe.setAttribute("required",!0):pe.removeAttribute("required"),pe.setAttribute("aria-required",Ce)}}class be extends ce{constructor(pe){const Ce=pe.renderForms||!pe.data.hasAppearance&&!!pe.data.fieldValue;super(pe,{isRenderable:Ce})}setPropertyOnSiblings(pe,Ce,Re,De){const Ne=this.annotationStorage;for(const He of this._getElementsByName(pe.name,pe.id))He.domElement&&(He.domElement[Ce]=Re),Ne.setValue(He.id,{[De]:Re})}render(){const pe=this.annotationStorage,Ce=this.data.id;this.container.classList.add("textWidgetAnnotation");let Re=null;if(this.renderForms){const De=pe.getValue(Ce,{value:this.data.fieldValue});let Ne=De.value||"";const He=pe.getValue(Ce,{charLimit:this.data.maxLen}).charLimit;He&&Ne.length>He&&(Ne=Ne.slice(0,He));let Ge=De.formattedValue||this.data.textContent?.join(`
`)||null;Ge&&this.data.comb&&(Ge=Ge.replaceAll(/\s+/g,""));const it={userValue:Ne,formattedValue:Ge,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Re=document.createElement("textarea"),Re.textContent=Ge??Ne,this.data.doNotScroll&&(Re.style.overflowY="hidden")):(Re=document.createElement("input"),Re.type="text",Re.setAttribute("value",Ge??Ne),this.data.doNotScroll&&(Re.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Re.hidden=!0),ne.add(Re),Re.setAttribute("data-element-id",Ce),Re.disabled=this.data.readOnly,Re.name=this.data.fieldName,Re.tabIndex=K,this._setRequired(Re,this.data.required),He&&(Re.maxLength=He),Re.addEventListener("input",tt=>{pe.setValue(Ce,{value:tt.target.value}),this.setPropertyOnSiblings(Re,"value",tt.target.value,"value"),it.formattedValue=null}),Re.addEventListener("resetform",tt=>{const lt=this.data.defaultFieldValue??"";Re.value=it.userValue=lt,it.formattedValue=null});let ut=tt=>{const{formattedValue:lt}=it;lt!=null&&(tt.target.value=lt),tt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Re.addEventListener("focus",lt=>{if(it.focused)return;const{target:ot}=lt;it.userValue&&(ot.value=it.userValue),it.lastCommittedValue=ot.value,it.commitKey=1,it.focused=!0}),Re.addEventListener("updatefromsandbox",lt=>{this.showElementAndHideCanvas(lt.target);const ot={value(dt){it.userValue=dt.detail.value??"",pe.setValue(Ce,{value:it.userValue.toString()}),dt.target.value=it.userValue},formattedValue(dt){const{formattedValue:vt}=dt.detail;it.formattedValue=vt,vt!=null&&dt.target!==document.activeElement&&(dt.target.value=vt),pe.setValue(Ce,{formattedValue:vt})},selRange(dt){dt.target.setSelectionRange(...dt.detail.selRange)},charLimit:dt=>{const{charLimit:vt}=dt.detail,{target:St}=dt;if(vt===0){St.removeAttribute("maxLength");return}St.setAttribute("maxLength",vt);let Tt=it.userValue;!Tt||Tt.length<=vt||(Tt=Tt.slice(0,vt),St.value=it.userValue=Tt,pe.setValue(Ce,{value:Tt}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ce,name:"Keystroke",value:Tt,willCommit:!0,commitKey:1,selStart:St.selectionStart,selEnd:St.selectionEnd}}))}};this._dispatchEventFromSandbox(ot,lt)}),Re.addEventListener("keydown",lt=>{it.commitKey=1;let ot=-1;if(lt.key==="Escape"?ot=0:lt.key==="Enter"&&!this.data.multiLine?ot=2:lt.key==="Tab"&&(it.commitKey=3),ot===-1)return;const{value:dt}=lt.target;it.lastCommittedValue!==dt&&(it.lastCommittedValue=dt,it.userValue=dt,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ce,name:"Keystroke",value:dt,willCommit:!0,commitKey:ot,selStart:lt.target.selectionStart,selEnd:lt.target.selectionEnd}}))});const tt=ut;ut=null,Re.addEventListener("blur",lt=>{if(!it.focused||!lt.relatedTarget)return;it.focused=!1;const{value:ot}=lt.target;it.userValue=ot,it.lastCommittedValue!==ot&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ce,name:"Keystroke",value:ot,willCommit:!0,commitKey:it.commitKey,selStart:lt.target.selectionStart,selEnd:lt.target.selectionEnd}}),tt(lt)}),this.data.actions?.Keystroke&&Re.addEventListener("beforeinput",lt=>{it.lastCommittedValue=null;const{data:ot,target:dt}=lt,{value:vt,selectionStart:St,selectionEnd:Tt}=dt;let $t=St,It=Tt;switch(lt.inputType){case"deleteWordBackward":{const qt=vt.substring(0,St).match(/\w*[^\w]*$/);qt&&($t-=qt[0].length);break}case"deleteWordForward":{const qt=vt.substring(St).match(/^[^\w]*\w*/);qt&&(It+=qt[0].length);break}case"deleteContentBackward":St===Tt&&($t-=1);break;case"deleteContentForward":St===Tt&&(It+=1);break}lt.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ce,name:"Keystroke",value:vt,change:ot||"",willCommit:!1,selStart:$t,selEnd:It}})}),this._setEventListeners(Re,it,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],lt=>lt.target.value)}if(ut&&Re.addEventListener("blur",ut),this.data.comb){const lt=(this.data.rect[2]-this.data.rect[0])/He;Re.classList.add("comb"),Re.style.letterSpacing=`calc(${lt}px * var(--scale-factor) - 1ch)`}}else Re=document.createElement("div"),Re.textContent=this.data.fieldValue,Re.style.verticalAlign="middle",Re.style.display="table-cell";return this._setTextStyle(Re),this._setBackgroundColor(Re),this._setDefaultPropertiesFromJS(Re),this.container.append(Re),this.container}}class Le extends ce{constructor(pe){super(pe,{isRenderable:!!pe.data.hasOwnCanvas})}}class ve extends ce{constructor(pe){super(pe,{isRenderable:pe.renderForms})}render(){const pe=this.annotationStorage,Ce=this.data,Re=Ce.id;let De=pe.getValue(Re,{value:Ce.exportValue===Ce.fieldValue}).value;typeof De=="string"&&(De=De!=="Off",pe.setValue(Re,{value:De})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Ne=document.createElement("input");return ne.add(Ne),Ne.setAttribute("data-element-id",Re),Ne.disabled=Ce.readOnly,this._setRequired(Ne,this.data.required),Ne.type="checkbox",Ne.name=Ce.fieldName,De&&Ne.setAttribute("checked",!0),Ne.setAttribute("exportValue",Ce.exportValue),Ne.tabIndex=K,Ne.addEventListener("change",He=>{const{name:Ge,checked:it}=He.target;for(const ut of this._getElementsByName(Ge,Re)){const tt=it&&ut.exportValue===Ce.exportValue;ut.domElement&&(ut.domElement.checked=tt),pe.setValue(ut.id,{value:tt})}pe.setValue(Re,{value:it})}),Ne.addEventListener("resetform",He=>{const Ge=Ce.defaultFieldValue||"Off";He.target.checked=Ge===Ce.exportValue}),this.enableScripting&&this.hasJSActions&&(Ne.addEventListener("updatefromsandbox",He=>{const Ge={value(it){it.target.checked=it.detail.value!=="Off",pe.setValue(Re,{value:it.target.checked})}};this._dispatchEventFromSandbox(Ge,He)}),this._setEventListeners(Ne,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],He=>He.target.checked)),this._setBackgroundColor(Ne),this._setDefaultPropertiesFromJS(Ne),this.container.append(Ne),this.container}}class ye extends ce{constructor(pe){super(pe,{isRenderable:pe.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const pe=this.annotationStorage,Ce=this.data,Re=Ce.id;let De=pe.getValue(Re,{value:Ce.fieldValue===Ce.buttonValue}).value;typeof De=="string"&&(De=De!==Ce.buttonValue,pe.setValue(Re,{value:De}));const Ne=document.createElement("input");if(ne.add(Ne),Ne.setAttribute("data-element-id",Re),Ne.disabled=Ce.readOnly,this._setRequired(Ne,this.data.required),Ne.type="radio",Ne.name=Ce.fieldName,De&&Ne.setAttribute("checked",!0),Ne.tabIndex=K,Ne.addEventListener("change",He=>{const{name:Ge,checked:it}=He.target;for(const ut of this._getElementsByName(Ge,Re))pe.setValue(ut.id,{value:!1});pe.setValue(Re,{value:it})}),Ne.addEventListener("resetform",He=>{const Ge=Ce.defaultFieldValue;He.target.checked=Ge!=null&&Ge===Ce.buttonValue}),this.enableScripting&&this.hasJSActions){const He=Ce.buttonValue;Ne.addEventListener("updatefromsandbox",Ge=>{const it={value:ut=>{const tt=He===ut.detail.value;for(const lt of this._getElementsByName(ut.target.name)){const ot=tt&&lt.id===Re;lt.domElement&&(lt.domElement.checked=ot),pe.setValue(lt.id,{value:ot})}}};this._dispatchEventFromSandbox(it,Ge)}),this._setEventListeners(Ne,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ge=>Ge.target.checked)}return this._setBackgroundColor(Ne),this._setDefaultPropertiesFromJS(Ne),this.container.append(Ne),this.container}}class Ae extends ue{constructor(pe){super(pe,{ignoreBorder:pe.data.hasAppearance})}render(){const pe=super.render();pe.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(pe.title=this.data.alternativeText);const Ce=pe.lastChild;return this.enableScripting&&this.hasJSActions&&Ce&&(this._setDefaultPropertiesFromJS(Ce),Ce.addEventListener("updatefromsandbox",Re=>{this._dispatchEventFromSandbox({},Re)})),pe}}class Be extends ce{constructor(pe){super(pe,{isRenderable:pe.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const pe=this.annotationStorage,Ce=this.data.id,Re=pe.getValue(Ce,{value:this.data.fieldValue}),De=document.createElement("select");ne.add(De),De.setAttribute("data-element-id",Ce),De.disabled=this.data.readOnly,this._setRequired(De,this.data.required),De.name=this.data.fieldName,De.tabIndex=K;let Ne=this.data.combo&&this.data.options.length>0;this.data.combo||(De.size=this.data.options.length,this.data.multiSelect&&(De.multiple=!0)),De.addEventListener("resetform",tt=>{const lt=this.data.defaultFieldValue;for(const ot of De.options)ot.selected=ot.value===lt});for(const tt of this.data.options){const lt=document.createElement("option");lt.textContent=tt.displayValue,lt.value=tt.exportValue,Re.value.includes(tt.exportValue)&&(lt.setAttribute("selected",!0),Ne=!1),De.append(lt)}let He=null;if(Ne){const tt=document.createElement("option");tt.value=" ",tt.setAttribute("hidden",!0),tt.setAttribute("selected",!0),De.prepend(tt),He=()=>{tt.remove(),De.removeEventListener("input",He),He=null},De.addEventListener("input",He)}const Ge=tt=>{const lt=tt?"value":"textContent",{options:ot,multiple:dt}=De;return dt?Array.prototype.filter.call(ot,vt=>vt.selected).map(vt=>vt[lt]):ot.selectedIndex===-1?null:ot[ot.selectedIndex][lt]};let it=Ge(!1);const ut=tt=>{const lt=tt.target.options;return Array.prototype.map.call(lt,ot=>({displayValue:ot.textContent,exportValue:ot.value}))};return this.enableScripting&&this.hasJSActions?(De.addEventListener("updatefromsandbox",tt=>{const lt={value(ot){He?.();const dt=ot.detail.value,vt=new Set(Array.isArray(dt)?dt:[dt]);for(const St of De.options)St.selected=vt.has(St.value);pe.setValue(Ce,{value:Ge(!0)}),it=Ge(!1)},multipleSelection(ot){De.multiple=!0},remove(ot){const dt=De.options,vt=ot.detail.remove;dt[vt].selected=!1,De.remove(vt),dt.length>0&&Array.prototype.findIndex.call(dt,Tt=>Tt.selected)===-1&&(dt[0].selected=!0),pe.setValue(Ce,{value:Ge(!0),items:ut(ot)}),it=Ge(!1)},clear(ot){for(;De.length!==0;)De.remove(0);pe.setValue(Ce,{value:null,items:[]}),it=Ge(!1)},insert(ot){const{index:dt,displayValue:vt,exportValue:St}=ot.detail.insert,Tt=De.children[dt],$t=document.createElement("option");$t.textContent=vt,$t.value=St,Tt?Tt.before($t):De.append($t),pe.setValue(Ce,{value:Ge(!0),items:ut(ot)}),it=Ge(!1)},items(ot){const{items:dt}=ot.detail;for(;De.length!==0;)De.remove(0);for(const vt of dt){const{displayValue:St,exportValue:Tt}=vt,$t=document.createElement("option");$t.textContent=St,$t.value=Tt,De.append($t)}De.options.length>0&&(De.options[0].selected=!0),pe.setValue(Ce,{value:Ge(!0),items:ut(ot)}),it=Ge(!1)},indices(ot){const dt=new Set(ot.detail.indices);for(const vt of ot.target.options)vt.selected=dt.has(vt.index);pe.setValue(Ce,{value:Ge(!0)}),it=Ge(!1)},editable(ot){ot.target.disabled=!ot.detail.editable}};this._dispatchEventFromSandbox(lt,tt)}),De.addEventListener("input",tt=>{const lt=Ge(!0);pe.setValue(Ce,{value:lt}),tt.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ce,name:"Keystroke",value:it,changeEx:lt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(De,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],tt=>tt.target.value)):De.addEventListener("input",function(tt){pe.setValue(Ce,{value:Ge(!0)})}),this.data.combo&&this._setTextStyle(De),this._setBackgroundColor(De),this._setDefaultPropertiesFromJS(De),this.container.append(De),this.container}}class qe extends se{constructor(pe){const{data:Ce,elements:Re}=pe;super(pe,{isRenderable:se._hasPopupData(Ce)}),this.elements=Re}render(){this.container.classList.add("popupAnnotation");const pe=new Ue({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Ce=[];for(const Re of this.elements)Re.popup=pe,Ce.push(Re.data.id),Re.addHighlightArea();return this.container.setAttribute("aria-controls",Ce.map(Re=>`${V.AnnotationPrefix}${Re}`).join(",")),this.container}}class Ue{#e=null;#t=this.#u.bind(this);#r=this.#C.bind(this);#n=this.#S.bind(this);#o=this.#b.bind(this);#a=null;#s=null;#l=null;#c=null;#i=null;#f=null;#h=!1;#d=null;#p=null;#y=null;#m=null;#g=!1;constructor({container:pe,color:Ce,elements:Re,titleObj:De,modificationDate:Ne,contentsObj:He,richText:Ge,parent:it,rect:ut,parentRect:tt,open:lt}){this.#s=pe,this.#m=De,this.#l=He,this.#y=Ge,this.#i=it,this.#a=Ce,this.#p=ut,this.#f=tt,this.#c=Re;const ot=Y.PDFDateString.toDateObject(Ne);ot&&(this.#e=it.l10n.get("annotation_date_string",{date:ot.toLocaleDateString(),time:ot.toLocaleTimeString()})),this.trigger=Re.flatMap(dt=>dt.getElementsToTriggerPopup());for(const dt of this.trigger)dt.addEventListener("click",this.#o),dt.addEventListener("mouseenter",this.#n),dt.addEventListener("mouseleave",this.#r),dt.classList.add("popupTriggerArea");for(const dt of Re)dt.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,lt&&this.#b()}render(){if(this.#d)return;const{page:{view:pe},viewport:{rawDims:{pageWidth:Ce,pageHeight:Re,pageX:De,pageY:Ne}}}=this.#i,He=this.#d=document.createElement("div");if(He.className="popup",this.#a){const qt=He.style.outlineColor=V.Util.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?He.style.backgroundColor=`color-mix(in srgb, ${qt} 30%, white)`:He.style.backgroundColor=V.Util.makeHexColor(...this.#a.map(ar=>Math.floor(.7*(255-ar)+ar)))}const Ge=document.createElement("span");Ge.className="header";const it=document.createElement("h1");if(Ge.append(it),{dir:it.dir,str:it.textContent}=this.#m,He.append(Ge),this.#e){const qt=document.createElement("span");qt.classList.add("popupDate"),this.#e.then(Vt=>{qt.textContent=Vt}),Ge.append(qt)}const ut=this.#l,tt=this.#y;if(tt?.str&&(!ut?.str||ut.str===tt.str))ie.XfaLayer.render({xfaHtml:tt.html,intent:"richText",div:He}),He.lastChild.classList.add("richText","popupContent");else{const qt=this._formatContents(ut);He.append(qt)}let lt=!!this.#f,ot=lt?this.#f:this.#p;for(const qt of this.#c)if(!ot||V.Util.intersect(qt.data.rect,ot)!==null){ot=qt.data.rect,lt=!0;break}const dt=V.Util.normalizeRect([ot[0],pe[3]-ot[1]+pe[1],ot[2],pe[3]-ot[3]+pe[1]]),vt=5,St=lt?ot[2]-ot[0]+vt:0,Tt=dt[0]+St,$t=dt[1],{style:It}=this.#s;It.left=`${100*(Tt-De)/Ce}%`,It.top=`${100*($t-Ne)/Re}%`,this.#s.append(He)}_formatContents({str:pe,dir:Ce}){const Re=document.createElement("p");Re.classList.add("popupContent"),Re.dir=Ce;const De=pe.split(/(?:\r\n?|\n)/);for(let Ne=0,He=De.length;Ne<He;++Ne){const Ge=De[Ne];Re.append(document.createTextNode(Ge)),Ne<He-1&&Re.append(document.createElement("br"))}return Re}#u(pe){pe.altKey||pe.shiftKey||pe.ctrlKey||pe.metaKey||(pe.key==="Enter"||pe.key==="Escape"&&this.#h)&&this.#b()}#b(){this.#h=!this.#h,this.#h?(this.#S(),this.#s.addEventListener("click",this.#o),this.#s.addEventListener("keydown",this.#t)):(this.#C(),this.#s.removeEventListener("click",this.#o),this.#s.removeEventListener("keydown",this.#t))}#S(){this.#d||this.render(),this.isVisible?this.#h&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#C(){this.#s.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#g=this.isVisible,this.#g&&(this.#s.hidden=!0)}maybeShow(){this.#g&&(this.#g=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class Ke extends se{constructor(pe){super(pe,{isRenderable:!0,ignoreBorder:!0}),this.textContent=pe.data.textContent,this.textPosition=pe.data.textPosition,this.annotationEditorType=V.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const pe=document.createElement("div");pe.classList.add("annotationTextContent"),pe.setAttribute("role","comment");for(const Ce of this.textContent){const Re=document.createElement("span");Re.textContent=Ce,pe.append(Re)}this.container.append(pe)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}T.FreeTextAnnotationElement=Ke;class Je extends se{#e=null;constructor(pe){super(pe,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const pe=this.data,{width:Ce,height:Re}=le(pe.rect),De=this.svgFactory.create(Ce,Re,!0),Ne=this.#e=this.svgFactory.createElement("svg:line");return Ne.setAttribute("x1",pe.rect[2]-pe.lineCoordinates[0]),Ne.setAttribute("y1",pe.rect[3]-pe.lineCoordinates[1]),Ne.setAttribute("x2",pe.rect[2]-pe.lineCoordinates[2]),Ne.setAttribute("y2",pe.rect[3]-pe.lineCoordinates[3]),Ne.setAttribute("stroke-width",pe.borderStyle.width||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),De.append(Ne),this.container.append(De),!pe.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class mt extends se{#e=null;constructor(pe){super(pe,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const pe=this.data,{width:Ce,height:Re}=le(pe.rect),De=this.svgFactory.create(Ce,Re,!0),Ne=pe.borderStyle.width,He=this.#e=this.svgFactory.createElement("svg:rect");return He.setAttribute("x",Ne/2),He.setAttribute("y",Ne/2),He.setAttribute("width",Ce-Ne),He.setAttribute("height",Re-Ne),He.setAttribute("stroke-width",Ne||1),He.setAttribute("stroke","transparent"),He.setAttribute("fill","transparent"),De.append(He),this.container.append(De),!pe.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ht extends se{#e=null;constructor(pe){super(pe,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const pe=this.data,{width:Ce,height:Re}=le(pe.rect),De=this.svgFactory.create(Ce,Re,!0),Ne=pe.borderStyle.width,He=this.#e=this.svgFactory.createElement("svg:ellipse");return He.setAttribute("cx",Ce/2),He.setAttribute("cy",Re/2),He.setAttribute("rx",Ce/2-Ne/2),He.setAttribute("ry",Re/2-Ne/2),He.setAttribute("stroke-width",Ne||1),He.setAttribute("stroke","transparent"),He.setAttribute("fill","transparent"),De.append(He),this.container.append(De),!pe.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class pt extends se{#e=null;constructor(pe){super(pe,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const pe=this.data,{width:Ce,height:Re}=le(pe.rect),De=this.svgFactory.create(Ce,Re,!0);let Ne=[];for(const Ge of pe.vertices){const it=Ge.x-pe.rect[0],ut=pe.rect[3]-Ge.y;Ne.push(it+","+ut)}Ne=Ne.join(" ");const He=this.#e=this.svgFactory.createElement(this.svgElementName);return He.setAttribute("points",Ne),He.setAttribute("stroke-width",pe.borderStyle.width||1),He.setAttribute("stroke","transparent"),He.setAttribute("fill","transparent"),De.append(He),this.container.append(De),!pe.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class bt extends pt{constructor(pe){super(pe),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ct extends se{constructor(pe){super(pe,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class We extends se{#e=[];constructor(pe){super(pe,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=V.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const pe=this.data,{width:Ce,height:Re}=le(pe.rect),De=this.svgFactory.create(Ce,Re,!0);for(const Ne of pe.inkLists){let He=[];for(const it of Ne){const ut=it.x-pe.rect[0],tt=pe.rect[3]-it.y;He.push(`${ut},${tt}`)}He=He.join(" ");const Ge=this.svgFactory.createElement(this.svgElementName);this.#e.push(Ge),Ge.setAttribute("points",He),Ge.setAttribute("stroke-width",pe.borderStyle.width||1),Ge.setAttribute("stroke","transparent"),Ge.setAttribute("fill","transparent"),!pe.popupRef&&this.hasPopupData&&this._createPopup(),De.append(Ge)}return this.container.append(De),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}T.InkAnnotationElement=We;class Pe extends se{constructor(pe){super(pe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class _e extends se{constructor(pe){super(pe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class xe extends se{constructor(pe){super(pe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ge extends se{constructor(pe){super(pe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ke extends se{constructor(pe){super(pe,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}T.StampAnnotationElement=ke;class Ee extends se{#e=null;constructor(pe){super(pe,{isRenderable:!0});const{filename:Ce,content:Re}=this.data.file;this.filename=(0,Y.getFilenameFromUrl)(Ce,!0),this.content=Re,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:Ce,content:Re})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:pe,data:Ce}=this;let Re;Ce.hasAppearance||Ce.fillAlpha===0?Re=document.createElement("div"):(Re=document.createElement("img"),Re.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ce.name)?"paperclip":"pushpin"}.svg`,Ce.fillAlpha&&Ce.fillAlpha<1&&(Re.style=`filter: opacity(${Math.round(Ce.fillAlpha*100)}%);`)),Re.addEventListener("dblclick",this.#t.bind(this)),this.#e=Re;const{isMac:De}=V.FeatureTest.platform;return pe.addEventListener("keydown",Ne=>{Ne.key==="Enter"&&(De?Ne.metaKey:Ne.ctrlKey)&&this.#t()}),!Ce.popupRef&&this.hasPopupData?this._createPopup():Re.classList.add("popupTriggerArea"),pe.append(Re),pe}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class Me{#e=null;#t=null;#r=new Map;constructor({div:pe,accessibilityManager:Ce,annotationCanvasMap:Re,l10n:De,page:Ne,viewport:He}){this.div=pe,this.#e=Ce,this.#t=Re,this.l10n=De,this.page=Ne,this.viewport=He,this.zIndex=0,this.l10n||=J.NullL10n}#n(pe,Ce){const Re=pe.firstChild||pe;Re.id=`${V.AnnotationPrefix}${Ce}`,this.div.append(pe),this.#e?.moveElementInDOM(this.div,pe,Re,!1)}async render(pe){const{annotations:Ce}=pe,Re=this.div;(0,Y.setLayerDimensions)(Re,this.viewport);const De=new Map,Ne={data:null,layer:Re,linkService:pe.linkService,downloadManager:pe.downloadManager,imageResourcesPath:pe.imageResourcesPath||"",renderForms:pe.renderForms!==!1,svgFactory:new Y.DOMSVGFactory,annotationStorage:pe.annotationStorage||new ee.AnnotationStorage,enableScripting:pe.enableScripting===!0,hasJSActions:pe.hasJSActions,fieldObjects:pe.fieldObjects,parent:this,elements:null};for(const He of Ce){if(He.noHTML)continue;const Ge=He.annotationType===V.AnnotationType.POPUP;if(Ge){const tt=De.get(He.id);if(!tt)continue;Ne.elements=tt}else{const{width:tt,height:lt}=le(He.rect);if(tt<=0||lt<=0)continue}Ne.data=He;const it=ae.create(Ne);if(!it.isRenderable)continue;if(!Ge&&He.popupRef){const tt=De.get(He.popupRef);tt?tt.push(it):De.set(He.popupRef,[it])}it.annotationEditorType>0&&this.#r.set(it.data.id,it);const ut=it.render();He.hidden&&(ut.style.visibility="hidden"),this.#n(ut,He.id)}this.#o(),await this.l10n.translate(Re)}update({viewport:pe}){const Ce=this.div;this.viewport=pe,(0,Y.setLayerDimensions)(Ce,{rotation:pe.rotation}),this.#o(),Ce.hidden=!1}#o(){if(!this.#t)return;const pe=this.div;for(const[Ce,Re]of this.#t){const De=pe.querySelector(`[data-annotation-id="${Ce}"]`);if(!De)continue;const{firstChild:Ne}=De;Ne?Ne.nodeName==="CANVAS"?Ne.replaceWith(Re):Ne.before(Re):De.append(Re)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#r.values())}getEditableAnnotation(pe){return this.#r.get(pe)}}T.AnnotationLayer=Me},(C,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.ColorConverters=void 0;function $(ee){return Math.floor(Math.max(0,Math.min(1,ee))*255).toString(16).padStart(2,"0")}function V(ee){return Math.max(0,Math.min(255,255*ee))}class Y{static CMYK_G([te,J,ie,K]){return["G",1-Math.min(1,.3*te+.59*ie+.11*J+K)]}static G_CMYK([te]){return["CMYK",0,0,0,1-te]}static G_RGB([te]){return["RGB",te,te,te]}static G_rgb([te]){return te=V(te),[te,te,te]}static G_HTML([te]){const J=$(te);return`#${J}${J}${J}`}static RGB_G([te,J,ie]){return["G",.3*te+.59*J+.11*ie]}static RGB_rgb(te){return te.map(V)}static RGB_HTML(te){return`#${te.map($).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([te,J,ie,K]){return["RGB",1-Math.min(1,te+K),1-Math.min(1,ie+K),1-Math.min(1,J+K)]}static CMYK_rgb([te,J,ie,K]){return[V(1-Math.min(1,te+K)),V(1-Math.min(1,ie+K)),V(1-Math.min(1,J+K))]}static CMYK_HTML(te){const J=this.CMYK_RGB(te).slice(1);return this.RGB_HTML(J)}static RGB_CMYK([te,J,ie]){const K=1-te,re=1-J,ne=1-ie,le=Math.min(K,re,ne);return["CMYK",K,re,ne,le]}}T.ColorConverters=Y},(C,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.NullL10n=void 0,T.getL10nFallback=V;const $={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};$.print_progress_percent="{{progress}}%";function V(te,J){switch(te){case"find_match_count":te=`find_match_count[${J.total===1?"one":"other"}]`;break;case"find_match_count_limit":te=`find_match_count_limit[${J.limit===1?"one":"other"}]`;break}return $[te]||""}function Y(te,J){return J?te.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ie,K)=>K in J?J[K]:"{{"+K+"}}"):te}const ee={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(te,J=null,ie=V(te,J)){return Y(ie,J)},async translate(te){}};T.NullL10n=ee},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.XfaLayer=void 0;var V=$(25);class Y{static setupStorage(te,J,ie,K,re){const ne=K.getValue(J,{value:null});switch(ie.name){case"textarea":if(ne.value!==null&&(te.textContent=ne.value),re==="print")break;te.addEventListener("input",le=>{K.setValue(J,{value:le.target.value})});break;case"input":if(ie.attributes.type==="radio"||ie.attributes.type==="checkbox"){if(ne.value===ie.attributes.xfaOn?te.setAttribute("checked",!0):ne.value===ie.attributes.xfaOff&&te.removeAttribute("checked"),re==="print")break;te.addEventListener("change",le=>{K.setValue(J,{value:le.target.checked?le.target.getAttribute("xfaOn"):le.target.getAttribute("xfaOff")})})}else{if(ne.value!==null&&te.setAttribute("value",ne.value),re==="print")break;te.addEventListener("input",le=>{K.setValue(J,{value:le.target.value})})}break;case"select":if(ne.value!==null){te.setAttribute("value",ne.value);for(const le of ie.children)le.attributes.value===ne.value?le.attributes.selected=!0:le.attributes.hasOwnProperty("selected")&&delete le.attributes.selected}te.addEventListener("input",le=>{const ae=le.target.options,se=ae.selectedIndex===-1?"":ae[ae.selectedIndex].value;K.setValue(J,{value:se})});break}}static setAttributes({html:te,element:J,storage:ie=null,intent:K,linkService:re}){const{attributes:ne}=J,le=te instanceof HTMLAnchorElement;ne.type==="radio"&&(ne.name=`${ne.name}-${K}`);for(const[ae,se]of Object.entries(ne))if(se!=null)switch(ae){case"class":se.length&&te.setAttribute(ae,se.join(" "));break;case"dataId":break;case"id":te.setAttribute("data-element-id",se);break;case"style":Object.assign(te.style,se);break;case"textContent":te.textContent=se;break;default:(!le||ae!=="href"&&ae!=="newWindow")&&te.setAttribute(ae,se)}le&&re.addLinkAttributes(te,ne.href,ne.newWindow),ie&&ne.dataId&&this.setupStorage(te,ne.dataId,J,ie)}static render(te){const J=te.annotationStorage,ie=te.linkService,K=te.xfaHtml,re=te.intent||"display",ne=document.createElement(K.name);K.attributes&&this.setAttributes({html:ne,element:K,intent:re,linkService:ie});const le=[[K,-1,ne]],ae=te.div;if(ae.append(ne),te.viewport){const ue=`matrix(${te.viewport.transform.join(",")})`;ae.style.transform=ue}re!=="richText"&&ae.setAttribute("class","xfaLayer xfaFont");const se=[];for(;le.length>0;){const[ue,de,ce]=le.at(-1);if(de+1===ue.children.length){le.pop();continue}const be=ue.children[++le.at(-1)[1]];if(be===null)continue;const{name:Le}=be;if(Le==="#text"){const ye=document.createTextNode(be.value);se.push(ye),ce.append(ye);continue}const ve=be?.attributes?.xmlns?document.createElementNS(be.attributes.xmlns,Le):document.createElement(Le);if(ce.append(ve),be.attributes&&this.setAttributes({html:ve,element:be,storage:J,intent:re,linkService:ie}),be.children&&be.children.length>0)le.push([be,-1,ve]);else if(be.value){const ye=document.createTextNode(be.value);V.XfaText.shouldBuildText(Le)&&se.push(ye),ve.append(ye)}}for(const ue of ae.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))ue.setAttribute("readOnly",!0);return{textDivs:se}}static update(te){const J=`matrix(${te.viewport.transform.join(",")})`;te.div.style.transform=J,te.div.hidden=!1}}T.XfaLayer=Y},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.InkEditor=void 0;var V=$(1),Y=$(4),ee=$(29),te=$(6),J=$(5);class ie extends Y.AnnotationEditor{#e=0;#t=0;#r=this.canvasPointermove.bind(this);#n=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#s=new Path2D;#l=!1;#c=!1;#i=!1;#f=null;#h=0;#d=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(re){super({...re,name:"inkEditor"}),this.color=re.color||null,this.thickness=re.thickness||null,this.opacity=re.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(re){Y.AnnotationEditor.initialize(re,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(re,ne){switch(re){case V.AnnotationEditorParamsType.INK_THICKNESS:ie._defaultThickness=ne;break;case V.AnnotationEditorParamsType.INK_COLOR:ie._defaultColor=ne;break;case V.AnnotationEditorParamsType.INK_OPACITY:ie._defaultOpacity=ne/100;break}}updateParams(re,ne){switch(re){case V.AnnotationEditorParamsType.INK_THICKNESS:this.#y(ne);break;case V.AnnotationEditorParamsType.INK_COLOR:this.#m(ne);break;case V.AnnotationEditorParamsType.INK_OPACITY:this.#g(ne);break}}static get defaultPropertiesToUpdate(){return[[V.AnnotationEditorParamsType.INK_THICKNESS,ie._defaultThickness],[V.AnnotationEditorParamsType.INK_COLOR,ie._defaultColor||Y.AnnotationEditor._defaultLineColor],[V.AnnotationEditorParamsType.INK_OPACITY,Math.round(ie._defaultOpacity*100)]]}get propertiesToUpdate(){return[[V.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ie._defaultThickness],[V.AnnotationEditorParamsType.INK_COLOR,this.color||ie._defaultColor||Y.AnnotationEditor._defaultLineColor],[V.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??ie._defaultOpacity))]]}#y(re){const ne=this.thickness;this.addCommands({cmd:()=>{this.thickness=re,this.#T()},undo:()=>{this.thickness=ne,this.#T()},mustExec:!0,type:V.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(re){const ne=this.color;this.addCommands({cmd:()=>{this.color=re,this.#_()},undo:()=>{this.color=ne,this.#_()},mustExec:!0,type:V.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(re){re/=100;const ne=this.opacity;this.addCommands({cmd:()=>{this.opacity=re,this.#_()},undo:()=>{this.opacity=ne,this.#_()},mustExec:!0,type:V.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#k(),this.#P()),this.isAttachedToDOM||(this.parent.add(this),this.#v()),this.#T()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(re){!this.parent&&re?this._uiManager.removeShouldRescale(this):this.parent&&re===null&&this._uiManager.addShouldRescale(this),super.setParent(re)}onScaleChanging(){const[re,ne]=this.parentDimensions,le=this.width*re,ae=this.height*ne;this.setDimensions(le,ae)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#a))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){const{parentRotation:re,parentDimensions:[ne,le]}=this;switch(re){case 90:return[0,le,le,ne];case 180:return[ne,le,ne,le];case 270:return[ne,0,le,ne];default:return[0,0,ne,le]}}#b(){const{ctx:re,color:ne,opacity:le,thickness:ae,parentScale:se,scaleFactor:ue}=this;re.lineWidth=ae*se/ue,re.lineCap="round",re.lineJoin="round",re.miterLimit=10,re.strokeStyle=`${ne}${(0,J.opacityToHex)(le)}`}#S(re,ne){this.canvas.addEventListener("contextmenu",te.noContextMenu),this.canvas.addEventListener("pointerleave",this.#n),this.canvas.addEventListener("pointermove",this.#r),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#a),this.isEditing=!0,this.#i||(this.#i=!0,this.#v(),this.thickness||=ie._defaultThickness,this.color||=ie._defaultColor||Y.AnnotationEditor._defaultLineColor,this.opacity??=ie._defaultOpacity),this.currentPath.push([re,ne]),this.#c=!1,this.#b(),this.#p=()=>{this.#O(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#C(re,ne){const[le,ae]=this.currentPath.at(-1);if(this.currentPath.length>1&&re===le&&ne===ae)return;const se=this.currentPath;let ue=this.#s;if(se.push([re,ne]),this.#c=!0,se.length<=2){ue.moveTo(...se[0]),ue.lineTo(re,ne);return}se.length===3&&(this.#s=ue=new Path2D,ue.moveTo(...se[0])),this.#F(ue,...se.at(-3),...se.at(-2),re,ne)}#$(){if(this.currentPath.length===0)return;const re=this.currentPath.at(-1);this.#s.lineTo(...re)}#A(re,ne){this.#p=null,re=Math.min(Math.max(re,0),this.canvas.width),ne=Math.min(Math.max(ne,0),this.canvas.height),this.#C(re,ne),this.#$();let le;if(this.currentPath.length!==1)le=this.#M();else{const ce=[re,ne];le=[[ce,ce.slice(),ce.slice(),ce]]}const ae=this.#s,se=this.currentPath;this.currentPath=[],this.#s=new Path2D;const ue=()=>{this.allRawPaths.push(se),this.paths.push(le),this.bezierPath2D.push(ae),this.rebuild()},de=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#k(),this.#P()),this.#T())};this.addCommands({cmd:ue,undo:de,mustExec:!0})}#O(){if(!this.#c)return;this.#c=!1;const re=Math.ceil(this.thickness*this.parentScale),ne=this.currentPath.slice(-3),le=ne.map(ue=>ue[0]),ae=ne.map(ue=>ue[1]);Math.min(...le)-re,Math.max(...le)+re,Math.min(...ae)-re,Math.max(...ae)+re;const{ctx:se}=this;se.save(),se.clearRect(0,0,this.canvas.width,this.canvas.height);for(const ue of this.bezierPath2D)se.stroke(ue);se.stroke(this.#s),se.restore()}#F(re,ne,le,ae,se,ue,de){const ce=(ne+ae)/2,be=(le+se)/2,Le=(ae+ue)/2,ve=(se+de)/2;re.bezierCurveTo(ce+2*(ae-ce)/3,be+2*(se-be)/3,Le+2*(ae-Le)/3,ve+2*(se-ve)/3,Le,ve)}#M(){const re=this.currentPath;if(re.length<=2)return[[re[0],re[0],re.at(-1),re.at(-1)]];const ne=[];let le,[ae,se]=re[0];for(le=1;le<re.length-2;le++){const[ye,Ae]=re[le],[Be,qe]=re[le+1],Ue=(ye+Be)/2,Ke=(Ae+qe)/2,Je=[ae+2*(ye-ae)/3,se+2*(Ae-se)/3],mt=[Ue+2*(ye-Ue)/3,Ke+2*(Ae-Ke)/3];ne.push([[ae,se],Je,mt,[Ue,Ke]]),[ae,se]=[Ue,Ke]}const[ue,de]=re[le],[ce,be]=re[le+1],Le=[ae+2*(ue-ae)/3,se+2*(de-se)/3],ve=[ce+2*(ue-ce)/3,be+2*(de-be)/3];return ne.push([[ae,se],Le,ve,[ce,be]]),ne}#_(){if(this.isEmpty()){this.#E();return}this.#b();const{canvas:re,ctx:ne}=this;ne.setTransform(1,0,0,1,0,0),ne.clearRect(0,0,re.width,re.height),this.#E();for(const le of this.bezierPath2D)ne.stroke(le)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#T(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(re){this._focusEventsAllowed&&(super.focusin(re),this.enableEditMode())}canvasPointerdown(re){re.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),re.preventDefault(),re.type!=="mouse"&&this.div.focus(),this.#S(re.offsetX,re.offsetY))}canvasPointermove(re){re.preventDefault(),this.#C(re.offsetX,re.offsetY)}canvasPointerup(re){re.preventDefault(),this.#I(re)}canvasPointerleave(re){this.#I(re)}#I(re){this.canvas.removeEventListener("pointerleave",this.#n),this.canvas.removeEventListener("pointermove",this.#r),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#a),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",te.noContextMenu)},10),this.#A(re.offsetX,re.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#k(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Y.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(re=>this.canvas?.setAttribute("aria-label",re)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#P(){this.#f=new ResizeObserver(re=>{const ne=re[0].contentRect;ne.width&&ne.height&&this.setDimensions(ne.width,ne.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let re,ne;this.width&&(re=this.x,ne=this.y),super.render(),Y.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(de=>this.div?.setAttribute("aria-label",de));const[le,ae,se,ue]=this.#u();if(this.setAt(le,ae,0,0),this.setDims(se,ue),this.#k(),this.width){const[de,ce]=this.parentDimensions;this.setAspectRatio(this.width*de,this.height*ce),this.setAt(re*de,ne*ce,this.width*de,this.height*ce),this.#i=!0,this.#v(),this.setDims(this.width*de,this.height*ce),this.#_(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#P(),this.div}#v(){if(!this.#i)return;const[re,ne]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*re),this.canvas.height=Math.ceil(this.height*ne),this.#E()}setDimensions(re,ne){const le=Math.round(re),ae=Math.round(ne);if(this.#h===le&&this.#d===ae)return;this.#h=le,this.#d=ae,this.canvas.style.visibility="hidden";const[se,ue]=this.parentDimensions;this.width=re/se,this.height=ne/ue,this.fixAndSetPosition(),this.#l&&this.#w(re,ne),this.#v(),this.#_(),this.canvas.style.visibility="visible",this.fixDims()}#w(re,ne){const le=this.#L(),ae=(re-le)/this.#t,se=(ne-le)/this.#e;this.scaleFactor=Math.min(ae,se)}#E(){const re=this.#L()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+re,this.translationY*this.scaleFactor+re)}static#D(re){const ne=new Path2D;for(let le=0,ae=re.length;le<ae;le++){const[se,ue,de,ce]=re[le];le===0&&ne.moveTo(...se),ne.bezierCurveTo(ue[0],ue[1],de[0],de[1],ce[0],ce[1])}return ne}static#N(re,ne,le){const[ae,se,ue,de]=ne;switch(le){case 0:for(let ce=0,be=re.length;ce<be;ce+=2)re[ce]+=ae,re[ce+1]=de-re[ce+1];break;case 90:for(let ce=0,be=re.length;ce<be;ce+=2){const Le=re[ce];re[ce]=re[ce+1]+ae,re[ce+1]=Le+se}break;case 180:for(let ce=0,be=re.length;ce<be;ce+=2)re[ce]=ue-re[ce],re[ce+1]+=se;break;case 270:for(let ce=0,be=re.length;ce<be;ce+=2){const Le=re[ce];re[ce]=ue-re[ce+1],re[ce+1]=de-Le}break;default:throw new Error("Invalid rotation")}return re}static#j(re,ne,le){const[ae,se,ue,de]=ne;switch(le){case 0:for(let ce=0,be=re.length;ce<be;ce+=2)re[ce]-=ae,re[ce+1]=de-re[ce+1];break;case 90:for(let ce=0,be=re.length;ce<be;ce+=2){const Le=re[ce];re[ce]=re[ce+1]-se,re[ce+1]=Le-ae}break;case 180:for(let ce=0,be=re.length;ce<be;ce+=2)re[ce]=ue-re[ce],re[ce+1]-=se;break;case 270:for(let ce=0,be=re.length;ce<be;ce+=2){const Le=re[ce];re[ce]=de-re[ce+1],re[ce+1]=ue-Le}break;default:throw new Error("Invalid rotation")}return re}#B(re,ne,le,ae){const se=[],ue=this.thickness/2,de=re*ne+ue,ce=re*le+ue;for(const be of this.paths){const Le=[],ve=[];for(let ye=0,Ae=be.length;ye<Ae;ye++){const[Be,qe,Ue,Ke]=be[ye],Je=re*Be[0]+de,mt=re*Be[1]+ce,ht=re*qe[0]+de,pt=re*qe[1]+ce,bt=re*Ue[0]+de,ct=re*Ue[1]+ce,We=re*Ke[0]+de,Pe=re*Ke[1]+ce;ye===0&&(Le.push(Je,mt),ve.push(Je,mt)),Le.push(ht,pt,bt,ct,We,Pe),ve.push(ht,pt),ye===Ae-1&&ve.push(We,Pe)}se.push({bezier:ie.#N(Le,ae,this.rotation),points:ie.#N(ve,ae,this.rotation)})}return se}#R(){let re=1/0,ne=-1/0,le=1/0,ae=-1/0;for(const se of this.paths)for(const[ue,de,ce,be]of se){const Le=V.Util.bezierBoundingBox(...ue,...de,...ce,...be);re=Math.min(re,Le[0]),le=Math.min(le,Le[1]),ne=Math.max(ne,Le[2]),ae=Math.max(ae,Le[3])}return[re,le,ne,ae]}#L(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#T(re=!1){if(this.isEmpty())return;if(!this.#l){this.#_();return}const ne=this.#R(),le=this.#L();this.#t=Math.max(Y.AnnotationEditor.MIN_SIZE,ne[2]-ne[0]),this.#e=Math.max(Y.AnnotationEditor.MIN_SIZE,ne[3]-ne[1]);const ae=Math.ceil(le+this.#t*this.scaleFactor),se=Math.ceil(le+this.#e*this.scaleFactor),[ue,de]=this.parentDimensions;this.width=ae/ue,this.height=se/de,this.setAspectRatio(ae,se);const ce=this.translationX,be=this.translationY;this.translationX=-ne[0],this.translationY=-ne[1],this.#v(),this.#_(),this.#h=ae,this.#d=se,this.setDims(ae,se);const Le=re?le/this.scaleFactor/2:0;this.translate(ce-this.translationX-Le,be-this.translationY-Le)}static deserialize(re,ne,le){if(re instanceof ee.InkAnnotationElement)return null;const ae=super.deserialize(re,ne,le);ae.thickness=re.thickness,ae.color=V.Util.makeHexColor(...re.color),ae.opacity=re.opacity;const[se,ue]=ae.pageDimensions,de=ae.width*se,ce=ae.height*ue,be=ae.parentScale,Le=re.thickness/2;ae.#l=!0,ae.#h=Math.round(de),ae.#d=Math.round(ce);const{paths:ve,rect:ye,rotation:Ae}=re;for(let{bezier:qe}of ve){qe=ie.#j(qe,ye,Ae);const Ue=[];ae.paths.push(Ue);let Ke=be*(qe[0]-Le),Je=be*(qe[1]-Le);for(let ht=2,pt=qe.length;ht<pt;ht+=6){const bt=be*(qe[ht]-Le),ct=be*(qe[ht+1]-Le),We=be*(qe[ht+2]-Le),Pe=be*(qe[ht+3]-Le),_e=be*(qe[ht+4]-Le),xe=be*(qe[ht+5]-Le);Ue.push([[Ke,Je],[bt,ct],[We,Pe],[_e,xe]]),Ke=_e,Je=xe}const mt=this.#D(Ue);ae.bezierPath2D.push(mt)}const Be=ae.#R();return ae.#t=Math.max(Y.AnnotationEditor.MIN_SIZE,Be[2]-Be[0]),ae.#e=Math.max(Y.AnnotationEditor.MIN_SIZE,Be[3]-Be[1]),ae.#w(de,ce),ae}serialize(){if(this.isEmpty())return null;const re=this.getRect(0,0),ne=Y.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:V.AnnotationEditorType.INK,color:ne,thickness:this.thickness,opacity:this.opacity,paths:this.#B(this.scaleFactor/this.parentScale,this.translationX,this.translationY,re),pageIndex:this.pageIndex,rect:re,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}T.InkEditor=ie},(C,T,$)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.StampEditor=void 0;var V=$(1),Y=$(4),ee=$(6),te=$(29);class J extends Y.AnnotationEditor{#e=null;#t=null;#r=null;#n=null;#o=null;#a=null;#s=null;#l=null;#c=!1;#i=!1;static _type="stamp";constructor(K){super({...K,name:"stampEditor"}),this.#n=K.bitmapUrl,this.#o=K.bitmapFile}static initialize(K){Y.AnnotationEditor.initialize(K)}static get supportedTypes(){const K=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,V.shadow)(this,"supportedTypes",K.map(re=>`image/${re}`))}static get supportedTypesStr(){return(0,V.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(K){return this.supportedTypes.includes(K)}static paste(K,re){re.pasteEditor(V.AnnotationEditorType.STAMP,{bitmapFile:K.getAsFile()})}#f(K,re=!1){if(!K){this.remove();return}this.#e=K.bitmap,re||(this.#t=K.id,this.#c=K.isSvg),this.#p()}#h(){this.#r=null,this._uiManager.enableWaiting(!1),this.#a&&this.div.focus()}#d(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(re=>this.#f(re,!0)).finally(()=>this.#h());return}if(this.#n){const re=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(re).then(ne=>this.#f(ne)).finally(()=>this.#h());return}if(this.#o){const re=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(re).then(ne=>this.#f(ne)).finally(()=>this.#h());return}const K=document.createElement("input");K.type="file",K.accept=J.supportedTypesStr,this.#r=new Promise(re=>{K.addEventListener("change",async()=>{if(!K.files||K.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const ne=await this._uiManager.imageManager.getFromFile(K.files[0]);this.#f(ne)}re()}),K.addEventListener("cancel",()=>{this.remove(),re()})}).finally(()=>this.#h()),K.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#d();return}super.rebuild(),this.div!==null&&(this.#t&&this.#d(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let K,re;if(this.width&&(K=this.x,re=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#d(),this.width){const[ne,le]=this.parentDimensions;this.setAt(K*ne,re*le,this.width*ne,this.height*le)}return this.div}#p(){const{div:K}=this;let{width:re,height:ne}=this.#e;const[le,ae]=this.pageDimensions,se=.75;if(this.width)re=this.width*le,ne=this.height*ae;else if(re>se*le||ne>se*ae){const be=Math.min(se*le/re,se*ae/ne);re*=be,ne*=be}const[ue,de]=this.parentDimensions;this.setDims(re*ue/le,ne*de/ae),this._uiManager.enableWaiting(!1);const ce=this.#a=document.createElement("canvas");K.append(ce),K.hidden=!1,this.#g(re,ne),this.#b(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#y(K,re){const[ne,le]=this.parentDimensions;this.width=K/ne,this.height=re/le,this.setDims(K,re),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const ae=200;this.#l=setTimeout(()=>{this.#l=null,this.#g(K,re)},ae)}#m(K,re){const{width:ne,height:le}=this.#e;let ae=ne,se=le,ue=this.#e;for(;ae>2*K||se>2*re;){const de=ae,ce=se;ae>2*K&&(ae=ae>=16384?Math.floor(ae/2)-1:Math.ceil(ae/2)),se>2*re&&(se=se>=16384?Math.floor(se/2)-1:Math.ceil(se/2));const be=new OffscreenCanvas(ae,se);be.getContext("2d").drawImage(ue,0,0,de,ce,0,0,ae,se),ue=be.transferToImageBitmap()}return ue}#g(K,re){K=Math.ceil(K),re=Math.ceil(re);const ne=this.#a;if(!ne||ne.width===K&&ne.height===re)return;ne.width=K,ne.height=re;const le=this.#c?this.#e:this.#m(K,re),ae=ne.getContext("2d");ae.filter=this._uiManager.hcmFilter,ae.drawImage(le,0,0,le.width,le.height,0,0,K,re)}#u(K){if(K){if(this.#c){const le=this._uiManager.imageManager.getSvgUrl(this.#t);if(le)return le}const re=document.createElement("canvas");return{width:re.width,height:re.height}=this.#e,re.getContext("2d").drawImage(this.#e,0,0),re.toDataURL()}if(this.#c){const[re,ne]=this.pageDimensions,le=Math.round(this.width*re*ee.PixelsPerInch.PDF_TO_CSS_UNITS),ae=Math.round(this.height*ne*ee.PixelsPerInch.PDF_TO_CSS_UNITS),se=new OffscreenCanvas(le,ae);return se.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,le,ae),se.transferToImageBitmap()}return structuredClone(this.#e)}#b(){this.#s=new ResizeObserver(K=>{const re=K[0].contentRect;re.width&&re.height&&this.#y(re.width,re.height)}),this.#s.observe(this.div)}static deserialize(K,re,ne){if(K instanceof te.StampAnnotationElement)return null;const le=super.deserialize(K,re,ne),{rect:ae,bitmapUrl:se,bitmapId:ue,isSvg:de,accessibilityData:ce}=K;ue&&ne.imageManager.isValidId(ue)?le.#t=ue:le.#n=se,le.#c=de;const[be,Le]=le.pageDimensions;return le.width=(ae[2]-ae[0])/be,le.height=(ae[3]-ae[1])/Le,ce&&(le.altTextData=ce),le}serialize(K=!1,re=null){if(this.isEmpty())return null;const ne={annotationType:V.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(K)return ne.bitmapUrl=this.#u(!0),ne.accessibilityData=this.altTextData,ne;const{decorative:le,altText:ae}=this.altTextData;if(!le&&ae&&(ne.accessibilityData={type:"Figure",alt:ae}),re===null)return ne;re.stamps||=new Map;const se=this.#c?(ne.rect[2]-ne.rect[0])*(ne.rect[3]-ne.rect[1]):null;if(!re.stamps.has(this.#t))re.stamps.set(this.#t,{area:se,serialized:ne}),ne.bitmap=this.#u(!1);else if(this.#c){const ue=re.stamps.get(this.#t);se>ue.area&&(ue.area=se,ue.serialized.bitmap.close(),ue.serialized.bitmap=this.#u(!1))}return ne}}T.StampEditor=J}],__webpack_module_cache__={};function __w_pdfjs_require__(C){var T=__webpack_module_cache__[C];if(T!==void 0)return T.exports;var $=__webpack_module_cache__[C]={exports:{}};return __webpack_modules__[C]($,$.exports,__w_pdfjs_require__),$.exports}var __webpack_exports__={};return(()=>{var C=__webpack_exports__;Object.defineProperty(C,"__esModule",{value:!0}),Object.defineProperty(C,"AbortException",{enumerable:!0,get:function(){return T.AbortException}}),Object.defineProperty(C,"AnnotationEditorLayer",{enumerable:!0,get:function(){return ee.AnnotationEditorLayer}}),Object.defineProperty(C,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return T.AnnotationEditorParamsType}}),Object.defineProperty(C,"AnnotationEditorType",{enumerable:!0,get:function(){return T.AnnotationEditorType}}),Object.defineProperty(C,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return te.AnnotationEditorUIManager}}),Object.defineProperty(C,"AnnotationLayer",{enumerable:!0,get:function(){return J.AnnotationLayer}}),Object.defineProperty(C,"AnnotationMode",{enumerable:!0,get:function(){return T.AnnotationMode}}),Object.defineProperty(C,"CMapCompressionType",{enumerable:!0,get:function(){return T.CMapCompressionType}}),Object.defineProperty(C,"DOMSVGFactory",{enumerable:!0,get:function(){return V.DOMSVGFactory}}),Object.defineProperty(C,"FeatureTest",{enumerable:!0,get:function(){return T.FeatureTest}}),Object.defineProperty(C,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ie.GlobalWorkerOptions}}),Object.defineProperty(C,"ImageKind",{enumerable:!0,get:function(){return T.ImageKind}}),Object.defineProperty(C,"InvalidPDFException",{enumerable:!0,get:function(){return T.InvalidPDFException}}),Object.defineProperty(C,"MissingPDFException",{enumerable:!0,get:function(){return T.MissingPDFException}}),Object.defineProperty(C,"OPS",{enumerable:!0,get:function(){return T.OPS}}),Object.defineProperty(C,"PDFDataRangeTransport",{enumerable:!0,get:function(){return $.PDFDataRangeTransport}}),Object.defineProperty(C,"PDFDateString",{enumerable:!0,get:function(){return V.PDFDateString}}),Object.defineProperty(C,"PDFWorker",{enumerable:!0,get:function(){return $.PDFWorker}}),Object.defineProperty(C,"PasswordResponses",{enumerable:!0,get:function(){return T.PasswordResponses}}),Object.defineProperty(C,"PermissionFlag",{enumerable:!0,get:function(){return T.PermissionFlag}}),Object.defineProperty(C,"PixelsPerInch",{enumerable:!0,get:function(){return V.PixelsPerInch}}),Object.defineProperty(C,"PromiseCapability",{enumerable:!0,get:function(){return T.PromiseCapability}}),Object.defineProperty(C,"RenderingCancelledException",{enumerable:!0,get:function(){return V.RenderingCancelledException}}),Object.defineProperty(C,"SVGGraphics",{enumerable:!0,get:function(){return $.SVGGraphics}}),Object.defineProperty(C,"UnexpectedResponseException",{enumerable:!0,get:function(){return T.UnexpectedResponseException}}),Object.defineProperty(C,"Util",{enumerable:!0,get:function(){return T.Util}}),Object.defineProperty(C,"VerbosityLevel",{enumerable:!0,get:function(){return T.VerbosityLevel}}),Object.defineProperty(C,"XfaLayer",{enumerable:!0,get:function(){return K.XfaLayer}}),Object.defineProperty(C,"build",{enumerable:!0,get:function(){return $.build}}),Object.defineProperty(C,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return T.createValidAbsoluteUrl}}),Object.defineProperty(C,"getDocument",{enumerable:!0,get:function(){return $.getDocument}}),Object.defineProperty(C,"getFilenameFromUrl",{enumerable:!0,get:function(){return V.getFilenameFromUrl}}),Object.defineProperty(C,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return V.getPdfFilenameFromUrl}}),Object.defineProperty(C,"getXfaPageViewport",{enumerable:!0,get:function(){return V.getXfaPageViewport}}),Object.defineProperty(C,"isDataScheme",{enumerable:!0,get:function(){return V.isDataScheme}}),Object.defineProperty(C,"isPdfFile",{enumerable:!0,get:function(){return V.isPdfFile}}),Object.defineProperty(C,"loadScript",{enumerable:!0,get:function(){return V.loadScript}}),Object.defineProperty(C,"noContextMenu",{enumerable:!0,get:function(){return V.noContextMenu}}),Object.defineProperty(C,"normalizeUnicode",{enumerable:!0,get:function(){return T.normalizeUnicode}}),Object.defineProperty(C,"renderTextLayer",{enumerable:!0,get:function(){return Y.renderTextLayer}}),Object.defineProperty(C,"setLayerDimensions",{enumerable:!0,get:function(){return V.setLayerDimensions}}),Object.defineProperty(C,"shadow",{enumerable:!0,get:function(){return T.shadow}}),Object.defineProperty(C,"updateTextLayer",{enumerable:!0,get:function(){return Y.updateTextLayer}}),Object.defineProperty(C,"version",{enumerable:!0,get:function(){return $.version}});var T=__w_pdfjs_require__(1),$=__w_pdfjs_require__(2),V=__w_pdfjs_require__(6),Y=__w_pdfjs_require__(26),ee=__w_pdfjs_require__(27),te=__w_pdfjs_require__(5),J=__w_pdfjs_require__(29),ie=__w_pdfjs_require__(14),K=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule,pdfjs$1=pdfjs;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function C(V,Y,ee,te,J,ie){if(ie!==ReactPropTypesSecret){var K=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw K.name="Invariant Violation",K}}C.isRequired=C;function T(){return C}var $={array:C,bigint:C,bool:C,func:C,number:C,object:C,string:C,symbol:C,any:C,arrayOf:T,element:C,elementType:C,instanceOf:T,node:C,objectOf:T,oneOf:T,oneOfType:T,shape:T,exact:T,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return $.PropTypes=$,$};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray$1=globalThis&&globalThis.__spreadArray||function(C,T,$){if($||arguments.length===2)for(var V=0,Y=T.length,ee;V<Y;V++)(ee||!(V in T))&&(ee||(ee=Array.prototype.slice.call(T,0,V)),ee[V]=T[V]);return C.concat(ee||Array.prototype.slice.call(T))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(C,T){var $={};return allEvents.forEach(function(V){var Y=C[V];Y&&(T?$[V]=function(ee){return Y(ee,T(V))}:$[V]=Y)}),$}function makeCancellablePromise(C){var T=!1,$=new Promise(function(V,Y){C.then(function(ee){return!T&&V(ee)}).catch(function(ee){return!T&&Y(ee)})});return{promise:$,cancel:function(){T=!0}}}function r$1(C){var T,$,V="";if(typeof C=="string"||typeof C=="number")V+=C;else if(typeof C=="object")if(Array.isArray(C))for(T=0;T<C.length;T++)C[T]&&($=r$1(C[T]))&&(V&&(V+=" "),V+=$);else for(T in C)C[T]&&(V&&(V+=" "),V+=T);return V}function clsx(){for(var C,T,$=0,V="";$<arguments.length;)(C=arguments[$++])&&(T=r$1(C))&&(V&&(V+=" "),V+=T);return V}var isProduction=!0,prefix="Invariant failed";function invariant(C,T){if(!C){if(isProduction)throw new Error(prefix);var $=typeof T=="function"?T():T,V=$?"".concat(prefix,": ").concat($):prefix;throw new Error(V)}}function warning(C,T){}const DocumentContext=reactExports.createContext(null);function Message({children:C,type:T}){return React$1.createElement("div",{className:`react-pdf__message react-pdf__message--${T}`},C)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(T){this.pdfDocument=T}setViewer(T){this.pdfViewer=T}setExternalLinkRel(T){this.externalLinkRel=T}setExternalLinkTarget(T){this.externalLinkTarget=T}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(T){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=T}get rotation(){return 0}set rotation(T){}goToDestination(T){return new Promise($=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(T,"Destination is not specified."),typeof T=="string"?this.pdfDocument.getDestination(T).then($):Array.isArray(T)?$(T):T.then($)}).then($=>{invariant(Array.isArray($),`"${$}" is not a valid destination array.`);const V=$[0];new Promise(Y=>{invariant(this.pdfDocument,"PDF document not loaded."),V instanceof Object?this.pdfDocument.getPageIndex(V).then(ee=>{Y(ee)}).catch(()=>{invariant(!1,`"${V}" is not a valid page reference.`)}):typeof V=="number"?Y(V):invariant(!1,`"${V}" is not a valid destination reference.`)}).then(Y=>{const ee=Y+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(ee>=1&&ee<=this.pagesCount,`"${ee}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:$,pageIndex:Y,pageNumber:ee})})})}navigateTo(T){this.goToDestination(T)}goToPage(T){const $=T-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(T>=1&&T<=this.pagesCount,`"${T}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:$,pageNumber:T})}addLinkAttributes(T,$,V){T.href=$,T.rel=this.externalLinkRel||DEFAULT_LINK_REL,T.target=V?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PasswordResponses$1=PasswordResponses,isBrowser$2=typeof document<"u",isLocalFileSystem=isBrowser$2&&window.location.protocol==="file:";function isDefined(C){return typeof C<"u"}function isProvided(C){return isDefined(C)&&C!==null}function isString$1(C){return typeof C=="string"}function isArrayBuffer(C){return C instanceof ArrayBuffer}function isBlob(C){return invariant(isBrowser$2,"isBlob can only be used in a browser environment"),C instanceof Blob}function isDataURI(C){return isString$1(C)&&/^data:/.test(C)}function dataURItoByteString(C){invariant(isDataURI(C),"Invalid data URI.");const[T="",$=""]=C.split(",");return T.split(";").indexOf("base64")!==-1?atob($):unescape($)}function getDevicePixelRatio(){return isBrowser$2&&window.devicePixelRatio||1}function displayWorkerWarning(){}function cancelRunningTask(C){C&&C.cancel&&C.cancel()}function makePageCallback(C,T){return Object.defineProperty(C,"width",{get(){return this.view[2]*T},configurable:!0}),Object.defineProperty(C,"height",{get(){return this.view[3]*T},configurable:!0}),Object.defineProperty(C,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(C,"originalHeight",{get(){return this.view[3]},configurable:!0}),C}function isCancelException(C){return C.name==="RenderingCancelledException"}function loadFromFile(C){return new Promise((T,$)=>{const V=new FileReader;V.onload=()=>{if(!V.result)return $(new Error("Error while reading a file."));T(V.result)},V.onerror=Y=>{if(!Y.target)return $(new Error("Error while reading a file."));const{error:ee}=Y.target;if(!ee)return $(new Error("Error while reading a file."));switch(ee.code){case ee.NOT_FOUND_ERR:return $(new Error("Error while reading a file: File not found."));case ee.SECURITY_ERR:return $(new Error("Error while reading a file: Security error."));case ee.ABORT_ERR:return $(new Error("Error while reading a file: Aborted."));default:return $(new Error("Error while reading a file."))}},V.readAsArrayBuffer(C)})}function reducer(C,T){switch(T.type){case"RESOLVE":return{value:T.value,error:void 0};case"REJECT":return{value:!1,error:T.error};case"RESET":return{value:void 0,error:void 0};default:return C}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs$1,eventProps=(()=>{const C={};return allEvents.forEach(T=>{C[T]=PropTypes.func}),C})(),isTypedArray$3=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray$3]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function C(T,$,V){const{[$]:Y,pageNumber:ee,pdf:te}=T;if(!isDefined(te))return null;if(isDefined(Y)){if(typeof Y!="number")return new Error(`\`${$}\` of type \`${typeof Y}\` supplied to \`${V}\`, expected \`number\`.`);if(Y<0)return new Error(`Expected \`${$}\` to be greater or equal to 0.`);const{numPages:J}=te;if(Y+1>J)return new Error(`Expected \`${$}\` to be less or equal to ${J-1}.`)}else if(!isDefined(ee))return new Error(`\`${$}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${V}\`.`);return null},isPageNumber=function C(T,$,V){const{[$]:Y,pageIndex:ee,pdf:te}=T;if(!isDefined(te))return null;if(isDefined(Y)){if(typeof Y!="number")return new Error(`\`${$}\` of type \`${typeof Y}\` supplied to \`${V}\`, expected \`number\`.`);if(Y<1)return new Error(`Expected \`${$}\` to be greater or equal to 1.`);const{numPages:J}=te;if(Y>J)return new Error(`Expected \`${$}\` to be less or equal to ${J}.`)}else if(!isDefined(ee))return new Error(`\`${$}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${V}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=globalThis&&globalThis.__awaiter||function(C,T,$,V){function Y(ee){return ee instanceof $?ee:new $(function(te){te(ee)})}return new($||($=Promise))(function(ee,te){function J(re){try{K(V.next(re))}catch(ne){te(ne)}}function ie(re){try{K(V.throw(re))}catch(ne){te(ne)}}function K(re){re.done?ee(re.value):Y(re.value).then(J,ie)}K((V=V.apply(C,T||[])).next())})},__rest$1=globalThis&&globalThis.__rest||function(C,T){var $={};for(var V in C)Object.prototype.hasOwnProperty.call(C,V)&&T.indexOf(V)<0&&($[V]=C[V]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Y=0,V=Object.getOwnPropertySymbols(C);Y<V.length;Y++)T.indexOf(V[Y])<0&&Object.prototype.propertyIsEnumerable.call(C,V[Y])&&($[V[Y]]=C[V[Y]]);return $};const{PDFDataRangeTransport}=pdfjs$1,defaultOnPassword=(C,T)=>{switch(T){case PasswordResponses$1.NEED_PASSWORD:{const $=prompt("Enter the password to open this PDF file.");C($);break}case PasswordResponses$1.INCORRECT_PASSWORD:{const $=prompt("Invalid password. Please try again.");C($);break}}},Document=reactExports.forwardRef(function C(T,$){var{children:V,className:Y,error:ee="Failed to load PDF file.",externalLinkRel:te,externalLinkTarget:J,file:ie,inputRef:K,imageResourcesPath:re,loading:ne="Loading PDF",noData:le="No PDF file specified.",onItemClick:ae,onLoadError:se,onLoadProgress:ue,onLoadSuccess:de,onPassword:ce=defaultOnPassword,onSourceError:be,onSourceSuccess:Le,options:ve,renderMode:ye,rotate:Ae}=T,Be=__rest$1(T,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[qe,Ue]=useResolver(),{value:Ke,error:Je}=qe,[mt,ht]=useResolver(),{value:pt,error:bt}=mt,ct=reactExports.useRef(new LinkService),We=reactExports.useRef([]),Pe=reactExports.useRef({scrollPageIntoView:ut=>{const{dest:tt,pageNumber:lt,pageIndex:ot=lt-1}=ut;if(ae){ae({dest:tt,pageIndex:ot,pageNumber:lt});return}const dt=We.current[ot];if(dt){dt.scrollIntoView();return}}});reactExports.useImperativeHandle($,()=>({linkService:ct,pages:We,viewer:Pe}),[]);function _e(){Le&&Le()}function xe(){Je&&(Je.toString(),be&&be(Je))}function ge(){Ue({type:"RESET"})}reactExports.useEffect(ge,[ie,Ue]);const ke=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!ie)return null;if(typeof ie=="string")return isDataURI(ie)?{data:dataURItoByteString(ie)}:{url:ie};if(ie instanceof PDFDataRangeTransport)return{range:ie};if(isArrayBuffer(ie))return{data:ie};if(isBrowser$2&&isBlob(ie))return{data:yield loadFromFile(ie)};if(invariant(typeof ie=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant("data"in ie||"range"in ie||"url"in ie,"Invalid parameter object: need either .data, .range or .url"),"url"in ie&&typeof ie.url=="string"&&isDataURI(ie.url)){const{url:ut}=ie,tt=__rest$1(ie,["url"]),lt=dataURItoByteString(ut);return Object.assign({data:lt},tt)}return ie}),[ie]);reactExports.useEffect(()=>{const ut=makeCancellablePromise(ke());return ut.promise.then(tt=>{Ue({type:"RESOLVE",value:tt})}).catch(tt=>{Ue({type:"REJECT",error:tt})}),()=>{cancelRunningTask(ut)}},[ke,Ue]),reactExports.useEffect(()=>{if(!(typeof Ke>"u")){if(Ke===!1){xe();return}_e()}},[Ke]);function Ee(){pt&&(de&&de(pt),We.current=new Array(pt.numPages),ct.current.setDocument(pt))}function Me(){bt&&(bt.toString(),se&&se(bt))}function Oe(){ht({type:"RESET"})}reactExports.useEffect(Oe,[ht,Ke]);function pe(){if(!Ke)return;const ut=ve?Object.assign(Object.assign({},Ke),ve):Ke,tt=pdfjs$1.getDocument(ut);ue&&(tt.onProgress=ue),ce&&(tt.onPassword=ce);const lt=tt;return lt.promise.then(ot=>{ht({type:"RESOLVE",value:ot})}).catch(ot=>{lt.destroyed||ht({type:"REJECT",error:ot})}),()=>{lt.destroy()}}reactExports.useEffect(pe,[ve,ht,Ke]),reactExports.useEffect(()=>{if(!(typeof pt>"u")){if(pt===!1){Me();return}Ee()}},[pt]);function Ce(){ct.current.setViewer(Pe.current),ct.current.setExternalLinkRel(te),ct.current.setExternalLinkTarget(J)}reactExports.useEffect(Ce,[te,J]);function Re(ut,tt){We.current[ut]=tt}function De(ut){delete We.current[ut]}const Ne=reactExports.useMemo(()=>({imageResourcesPath:re,linkService:ct.current,onItemClick:ae,pdf:pt,registerPage:Re,renderMode:ye,rotate:Ae,unregisterPage:De}),[re,ae,pt,ye,Ae]),He=reactExports.useMemo(()=>makeEventProps(Be,()=>pt),[Be,pt]);function Ge(){return React$1.createElement(DocumentContext.Provider,{value:Ne},V)}function it(){return ie?pt==null?React$1.createElement(Message,{type:"loading"},typeof ne=="function"?ne():ne):pt===!1?React$1.createElement(Message,{type:"error"},typeof ee=="function"?ee():ee):Ge():React$1.createElement(Message,{type:"no-data"},typeof le=="function"?le():le)}return React$1.createElement("div",Object.assign({className:clsx("react-pdf__Document",Y),ref:K,style:{"--scale-factor":"1"}},He),it())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});const Document$1=Document;function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var C=[],T=0;T<arguments.length;T++)C[T]=arguments[T];var $=C.filter(Boolean);if($.length<=1){var V=$[0];return V||null}return function(ee){$.forEach(function(te){typeof te=="function"?te(ee):te&&(te.current=ee)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(C){return C in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(C){return"children"in C}function isStructTreeNodeWithOnlyContentChild(C){return isStructTreeNode(C)?C.children.length===1&&0 in C.children&&"id"in C.children[0]:!1}function getRoleAttributes(C){const T={};if(isStructTreeNode(C)){const{role:$}=C,V=$.match(HEADING_PATTERN);if(V)T.role="heading",T["aria-level"]=Number(V[1]);else if(isPdfRole($)){const Y=PDF_ROLE_TO_HTML_ROLE[$];Y&&(T.role=Y)}}return T}function getBaseAttributes(C){const T={};if(isStructTreeNode(C)){if(C.alt!==void 0&&(T["aria-label"]=C.alt),C.lang!==void 0&&(T.lang=C.lang),isStructTreeNodeWithOnlyContentChild(C)){const[$]=C.children;if($){const V=getBaseAttributes($);return Object.assign(Object.assign({},T),V)}}}else"id"in C&&(T["aria-owns"]=C.id);return T}function getAttributes$1(C){return C?Object.assign(Object.assign({},getRoleAttributes(C)),getBaseAttributes(C)):null}function StructTreeItem({className:C,node:T}){const $=reactExports.useMemo(()=>getAttributes$1(T),[T]),V=reactExports.useMemo(()=>!isStructTreeNode(T)||isStructTreeNodeWithOnlyContentChild(T)?null:T.children.map((Y,ee)=>React$1.createElement(StructTreeItem,{key:ee,node:Y})),[T]);return React$1.createElement("span",Object.assign({className:C},$),V)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const C=usePageContext();invariant(C,"Unable to find Page context.");const{onGetStructTreeError:T,onGetStructTreeSuccess:$}=C,[V,Y]=useResolver(),{value:ee,error:te}=V,{customTextRenderer:J,page:ie}=C;function K(){ee&&$&&$(ee)}function re(){te&&(te.toString(),T&&T(te))}function ne(){Y({type:"RESET"})}reactExports.useEffect(ne,[Y,ie]);function le(){if(J||!ie)return;const ae=makeCancellablePromise(ie.getStructTree()),se=ae;return ae.promise.then(ue=>{Y({type:"RESOLVE",value:ue})}).catch(ue=>{Y({type:"REJECT",error:ue})}),()=>cancelRunningTask(se)}return reactExports.useEffect(le,[J,ie,Y]),reactExports.useEffect(()=>{if(ee!==void 0){if(ee===!1){re();return}K()}},[ee]),ee?React$1.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:ee}):null}const ANNOTATION_MODE=pdfjs$1.AnnotationMode;function PageCanvas(C){const T=usePageContext();invariant(T,"Unable to find Page context.");const $=Object.assign(Object.assign({},T),C),{_className:V,canvasBackground:Y,devicePixelRatio:ee=getDevicePixelRatio(),onRenderError:te,onRenderSuccess:J,page:ie,renderForms:K,renderTextLayer:re,rotate:ne,scale:le}=$,{canvasRef:ae}=C;invariant(ie,"Attempted to render page canvas, but no page was specified.");const se=reactExports.useRef(null);function ue(){ie&&J&&J(makePageCallback(ie,le))}function de(ye){isCancelException(ye)||(ye.toString(),te&&te(ye))}const ce=reactExports.useMemo(()=>ie.getViewport({scale:le*ee,rotation:ne}),[ee,ie,ne,le]),be=reactExports.useMemo(()=>ie.getViewport({scale:le,rotation:ne}),[ie,ne,le]);function Le(){if(!ie)return;ie.cleanup();const{current:ye}=se;if(!ye)return;ye.width=ce.width,ye.height=ce.height,ye.style.width=`${Math.floor(be.width)}px`,ye.style.height=`${Math.floor(be.height)}px`,ye.style.visibility="hidden";const Ae={annotationMode:K?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:ye.getContext("2d",{alpha:!1}),viewport:ce};Y&&(Ae.background=Y);const Be=ie.render(Ae),qe=Be;return Be.promise.then(()=>{ye.style.visibility="",ue()}).catch(de),()=>cancelRunningTask(qe)}reactExports.useEffect(Le,[Y,se,ee,ie,K,ce,be]);const ve=reactExports.useCallback(()=>{const{current:ye}=se;ye&&(ye.width=0,ye.height=0)},[se]);return reactExports.useEffect(()=>ve,[ve]),React$1.createElement("canvas",{className:`${V}__canvas`,dir:"ltr",ref:mergeRefs(ae,se),style:{display:"block",userSelect:"none"}},re?React$1.createElement(StructTree,null):null)}function PageSVG(){const C=usePageContext();invariant(C,"Unable to find Page context.");const{_className:T,onRenderSuccess:$,onRenderError:V,page:Y,rotate:ee,scale:te}=C;invariant(Y,"Attempted to render page SVG, but no page was specified.");const[J,ie]=useResolver(),{value:K,error:re}=J;function ne(){Y&&$&&$(makePageCallback(Y,te))}function le(){re&&(isCancelException(re)||(re.toString(),V&&V(re)))}const ae=reactExports.useMemo(()=>Y.getViewport({scale:te,rotation:ee}),[Y,ee,te]);function se(){ie({type:"RESET"})}reactExports.useEffect(se,[Y,ie,ae]);function ue(){if(!Y)return;const Le=makeCancellablePromise(Y.getOperatorList());return Le.promise.then(ve=>{new pdfjs$1.SVGGraphics(Y.commonObjs,Y.objs).getSVG(ve,ae).then(Ae=>{if(!(Ae instanceof SVGElement))throw new Error("getSVG returned unexpected result.");ie({type:"RESOLVE",value:Ae})}).catch(Ae=>{ie({type:"REJECT",error:Ae})})}).catch(ve=>{ie({type:"REJECT",error:ve})}),()=>cancelRunningTask(Le)}reactExports.useEffect(ue,[Y,ie,ae]),reactExports.useEffect(()=>{if(K!==void 0){if(K===!1){le();return}ne()}},[K]);function de(Le){if(!Le||!K)return;Le.firstElementChild||Le.appendChild(K);const{width:ve,height:ye}=ae;K.setAttribute("width",`${ve}`),K.setAttribute("height",`${ye}`)}const{width:ce,height:be}=ae;return React$1.createElement("div",{className:`${T}__svg`,ref:Le=>de(Le),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:ce,height:be,userSelect:"none"}})}function isTextItem(C){return"str"in C}function TextLayer$1(){const C=usePageContext();invariant(C,"Unable to find Page context.");const{customTextRenderer:T,onGetTextError:$,onGetTextSuccess:V,onRenderTextLayerError:Y,onRenderTextLayerSuccess:ee,page:te,pageIndex:J,pageNumber:ie,rotate:K,scale:re}=C;invariant(te,"Attempted to load page text content, but no page was specified.");const[ne,le]=useResolver(),{value:ae,error:se}=ne,ue=reactExports.useRef(null),de=reactExports.useRef();parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10);function ce(){ae&&V&&V(ae)}function be(){se&&(se.toString(),$&&$(se))}function Le(){le({type:"RESET"})}reactExports.useEffect(Le,[te,le]);function ve(){if(!te)return;const Je=makeCancellablePromise(te.getTextContent()),mt=Je;return Je.promise.then(ht=>{le({type:"RESOLVE",value:ht})}).catch(ht=>{le({type:"REJECT",error:ht})}),()=>cancelRunningTask(mt)}reactExports.useEffect(ve,[te,le]),reactExports.useEffect(()=>{if(ae!==void 0){if(ae===!1){be();return}ce()}},[ae]);const ye=reactExports.useCallback(()=>{ee&&ee()},[ee]),Ae=reactExports.useCallback(Je=>{Je.toString(),Y&&Y(Je)},[Y]);function Be(){const Je=de.current;Je&&Je.classList.add("active")}function qe(){const Je=de.current;Je&&Je.classList.remove("active")}const Ue=reactExports.useMemo(()=>te.getViewport({scale:re,rotation:K}),[te,K,re]);function Ke(){if(!te||!ae)return;const{current:Je}=ue;if(!Je)return;Je.innerHTML="";const mt=te.streamTextContent({includeMarkedContent:!0}),ht={container:Je,textContentSource:mt,viewport:Ue},pt=pdfjs$1.renderTextLayer(ht),bt=pt;return pt.promise.then(()=>{const ct=document.createElement("div");ct.className="endOfContent",Je.append(ct),de.current=ct;const We=Je.querySelectorAll('[role="presentation"]');if(T){let Pe=0;ae.items.forEach((_e,xe)=>{if(!isTextItem(_e))return;const ge=We[Pe];if(!ge)return;const ke=T(Object.assign({pageIndex:J,pageNumber:ie,itemIndex:xe},_e));ge.innerHTML=ke,Pe+=_e.str&&_e.hasEOL?2:1})}ye()}).catch(Ae),()=>cancelRunningTask(bt)}return reactExports.useLayoutEffect(Ke,[T,Ae,ye,te,J,ie,ae,Ue]),React$1.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:qe,onMouseDown:Be,ref:ue})}function AnnotationLayer$1(){const C=useDocumentContext();invariant(C,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const T=usePageContext();invariant(T,"Unable to find Page context.");const $=Object.assign(Object.assign({},C),T),{imageResourcesPath:V,linkService:Y,onGetAnnotationsError:ee,onGetAnnotationsSuccess:te,onRenderAnnotationLayerError:J,onRenderAnnotationLayerSuccess:ie,page:K,pdf:re,renderForms:ne,rotate:le,scale:ae=1}=$;invariant(K,"Attempted to load page annotations, but no page was specified.");const[se,ue]=useResolver(),{value:de,error:ce}=se,be=reactExports.useRef(null);parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10);function Le(){de&&te&&te(de)}function ve(){ce&&(ce.toString(),ee&&ee(ce))}function ye(){ue({type:"RESET"})}reactExports.useEffect(ye,[ue,K]);function Ae(){if(!K)return;const Je=makeCancellablePromise(K.getAnnotations()),mt=Je;return Je.promise.then(ht=>{ue({type:"RESOLVE",value:ht})}).catch(ht=>{ue({type:"REJECT",error:ht})}),()=>{cancelRunningTask(mt)}}reactExports.useEffect(Ae,[ue,K,ne]),reactExports.useEffect(()=>{if(de!==void 0){if(de===!1){ve();return}Le()}},[de]);function Be(){ie&&ie()}function qe(Je){J&&J(Je)}const Ue=reactExports.useMemo(()=>K.getViewport({scale:ae,rotation:le}),[K,le,ae]);function Ke(){if(!re||!K||!de)return;const{current:Je}=be;if(!Je)return;const mt=Ue.clone({dontFlip:!0}),ht={accessibilityManager:null,annotationCanvasMap:null,div:Je,l10n:null,page:K,viewport:mt},pt={annotations:de,annotationStorage:re.annotationStorage,div:Je,downloadManager:null,imageResourcesPath:V,linkService:Y,page:K,renderForms:ne,viewport:mt};Je.innerHTML="";try{new pdfjs$1.AnnotationLayer(ht).render(pt),Be()}catch(bt){qe(bt)}return()=>{}}return reactExports.useEffect(Ke,[de,V,Y,K,ne,Ue]),React$1.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:be})}var __rest=globalThis&&globalThis.__rest||function(C,T){var $={};for(var V in C)Object.prototype.hasOwnProperty.call(C,V)&&T.indexOf(V)<0&&($[V]=C[V]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Y=0,V=Object.getOwnPropertySymbols(C);Y<V.length;Y++)T.indexOf(V[Y])<0&&Object.prototype.propertyIsEnumerable.call(C,V[Y])&&($[V[Y]]=C[V[Y]]);return $};const defaultScale=1,Page=function C(T){const $=useDocumentContext();invariant($,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const V=Object.assign(Object.assign({},$),T),{_className:Y="react-pdf__Page",_enableRegisterUnregisterPage:ee=!0,canvasBackground:te,canvasRef:J,children:ie,className:K,customRenderer:re,customTextRenderer:ne,devicePixelRatio:le,error:ae="Failed to load the page.",height:se,inputRef:ue,loading:de="Loading page",noData:ce="No page specified.",onGetAnnotationsError:be,onGetAnnotationsSuccess:Le,onGetStructTreeError:ve,onGetStructTreeSuccess:ye,onGetTextError:Ae,onGetTextSuccess:Be,onLoadError:qe,onLoadSuccess:Ue,onRenderAnnotationLayerError:Ke,onRenderAnnotationLayerSuccess:Je,onRenderError:mt,onRenderSuccess:ht,onRenderTextLayerError:pt,onRenderTextLayerSuccess:bt,pageIndex:ct,pageNumber:We,pdf:Pe,registerPage:_e,renderAnnotationLayer:xe=!0,renderForms:ge=!1,renderMode:ke="canvas",renderTextLayer:Ee=!0,rotate:Me,scale:Oe=defaultScale,unregisterPage:pe,width:Ce}=V,Re=__rest(V,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[De,Ne]=useResolver(),{value:He,error:Ge}=De,it=reactExports.useRef(null);invariant(Pe,"Attempted to load a page, but no document was specified.");const ut=isProvided(We)?We-1:ct??null,tt=We??(isProvided(ct)?ct+1:null),lt=Me??(He?He.rotate:null),ot=reactExports.useMemo(()=>{if(!He)return null;let dr=1;const Sr=Oe??defaultScale;if(Ce||se){const _t=He.getViewport({scale:1,rotation:lt});Ce?dr=Ce/_t.width:se&&(dr=se/_t.height)}return Sr*dr},[se,He,lt,Oe,Ce]);function dt(){return()=>{isProvided(ut)&&ee&&pe&&pe(ut)}}reactExports.useEffect(dt,[ee,Pe,ut,pe]);function vt(){if(Ue){if(!He||!ot)return;Ue(makePageCallback(He,ot))}if(ee&&_e){if(!isProvided(ut)||!it.current)return;_e(ut,it.current)}}function St(){Ge&&(Ge.toString(),qe&&qe(Ge))}function Tt(){Ne({type:"RESET"})}reactExports.useEffect(Tt,[Ne,Pe,ut]);function $t(){if(!Pe||!tt)return;const dr=makeCancellablePromise(Pe.getPage(tt)),Sr=dr;return dr.promise.then(_t=>{Ne({type:"RESOLVE",value:_t})}).catch(_t=>{Ne({type:"REJECT",error:_t})}),()=>cancelRunningTask(Sr)}reactExports.useEffect($t,[Ne,Pe,ut,tt,_e]),reactExports.useEffect(()=>{if(He!==void 0){if(He===!1){St();return}vt()}},[He,ot]);const It=reactExports.useMemo(()=>He&&isProvided(ut)&&tt&&isProvided(lt)&&isProvided(ot)?{_className:Y,canvasBackground:te,customTextRenderer:ne,devicePixelRatio:le,onGetAnnotationsError:be,onGetAnnotationsSuccess:Le,onGetStructTreeError:ve,onGetStructTreeSuccess:ye,onGetTextError:Ae,onGetTextSuccess:Be,onRenderAnnotationLayerError:Ke,onRenderAnnotationLayerSuccess:Je,onRenderError:mt,onRenderSuccess:ht,onRenderTextLayerError:pt,onRenderTextLayerSuccess:bt,page:He,pageIndex:ut,pageNumber:tt,renderForms:ge,renderTextLayer:Ee,rotate:lt,scale:ot}:null,[Y,te,ne,le,be,Le,ve,ye,Ae,Be,Ke,Je,mt,ht,pt,bt,He,ut,tt,ge,Ee,lt,ot]),qt=reactExports.useMemo(()=>makeEventProps(Re,()=>He&&(ot?makePageCallback(He,ot):void 0)),[Re,He,ot]),Vt=`${ut}@${ot}/${lt}`,ar=`${ut}/${lt}`;function sr(){switch(ke){case"custom":return invariant(re,'renderMode was set to "custom", but no customRenderer was passed.'),React$1.createElement(re,{key:`${Vt}_custom`});case"none":return null;case"svg":return React$1.createElement(PageSVG,{key:`${ar}_svg`});case"canvas":default:return React$1.createElement(PageCanvas,{key:`${Vt}_canvas`,canvasRef:J})}}function fr(){return Ee?React$1.createElement(TextLayer$1,{key:`${Vt}_text`}):null}function nr(){return xe?React$1.createElement(AnnotationLayer$1,{key:`${Vt}_annotations`}):null}function lr(){return React$1.createElement(PageContext.Provider,{value:It},sr(),fr(),nr(),ie)}function cr(){return tt?Pe===null||He===void 0||He===null?React$1.createElement(Message,{type:"loading"},typeof de=="function"?de():de):Pe===!1||He===!1?React$1.createElement(Message,{type:"error"},typeof ae=="function"?ae():ae):lr():React$1.createElement(Message,{type:"no-data"},typeof ce=="function"?ce():ce)}return React$1.createElement("div",Object.assign({className:clsx(Y,K),"data-page-number":tt,ref:mergeRefs(ue,it),style:{"--scale-factor":`${ot}`,backgroundColor:te||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},qt),cr())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});const Page$1=Page;displayWorkerWarning();pdfjs$1.GlobalWorkerOptions.workerSrc="pdf.worker.js";const AnnotationLayer="",TextLayer="";function n(C){for(var T=arguments.length,$=Array(T>1?T-1:0),V=1;V<T;V++)$[V-1]=arguments[V];throw Error("[Immer] minified error nr: "+C+($.length?" "+$.map(function(Y){return"'"+Y+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(C){return!!C&&!!C[Q]}function t(C){var T;return!!C&&(function($){if(!$||typeof $!="object")return!1;var V=Object.getPrototypeOf($);if(V===null)return!0;var Y=Object.hasOwnProperty.call(V,"constructor")&&V.constructor;return Y===Object||typeof Y=="function"&&Function.toString.call(Y)===Z}(C)||Array.isArray(C)||!!C[L]||!!(!((T=C.constructor)===null||T===void 0)&&T[L])||s(C)||v(C))}function i$1(C,T,$){$===void 0&&($=!1),o(C)===0?($?Object.keys:nn)(C).forEach(function(V){$&&typeof V=="symbol"||T(V,C[V],C)}):C.forEach(function(V,Y){return T(Y,V,C)})}function o(C){var T=C[Q];return T?T.i>3?T.i-4:T.i:Array.isArray(C)?1:s(C)?2:v(C)?3:0}function u(C,T){return o(C)===2?C.has(T):Object.prototype.hasOwnProperty.call(C,T)}function a(C,T){return o(C)===2?C.get(T):C[T]}function f(C,T,$){var V=o(C);V===2?C.set(T,$):V===3?C.add($):C[T]=$}function c(C,T){return C===T?C!==0||1/C==1/T:C!=C&&T!=T}function s(C){return X&&C instanceof Map}function v(C){return q&&C instanceof Set}function p(C){return C.o||C.t}function l(C){if(Array.isArray(C))return Array.prototype.slice.call(C);var T=rn(C);delete T[Q];for(var $=nn(T),V=0;V<$.length;V++){var Y=$[V],ee=T[Y];ee.writable===!1&&(ee.writable=!0,ee.configurable=!0),(ee.get||ee.set)&&(T[Y]={configurable:!0,writable:!0,enumerable:ee.enumerable,value:C[Y]})}return Object.create(Object.getPrototypeOf(C),T)}function d(C,T){return T===void 0&&(T=!1),y(C)||r(C)||!t(C)||(o(C)>1&&(C.set=C.add=C.clear=C.delete=h),Object.freeze(C),T&&i$1(C,function($,V){return d(V,!0)},!0)),C}function h(){n(2)}function y(C){return C==null||typeof C!="object"||Object.isFrozen(C)}function b(C){var T=tn[C];return T||n(18,C),T}function m(C,T){tn[C]||(tn[C]=T)}function _$1(){return U}function j(C,T){T&&(b("Patches"),C.u=[],C.s=[],C.v=T)}function g(C){O(C),C.p.forEach(S),C.p=null}function O(C){C===U&&(U=C.l)}function w(C){return U={p:[],l:U,h:C,m:!0,_:0}}function S(C){var T=C[Q];T.i===0||T.i===1?T.j():T.g=!0}function P(C,T){T._=T.p.length;var $=T.p[0],V=C!==void 0&&C!==$;return T.h.O||b("ES5").S(T,C,V),V?($[Q].P&&(g(T),n(4)),t(C)&&(C=M(T,C),T.l||x(T,C)),T.u&&b("Patches").M($[Q].t,C,T.u,T.s)):C=M(T,$,[]),g(T),T.u&&T.v(T.u,T.s),C!==H?C:void 0}function M(C,T,$){if(y(T))return T;var V=T[Q];if(!V)return i$1(T,function(J,ie){return A(C,V,T,J,ie,$)},!0),T;if(V.A!==C)return T;if(!V.P)return x(C,V.t,!0),V.t;if(!V.I){V.I=!0,V.A._--;var Y=V.i===4||V.i===5?V.o=l(V.k):V.o,ee=Y,te=!1;V.i===3&&(ee=new Set(Y),Y.clear(),te=!0),i$1(ee,function(J,ie){return A(C,V,Y,J,ie,$,te)}),x(C,Y,!1),$&&C.u&&b("Patches").N(V,$,C.u,C.s)}return V.o}function A(C,T,$,V,Y,ee,te){if(r(Y)){var J=M(C,Y,ee&&T&&T.i!==3&&!u(T.R,V)?ee.concat(V):void 0);if(f($,V,J),!r(J))return;C.m=!1}else te&&$.add(Y);if(t(Y)&&!y(Y)){if(!C.h.D&&C._<1)return;M(C,Y),T&&T.A.l||x(C,Y)}}function x(C,T,$){$===void 0&&($=!1),!C.l&&C.h.D&&C.m&&d(T,$)}function z(C,T){var $=C[Q];return($?p($):C)[T]}function I(C,T){if(T in C)for(var $=Object.getPrototypeOf(C);$;){var V=Object.getOwnPropertyDescriptor($,T);if(V)return V;$=Object.getPrototypeOf($)}}function k(C){C.P||(C.P=!0,C.l&&k(C.l))}function E(C){C.o||(C.o=l(C.t))}function N(C,T,$){var V=s(T)?b("MapSet").F(T,$):v(T)?b("MapSet").T(T,$):C.O?function(Y,ee){var te=Array.isArray(Y),J={i:te?1:0,A:ee?ee.A:_$1(),P:!1,I:!1,R:{},l:ee,t:Y,k:null,o:null,j:null,C:!1},ie=J,K=en;te&&(ie=[J],K=on$1);var re=Proxy.revocable(ie,K),ne=re.revoke,le=re.proxy;return J.k=le,J.j=ne,le}(T,$):b("ES5").J(T,$);return($?$.A:_$1()).p.push(V),V}function R(C){return r(C)||n(22,C),function T($){if(!t($))return $;var V,Y=$[Q],ee=o($);if(Y){if(!Y.P&&(Y.i<4||!b("ES5").K(Y)))return Y.t;Y.I=!0,V=D($,ee),Y.I=!1}else V=D($,ee);return i$1(V,function(te,J){Y&&a(Y.t,te)===J||f(V,te,T(J))}),ee===3?new Set(V):V}(C)}function D(C,T){switch(T){case 2:return new Map(C);case 3:return Array.from(C)}return l(C)}function F(){function C(ee,te){var J=Y[ee];return J?J.enumerable=te:Y[ee]=J={configurable:!0,enumerable:te,get:function(){var ie=this[Q];return en.get(ie,ee)},set:function(ie){var K=this[Q];en.set(K,ee,ie)}},J}function T(ee){for(var te=ee.length-1;te>=0;te--){var J=ee[te][Q];if(!J.P)switch(J.i){case 5:V(J)&&k(J);break;case 4:$(J)&&k(J)}}}function $(ee){for(var te=ee.t,J=ee.k,ie=nn(J),K=ie.length-1;K>=0;K--){var re=ie[K];if(re!==Q){var ne=te[re];if(ne===void 0&&!u(te,re))return!0;var le=J[re],ae=le&&le[Q];if(ae?ae.t!==ne:!c(le,ne))return!0}}var se=!!te[Q];return ie.length!==nn(te).length+(se?0:1)}function V(ee){var te=ee.k;if(te.length!==ee.t.length)return!0;var J=Object.getOwnPropertyDescriptor(te,te.length-1);if(J&&!J.get)return!0;for(var ie=0;ie<te.length;ie++)if(!te.hasOwnProperty(ie))return!0;return!1}var Y={};m("ES5",{J:function(ee,te){var J=Array.isArray(ee),ie=function(re,ne){if(re){for(var le=Array(ne.length),ae=0;ae<ne.length;ae++)Object.defineProperty(le,""+ae,C(ae,!0));return le}var se=rn(ne);delete se[Q];for(var ue=nn(se),de=0;de<ue.length;de++){var ce=ue[de];se[ce]=C(ce,re||!!se[ce].enumerable)}return Object.create(Object.getPrototypeOf(ne),se)}(J,ee),K={i:J?5:4,A:te?te.A:_$1(),P:!1,I:!1,R:{},l:te,t:ee,k:ie,o:null,g:!1,C:!1};return Object.defineProperty(ie,Q,{value:K,writable:!0}),ie},S:function(ee,te,J){J?r(te)&&te[Q].A===ee&&T(ee.p):(ee.u&&function ie(K){if(K&&typeof K=="object"){var re=K[Q];if(re){var ne=re.t,le=re.k,ae=re.R,se=re.i;if(se===4)i$1(le,function(Le){Le!==Q&&(ne[Le]!==void 0||u(ne,Le)?ae[Le]||ie(le[Le]):(ae[Le]=!0,k(re)))}),i$1(ne,function(Le){le[Le]!==void 0||u(le,Le)||(ae[Le]=!1,k(re))});else if(se===5){if(V(re)&&(k(re),ae.length=!0),le.length<ne.length)for(var ue=le.length;ue<ne.length;ue++)ae[ue]=!1;else for(var de=ne.length;de<le.length;de++)ae[de]=!0;for(var ce=Math.min(le.length,ne.length),be=0;be<ce;be++)le.hasOwnProperty(be)||(ae[be]=!0),ae[be]===void 0&&ie(le[be])}}}}(ee.p[0]),T(ee.p))},K:function(ee){return ee.i===4?$(ee):V(ee)}})}var G,U,W=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X=typeof Map<"u",q=typeof Set<"u",B=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Z=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(C){var T={};return nn(C).forEach(function($){T[$]=Object.getOwnPropertyDescriptor(C,$)}),T},tn={},en={get:function(C,T){if(T===Q)return C;var $=p(C);if(!u($,T))return function(Y,ee,te){var J,ie=I(ee,te);return ie?"value"in ie?ie.value:(J=ie.get)===null||J===void 0?void 0:J.call(Y.k):void 0}(C,$,T);var V=$[T];return C.I||!t(V)?V:V===z(C.t,T)?(E(C),C.o[T]=N(C.A.h,V,C)):V},has:function(C,T){return T in p(C)},ownKeys:function(C){return Reflect.ownKeys(p(C))},set:function(C,T,$){var V=I(p(C),T);if(V?.set)return V.set.call(C.k,$),!0;if(!C.P){var Y=z(p(C),T),ee=Y?.[Q];if(ee&&ee.t===$)return C.o[T]=$,C.R[T]=!1,!0;if(c($,Y)&&($!==void 0||u(C.t,T)))return!0;E(C),k(C)}return C.o[T]===$&&($!==void 0||T in C.o)||Number.isNaN($)&&Number.isNaN(C.o[T])||(C.o[T]=$,C.R[T]=!0),!0},deleteProperty:function(C,T){return z(C.t,T)!==void 0||T in C.t?(C.R[T]=!1,E(C),k(C)):delete C.R[T],C.o&&delete C.o[T],!0},getOwnPropertyDescriptor:function(C,T){var $=p(C),V=Reflect.getOwnPropertyDescriptor($,T);return V&&{writable:!0,configurable:C.i!==1||T!=="length",enumerable:V.enumerable,value:$[T]}},defineProperty:function(){n(11)},getPrototypeOf:function(C){return Object.getPrototypeOf(C.t)},setPrototypeOf:function(){n(12)}},on$1={};i$1(en,function(C,T){on$1[C]=function(){return arguments[0]=arguments[0][0],T.apply(this,arguments)}}),on$1.deleteProperty=function(C,T){return on$1.set.call(this,C,T,void 0)},on$1.set=function(C,T,$){return en.set.call(this,C[0],T,$,C[0])};var un=function(){function C($){var V=this;this.O=B,this.D=!0,this.produce=function(Y,ee,te){if(typeof Y=="function"&&typeof ee!="function"){var J=ee;ee=Y;var ie=V;return function(ue){var de=this;ue===void 0&&(ue=J);for(var ce=arguments.length,be=Array(ce>1?ce-1:0),Le=1;Le<ce;Le++)be[Le-1]=arguments[Le];return ie.produce(ue,function(ve){var ye;return(ye=ee).call.apply(ye,[de,ve].concat(be))})}}var K;if(typeof ee!="function"&&n(6),te!==void 0&&typeof te!="function"&&n(7),t(Y)){var re=w(V),ne=N(V,Y,void 0),le=!0;try{K=ee(ne),le=!1}finally{le?g(re):O(re)}return typeof Promise<"u"&&K instanceof Promise?K.then(function(ue){return j(re,te),P(ue,re)},function(ue){throw g(re),ue}):(j(re,te),P(K,re))}if(!Y||typeof Y!="object"){if((K=ee(Y))===void 0&&(K=Y),K===H&&(K=void 0),V.D&&d(K,!0),te){var ae=[],se=[];b("Patches").M(Y,K,ae,se),te(ae,se)}return K}n(21,Y)},this.produceWithPatches=function(Y,ee){if(typeof Y=="function")return function(K){for(var re=arguments.length,ne=Array(re>1?re-1:0),le=1;le<re;le++)ne[le-1]=arguments[le];return V.produceWithPatches(K,function(ae){return Y.apply(void 0,[ae].concat(ne))})};var te,J,ie=V.produce(Y,ee,function(K,re){te=K,J=re});return typeof Promise<"u"&&ie instanceof Promise?ie.then(function(K){return[K,te,J]}):[ie,te,J]},typeof $?.useProxies=="boolean"&&this.setUseProxies($.useProxies),typeof $?.autoFreeze=="boolean"&&this.setAutoFreeze($.autoFreeze)}var T=C.prototype;return T.createDraft=function($){t($)||n(8),r($)&&($=R($));var V=w(this),Y=N(this,$,void 0);return Y[Q].C=!0,O(V),Y},T.finishDraft=function($,V){var Y=$&&$[Q],ee=Y.A;return j(ee,V),P(void 0,ee)},T.setAutoFreeze=function($){this.D=$},T.setUseProxies=function($){$&&!B&&n(20),this.O=$},T.applyPatches=function($,V){var Y;for(Y=V.length-1;Y>=0;Y--){var ee=V[Y];if(ee.path.length===0&&ee.op==="replace"){$=ee.value;break}}Y>-1&&(V=V.slice(Y+1));var te=b("Patches").$;return r($)?te($,V):this.produce($,function(J){return te(J,V)})},C}(),an=new un,fn$1=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);function formatProdErrorMessage(C){return"Minified Redux error #"+C+"; visit https://redux.js.org/Errors?code="+C+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function C(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function C(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$3(C){if(typeof C!="object"||C===null)return!1;for(var T=C;Object.getPrototypeOf(T)!==null;)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(C)===T}function createStore(C,T,$){var V;if(typeof T=="function"&&typeof $=="function"||typeof $=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof T=="function"&&typeof $>"u"&&($=T,T=void 0),typeof $<"u"){if(typeof $!="function")throw new Error(formatProdErrorMessage(1));return $(createStore)(C,T)}if(typeof C!="function")throw new Error(formatProdErrorMessage(2));var Y=C,ee=T,te=[],J=te,ie=!1;function K(){J===te&&(J=te.slice())}function re(){if(ie)throw new Error(formatProdErrorMessage(3));return ee}function ne(ue){if(typeof ue!="function")throw new Error(formatProdErrorMessage(4));if(ie)throw new Error(formatProdErrorMessage(5));var de=!0;return K(),J.push(ue),function(){if(de){if(ie)throw new Error(formatProdErrorMessage(6));de=!1,K();var be=J.indexOf(ue);J.splice(be,1),te=null}}}function le(ue){if(!isPlainObject$3(ue))throw new Error(formatProdErrorMessage(7));if(typeof ue.type>"u")throw new Error(formatProdErrorMessage(8));if(ie)throw new Error(formatProdErrorMessage(9));try{ie=!0,ee=Y(ee,ue)}finally{ie=!1}for(var de=te=J,ce=0;ce<de.length;ce++){var be=de[ce];be()}return ue}function ae(ue){if(typeof ue!="function")throw new Error(formatProdErrorMessage(10));Y=ue,le({type:ActionTypes.REPLACE})}function se(){var ue,de=ne;return ue={subscribe:function(be){if(typeof be!="object"||be===null)throw new Error(formatProdErrorMessage(11));function Le(){be.next&&be.next(re())}Le();var ve=de(Le);return{unsubscribe:ve}}},ue[$$observable]=function(){return this},ue}return le({type:ActionTypes.INIT}),V={dispatch:le,subscribe:ne,getState:re,replaceReducer:ae},V[$$observable]=se,V}function assertReducerShape(C){Object.keys(C).forEach(function(T){var $=C[T],V=$(void 0,{type:ActionTypes.INIT});if(typeof V>"u")throw new Error(formatProdErrorMessage(12));if(typeof $(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage(13))})}function combineReducers(C){for(var T=Object.keys(C),$={},V=0;V<T.length;V++){var Y=T[V];typeof C[Y]=="function"&&($[Y]=C[Y])}var ee=Object.keys($),te;try{assertReducerShape($)}catch(J){te=J}return function(ie,K){if(ie===void 0&&(ie={}),te)throw te;for(var re=!1,ne={},le=0;le<ee.length;le++){var ae=ee[le],se=$[ae],ue=ie[ae],de=se(ue,K);if(typeof de>"u")throw K&&K.type,new Error(formatProdErrorMessage(14));ne[ae]=de,re=re||de!==ue}return re=re||ee.length!==Object.keys(ie).length,re?ne:ie}}function compose(){for(var C=arguments.length,T=new Array(C),$=0;$<C;$++)T[$]=arguments[$];return T.length===0?function(V){return V}:T.length===1?T[0]:T.reduce(function(V,Y){return function(){return V(Y.apply(void 0,arguments))}})}function applyMiddleware(){for(var C=arguments.length,T=new Array(C),$=0;$<C;$++)T[$]=arguments[$];return function(V){return function(){var Y=V.apply(void 0,arguments),ee=function(){throw new Error(formatProdErrorMessage(15))},te={getState:Y.getState,dispatch:function(){return ee.apply(void 0,arguments)}},J=T.map(function(ie){return ie(te)});return ee=compose.apply(void 0,J)(Y.dispatch),_objectSpread2(_objectSpread2({},Y),{},{dispatch:ee})}}}function createThunkMiddleware(C){var T=function(V){var Y=V.dispatch,ee=V.getState;return function(te){return function(J){return typeof J=="function"?J(Y,ee,C):te(J)}}};return T}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;const thunkMiddleware=thunk;var __extends=globalThis&&globalThis.__extends||function(){var C=function(T,$){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,Y){V.__proto__=Y}||function(V,Y){for(var ee in Y)Object.prototype.hasOwnProperty.call(Y,ee)&&(V[ee]=Y[ee])},C(T,$)};return function(T,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");C(T,$);function V(){this.constructor=T}T.prototype=$===null?Object.create($):(V.prototype=$.prototype,new V)}}(),__generator=globalThis&&globalThis.__generator||function(C,T){var $={label:0,sent:function(){if(ee[0]&1)throw ee[1];return ee[1]},trys:[],ops:[]},V,Y,ee,te;return te={next:J(0),throw:J(1),return:J(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function J(K){return function(re){return ie([K,re])}}function ie(K){if(V)throw new TypeError("Generator is already executing.");for(;$;)try{if(V=1,Y&&(ee=K[0]&2?Y.return:K[0]?Y.throw||((ee=Y.return)&&ee.call(Y),0):Y.next)&&!(ee=ee.call(Y,K[1])).done)return ee;switch(Y=0,ee&&(K=[K[0]&2,ee.value]),K[0]){case 0:case 1:ee=K;break;case 4:return $.label++,{value:K[1],done:!1};case 5:$.label++,Y=K[1],K=[0];continue;case 7:K=$.ops.pop(),$.trys.pop();continue;default:if(ee=$.trys,!(ee=ee.length>0&&ee[ee.length-1])&&(K[0]===6||K[0]===2)){$=0;continue}if(K[0]===3&&(!ee||K[1]>ee[0]&&K[1]<ee[3])){$.label=K[1];break}if(K[0]===6&&$.label<ee[1]){$.label=ee[1],ee=K;break}if(ee&&$.label<ee[2]){$.label=ee[2],$.ops.push(K);break}ee[2]&&$.ops.pop(),$.trys.pop();continue}K=T.call(C,$)}catch(re){K=[6,re],Y=0}finally{V=ee=0}if(K[0]&5)throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}},__spreadArray=globalThis&&globalThis.__spreadArray||function(C,T){for(var $=0,V=T.length,Y=C.length;$<V;$++,Y++)C[Y]=T[$];return C},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function(C,T,$){return T in C?__defProp(C,T,{enumerable:!0,configurable:!0,writable:!0,value:$}):C[T]=$},__spreadValues=function(C,T){for(var $ in T||(T={}))__hasOwnProp.call(T,$)&&__defNormalProp(C,$,T[$]);if(__getOwnPropSymbols)for(var V=0,Y=__getOwnPropSymbols(T);V<Y.length;V++){var $=Y[V];__propIsEnum.call(T,$)&&__defNormalProp(C,$,T[$])}return C},__spreadProps=function(C,T){return __defProps(C,__getOwnPropDescs(T))},__async=function(C,T,$){return new Promise(function(V,Y){var ee=function(ie){try{J($.next(ie))}catch(K){Y(K)}},te=function(ie){try{J($.throw(ie))}catch(K){Y(K)}},J=function(ie){return ie.done?V(ie.value):Promise.resolve(ie.value).then(ee,te)};J(($=$.apply(C,T)).next())})},composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function isPlainObject$2(C){if(typeof C!="object"||C===null)return!1;var T=Object.getPrototypeOf(C);if(T===null)return!0;for(var $=T;Object.getPrototypeOf($)!==null;)$=Object.getPrototypeOf($);return T===$}function createAction(C,T){function $(){for(var V=[],Y=0;Y<arguments.length;Y++)V[Y]=arguments[Y];if(T){var ee=T.apply(void 0,V);if(!ee)throw new Error("prepareAction did not return an object");return __spreadValues(__spreadValues({type:C,payload:ee.payload},"meta"in ee&&{meta:ee.meta}),"error"in ee&&{error:ee.error})}return{type:C,payload:V[0]}}return $.toString=function(){return""+C},$.type=C,$.match=function(V){return V.type===C},$}var MiddlewareArray=function(C){__extends(T,C);function T(){for(var $=[],V=0;V<arguments.length;V++)$[V]=arguments[V];var Y=C.apply(this,$)||this;return Object.setPrototypeOf(Y,T.prototype),Y}return Object.defineProperty(T,Symbol.species,{get:function(){return T},enumerable:!1,configurable:!0}),T.prototype.concat=function(){for(var $=[],V=0;V<arguments.length;V++)$[V]=arguments[V];return C.prototype.concat.apply(this,$)},T.prototype.prepend=function(){for(var $=[],V=0;V<arguments.length;V++)$[V]=arguments[V];return $.length===1&&Array.isArray($[0])?new(T.bind.apply(T,__spreadArray([void 0],$[0].concat(this)))):new(T.bind.apply(T,__spreadArray([void 0],$.concat(this))))},T}(Array),EnhancerArray=function(C){__extends(T,C);function T(){for(var $=[],V=0;V<arguments.length;V++)$[V]=arguments[V];var Y=C.apply(this,$)||this;return Object.setPrototypeOf(Y,T.prototype),Y}return Object.defineProperty(T,Symbol.species,{get:function(){return T},enumerable:!1,configurable:!0}),T.prototype.concat=function(){for(var $=[],V=0;V<arguments.length;V++)$[V]=arguments[V];return C.prototype.concat.apply(this,$)},T.prototype.prepend=function(){for(var $=[],V=0;V<arguments.length;V++)$[V]=arguments[V];return $.length===1&&Array.isArray($[0])?new(T.bind.apply(T,__spreadArray([void 0],$[0].concat(this)))):new(T.bind.apply(T,__spreadArray([void 0],$.concat(this))))},T}(Array);function freezeDraftable(C){return t(C)?fn$1(C,function(){}):C}function isBoolean$2(C){return typeof C=="boolean"}function curryGetDefaultMiddleware(){return function(T){return getDefaultMiddleware(T)}}function getDefaultMiddleware(C){C===void 0&&(C={});var T=C.thunk,$=T===void 0?!0:T;C.immutableCheck,C.serializableCheck,C.actionCreatorCheck;var V=new MiddlewareArray;return $&&(isBoolean$2($)?V.push(thunkMiddleware):V.push(thunkMiddleware.withExtraArgument($.extraArgument))),V}var IS_PRODUCTION=!0;function configureStore(C){var T=curryGetDefaultMiddleware(),$=C||{},V=$.reducer,Y=V===void 0?void 0:V,ee=$.middleware,te=ee===void 0?T():ee,J=$.devTools,ie=J===void 0?!0:J,K=$.preloadedState,re=K===void 0?void 0:K,ne=$.enhancers,le=ne===void 0?void 0:ne,ae;if(typeof Y=="function")ae=Y;else if(isPlainObject$2(Y))ae=combineReducers(Y);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var se=te;typeof se=="function"&&(se=se(T));var ue=applyMiddleware.apply(void 0,se),de=compose;ie&&(de=composeWithDevTools(__spreadValues({trace:!IS_PRODUCTION},typeof ie=="object"&&ie)));var ce=new EnhancerArray(ue),be=ce;Array.isArray(le)?be=__spreadArray([ue],le):typeof le=="function"&&(be=le(ce));var Le=de.apply(void 0,be);return createStore(ae,re,Le)}function executeReducerBuilderCallback(C){var T={},$=[],V,Y={addCase:function(ee,te){var J=typeof ee=="string"?ee:ee.type;if(!J)throw new Error("`builder.addCase` cannot be called with an empty action type");if(J in T)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return T[J]=te,Y},addMatcher:function(ee,te){return $.push({matcher:ee,reducer:te}),Y},addDefaultCase:function(ee){return V=ee,Y}};return C(Y),[T,$,V]}function isStateFunction(C){return typeof C=="function"}function createReducer(C,T,$,V){$===void 0&&($=[]);var Y=typeof T=="function"?executeReducerBuilderCallback(T):[T,$,V],ee=Y[0],te=Y[1],J=Y[2],ie;if(isStateFunction(C))ie=function(){return freezeDraftable(C())};else{var K=freezeDraftable(C);ie=function(){return K}}function re(ne,le){ne===void 0&&(ne=ie());var ae=__spreadArray([ee[le.type]],te.filter(function(se){var ue=se.matcher;return ue(le)}).map(function(se){var ue=se.reducer;return ue}));return ae.filter(function(se){return!!se}).length===0&&(ae=[J]),ae.reduce(function(se,ue){if(ue)if(r(se)){var de=se,ce=ue(de,le);return ce===void 0?se:ce}else{if(t(se))return fn$1(se,function(be){return ue(be,le)});var ce=ue(se,le);if(ce===void 0){if(se===null)return se;throw Error("A case reducer on a non-draftable value must not return undefined")}return ce}return se},ne)}return re.getInitialState=ie,re}function getType2(C,T){return C+"/"+T}function createSlice(C){var T=C.name;if(!T)throw new Error("`name` is a required option for createSlice");typeof process<"u";var $=typeof C.initialState=="function"?C.initialState:freezeDraftable(C.initialState),V=C.reducers||{},Y=Object.keys(V),ee={},te={},J={};Y.forEach(function(re){var ne=V[re],le=getType2(T,re),ae,se;"reducer"in ne?(ae=ne.reducer,se=ne.prepare):ae=ne,ee[re]=ae,te[le]=ae,J[re]=se?createAction(le,se):createAction(le)});function ie(){var re=typeof C.extraReducers=="function"?executeReducerBuilderCallback(C.extraReducers):[C.extraReducers],ne=re[0],le=ne===void 0?{}:ne,ae=re[1],se=ae===void 0?[]:ae,ue=re[2],de=ue===void 0?void 0:ue,ce=__spreadValues(__spreadValues({},le),te);return createReducer($,function(be){for(var Le in ce)be.addCase(Le,ce[Le]);for(var ve=0,ye=se;ve<ye.length;ve++){var Ae=ye[ve];be.addMatcher(Ae.matcher,Ae.reducer)}de&&be.addDefaultCase(de)})}var K;return{name:T,reducer:function(re,ne){return K||(K=ie()),K(re,ne)},actions:J,caseReducers:ee,getInitialState:function(){return K||(K=ie()),K.getInitialState()}}}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=function(C){C===void 0&&(C=21);for(var T="",$=C;$--;)T+=urlAlphabet[Math.random()*64|0];return T},commonProperties=["name","message","stack","code"],RejectWithValue=function(){function C(T,$){this.payload=T,this.meta=$}return C}(),FulfillWithMeta=function(){function C(T,$){this.payload=T,this.meta=$}return C}(),miniSerializeError=function(C){if(typeof C=="object"&&C!==null){for(var T={},$=0,V=commonProperties;$<V.length;$++){var Y=V[$];typeof C[Y]=="string"&&(T[Y]=C[Y])}return T}return{message:String(C)}};(function(){function C(T,$,V){var Y=createAction(T+"/fulfilled",function(K,re,ne,le){return{payload:K,meta:__spreadProps(__spreadValues({},le||{}),{arg:ne,requestId:re,requestStatus:"fulfilled"})}}),ee=createAction(T+"/pending",function(K,re,ne){return{payload:void 0,meta:__spreadProps(__spreadValues({},ne||{}),{arg:re,requestId:K,requestStatus:"pending"})}}),te=createAction(T+"/rejected",function(K,re,ne,le,ae){return{payload:le,error:(V&&V.serializeError||miniSerializeError)(K||"Rejected"),meta:__spreadProps(__spreadValues({},ae||{}),{arg:ne,requestId:re,rejectedWithValue:!!le,requestStatus:"rejected",aborted:K?.name==="AbortError",condition:K?.name==="ConditionError"})}}),J=typeof AbortController<"u"?AbortController:function(){function K(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return K.prototype.abort=function(){},K}();function ie(K){return function(re,ne,le){var ae=V?.idGenerator?V.idGenerator(K):nanoid(),se=new J,ue;function de(be){ue=be,se.abort()}var ce=function(){return __async(this,null,function(){var be,Le,ve,ye,Ae,Be,qe;return __generator(this,function(Ue){switch(Ue.label){case 0:return Ue.trys.push([0,4,,5]),ye=(be=V?.condition)==null?void 0:be.call(V,K,{getState:ne,extra:le}),isThenable(ye)?[4,ye]:[3,2];case 1:ye=Ue.sent(),Ue.label=2;case 2:if(ye===!1||se.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return Ae=new Promise(function(Ke,Je){return se.signal.addEventListener("abort",function(){return Je({name:"AbortError",message:ue||"Aborted"})})}),re(ee(ae,K,(Le=V?.getPendingMeta)==null?void 0:Le.call(V,{requestId:ae,arg:K},{getState:ne,extra:le}))),[4,Promise.race([Ae,Promise.resolve($(K,{dispatch:re,getState:ne,extra:le,requestId:ae,signal:se.signal,abort:de,rejectWithValue:function(Ke,Je){return new RejectWithValue(Ke,Je)},fulfillWithValue:function(Ke,Je){return new FulfillWithMeta(Ke,Je)}})).then(function(Ke){if(Ke instanceof RejectWithValue)throw Ke;return Ke instanceof FulfillWithMeta?Y(Ke.payload,ae,K,Ke.meta):Y(Ke,ae,K)})])];case 3:return ve=Ue.sent(),[3,5];case 4:return Be=Ue.sent(),ve=Be instanceof RejectWithValue?te(null,ae,K,Be.payload,Be.meta):te(Be,ae,K),[3,5];case 5:return qe=V&&!V.dispatchConditionRejection&&te.match(ve)&&ve.meta.condition,qe||re(ve),[2,ve]}})})}();return Object.assign(ce,{abort:de,requestId:ae,arg:K,unwrap:function(){return ce.then(unwrapResult)}})}}return Object.assign(ie,{pending:ee,rejected:te,fulfilled:Y,typePrefix:T})}return C.withTypes=function(){return C},C})();function unwrapResult(C){if(C.meta&&C.meta.rejectedWithValue)throw C.payload;if(C.error)throw C.error;return C.payload}function isThenable(C){return C!==null&&typeof C=="object"&&typeof C.then=="function"}var alm="listenerMiddleware";createAction(alm+"/add");createAction(alm+"/removeAll");createAction(alm+"/remove");var promise;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);F();const initialState$2={mode:"dark",fontFamily:"Odibee Sans"},themeSlice=createSlice({name:"theme",initialState:initialState$2,reducers:{onThemeModeChange(C,T){return C.mode=T.payload,C},onThemeFontFamilyChange(C,T){return C.fontFamily=T.payload,C}}}),{onThemeModeChange,onThemeFontFamilyChange}=themeSlice.actions,themeSlice$1=themeSlice.reducer,useRickDispatch=useDispatch,useRickSelector=useSelector,useTheme=()=>{const{mode:C,fontFamily:T}=useRickSelector(ee=>ee.theme),$=useRickDispatch(),V=reactExports.useCallback(ee=>{$(onThemeModeChange(ee??(C==="dark"?"light":"dark")))},[$,C]),Y=reactExports.useCallback(ee=>{$(onThemeFontFamilyChange(ee))},[$]);return{mode:C,dark:C==="dark",light:C==="light",inverseTheme:C==="dark"?"light":"dark",toggleThemeMode:V,fontFamily:T,toggleThemeFontFamily:Y}};var Global=withEmotionCache(function(C,T){var $=C.styles,V=serializeStyles([$],void 0,reactExports.useContext(ThemeContext)),Y=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var ee=T.key+"-global",te=new T.sheet.constructor({key:ee,nonce:T.sheet.nonce,container:T.sheet.container,speedy:T.sheet.isSpeedy}),J=!1,ie=document.querySelector('style[data-emotion="'+ee+" "+V.name+'"]');return T.sheet.tags.length&&(te.before=T.sheet.tags[0]),ie!==null&&(J=!0,ie.setAttribute("data-emotion",ee),te.hydrate([ie])),Y.current=[te,J],function(){te.flush()}},[T]),useInsertionEffectWithLayoutFallback(function(){var ee=Y.current,te=ee[0],J=ee[1];if(J){ee[1]=!1;return}if(V.next!==void 0&&insertStyles(T,V.next,!0),te.tags.length){var ie=te.tags[te.tags.length-1].nextElementSibling;te.before=ie,te.flush()}T.insert("",V,te,!1)},[T,V.name]),null});function css$1(){for(var C=arguments.length,T=new Array(C),$=0;$<C;$++)T[$]=arguments[$];return serializeStyles(T)}var keyframes=function C(){var T=css$1.apply(void 0,arguments),$="animation-"+T.name;return{name:$,styles:"@keyframes "+$+"{"+T.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const AntdStyle={name:"7lepva",styles:".ant-modal .ant-modal-content{background-color:var(--color-secondary-bg);padding:0;}.ant-spin-spinning{max-height:none !important;}.ant-btn-primary{background-color:#1677ff;}.ant-app{color:inherit;}"},light={colorPrimaryBg:"#e0e5ec",colorSecondaryBg:"#fff",colorInverseBg:"#000",colorPrimaryBgHover:"#fafafa",colorPrimaryText:"#16171a"},dark={colorPrimaryBg:"#16171a",colorSecondaryBg:"#000",colorInverseBg:"#fff",colorPrimaryBgHover:"#303133",colorPrimaryText:"#c7c7c7"},themeConfig={light,dark},Theme=()=>{const{mode:C,dark:T,fontFamily:$}=useTheme();return reactExports.useEffect(()=>{document.documentElement.setAttribute("class",C)},[C]),jsx(Global,{styles:css$1(css$1(":root{--body-font:",$,";--color-active:#bae0ff;--keyboard-duration:0.3s;--keyboard-hue:0;--keyboard-sat:0%;--layout-content-height:",contentHeight,";--color-primary-bg:",themeConfig[C].colorPrimaryBg,";--color-secondary-bg:",themeConfig[C].colorSecondaryBg,";--color-inverse-bg:",themeConfig[C].colorInverseBg,";--color-primary-bg-hover:",themeConfig[C].colorPrimaryBgHover,";--color-primary-text:",themeConfig[C].colorPrimaryText,";",T?`
              --color-calculator-bg: #131419;
              --color-calculator-primary-text: #c7c7c7;
              --color-calculator-secondary-text: #03a9f4;
              --color-calculator-soft-highlight: rgba(255, 255, 255, 0.05);
              --color-calculator-dark-highlight: rgba(0, 0, 0, 0.51);

              --color-keyboard-bg: hsl(var(--keyboard-hue), var(--keyboard-sat), 90%);
              --color-keyboard-text: hsl(var(--keyboard-hue), var(--keyboard-sat), 10%);
              `:`
              --color-calculator-bg: #e0e5ec;
              --color-calculator-primary-text: rgba(144, 152, 168, 1);
              --color-calculator-secondary-text: rgba(51, 64, 89, 1);
              --color-calculator-soft-highlight: rgba(255, 255, 255, 0.43);
              --color-calculator-dark-highlight: rgba(217, 210, 200, 0.51);

              --color-keyboard-bg: hsl(var(--keyboard-hue), var(--keyboard-sat), 20%);
              --color-keyboard-text: hsl(var(--keyboard-hue), var(--keyboard-sat), 90%);
              `,"blockquote{border-left-color:var(--color-inverse-bg);}}",""),AntdStyle,"","")})},contentHeight="65vh",codeFontFamily="Fira Code",containerOpacity="0.97",ContentWrapper=({children:C})=>jsx("div",{css:css$1({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:contentHeight,overflowY:"scroll"},"",""),children:C}),ThemeWrapper=({children:C,style:T})=>{const{mode:$}=useTheme();return jsx("div",{className:$,css:T,children:C})};function __read(C,T){var $=typeof Symbol=="function"&&C[Symbol.iterator];if(!$)return C;var V=$.call(C),Y,ee=[],te;try{for(;(T===void 0||T-- >0)&&!(Y=V.next()).done;)ee.push(Y.value)}catch(J){te={error:J}}finally{try{Y&&!Y.done&&($=V.return)&&$.call(V)}finally{if(te)throw te.error}}return ee}typeof SuppressedError=="function"&&SuppressedError;var isFunction$3=function(C){return typeof C=="function"},isDev=!1;const isDev$1=isDev;function depsAreSame(C,T){if(C===T)return!0;for(var $=0;$<C.length;$++)if(!Object.is(C[$],T[$]))return!1;return!0}function useLatest(C){var T=reactExports.useRef(C);return T.current=C,T}var useUnmount=function(C){isDev$1&&(isFunction$3(C)||console.error("useUnmount expected parameter is a function, got ".concat(typeof C)));var T=useLatest(C);reactExports.useEffect(function(){return function(){T.current()}},[])};const useUnmount$1=useUnmount;function isObject$6(C){var T=typeof C;return C!=null&&(T=="object"||T=="function")}var isObject_1$1=isObject$6,freeGlobal$3=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$3,freeGlobal$2=_freeGlobal,freeSelf$1=typeof self=="object"&&self&&self.Object===Object&&self,root$b=freeGlobal$2||freeSelf$1||Function("return this")(),_root=root$b,root$a=_root,Symbol$7=root$a.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$k=Object.prototype,hasOwnProperty$g=objectProto$k.hasOwnProperty,nativeObjectToString$3=objectProto$k.toString,symToStringTag$3=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$2(C){var T=hasOwnProperty$g.call(C,symToStringTag$3),$=C[symToStringTag$3];try{C[symToStringTag$3]=void 0;var V=!0}catch{}var Y=nativeObjectToString$3.call(C);return V&&(T?C[symToStringTag$3]=$:delete C[symToStringTag$3]),Y}var _getRawTag=getRawTag$2,objectProto$j=Object.prototype,nativeObjectToString$2=objectProto$j.toString;function objectToString$2(C){return nativeObjectToString$2.call(C)}var _objectToString=objectToString$2,Symbol$5=_Symbol,getRawTag$1=_getRawTag,objectToString$1=_objectToString,nullTag$1="[object Null]",undefinedTag$1="[object Undefined]",symToStringTag$2=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$3(C){return C==null?C===void 0?undefinedTag$1:nullTag$1:symToStringTag$2&&symToStringTag$2 in Object(C)?getRawTag$1(C):objectToString$1(C)}var _baseGetTag=baseGetTag$3;function isObjectLike$4(C){return C!=null&&typeof C=="object"}var isObjectLike_1=isObjectLike$4,isBrowser=!!(typeof window<"u"&&window.document&&window.document.createElement);const isBrowser$1=isBrowser;var useMount=function(C){isDev$1&&(isFunction$3(C)||console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof C,'".'))),reactExports.useEffect(function(){C?.()},[])};const useMount$1=useMount;function useToggle(C,T){C===void 0&&(C=!1);var $=__read(reactExports.useState(C),2),V=$[0],Y=$[1],ee=reactExports.useMemo(function(){var te=T===void 0?!C:T,J=function(){return Y(function(ne){return ne===C?te:C})},ie=function(ne){return Y(ne)},K=function(){return Y(C)},re=function(){return Y(te)};return{toggle:J,set:ie,setLeft:K,setRight:re}},[]);return[V,ee]}function useBoolean(C){C===void 0&&(C=!1);var T=__read(useToggle(!!C),2),$=T[0],V=T[1],Y=V.toggle,ee=V.set,te=reactExports.useMemo(function(){var J=function(){return ee(!0)},ie=function(){return ee(!1)};return{toggle:Y,set:function(K){return ee(!!K)},setTrue:J,setFalse:ie}},[]);return[$,te]}function getTargetElement(C,T){if(isBrowser$1){if(!C)return T;var $;return isFunction$3(C)?$=C():"current"in C?$=C.current:$=C,$}}var createEffectWithTarget=function(C){var T=function($,V,Y){var ee=reactExports.useRef(!1),te=reactExports.useRef([]),J=reactExports.useRef([]),ie=reactExports.useRef();C(function(){var K,re=Array.isArray(Y)?Y:[Y],ne=re.map(function(le){return getTargetElement(le)});if(!ee.current){ee.current=!0,te.current=ne,J.current=V,ie.current=$();return}(ne.length!==te.current.length||!depsAreSame(ne,te.current)||!depsAreSame(V,J.current))&&((K=ie.current)===null||K===void 0||K.call(ie),te.current=ne,J.current=V,ie.current=$())}),useUnmount$1(function(){var K;(K=ie.current)===null||K===void 0||K.call(ie),ee.current=!1})};return T};const createEffectWithTarget$1=createEffectWithTarget;var useEffectWithTarget=createEffectWithTarget$1(reactExports.useEffect);const useEffectWithTarget$1=useEffectWithTarget;function listCacheClear$2(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$2;function eq$2(C,T){return C===T||C!==C&&T!==T}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$5(C,T){for(var $=C.length;$--;)if(eq$1(C[$][0],T))return $;return-1}var _assocIndexOf=assocIndexOf$5,assocIndexOf$4=_assocIndexOf,arrayProto$1=Array.prototype,splice$2=arrayProto$1.splice;function listCacheDelete$2(C){var T=this.__data__,$=assocIndexOf$4(T,C);if($<0)return!1;var V=T.length-1;return $==V?T.pop():splice$2.call(T,$,1),--this.size,!0}var _listCacheDelete=listCacheDelete$2,assocIndexOf$3=_assocIndexOf;function listCacheGet$2(C){var T=this.__data__,$=assocIndexOf$3(T,C);return $<0?void 0:T[$][1]}var _listCacheGet=listCacheGet$2,assocIndexOf$2=_assocIndexOf;function listCacheHas$2(C){return assocIndexOf$2(this.__data__,C)>-1}var _listCacheHas=listCacheHas$2,assocIndexOf$1=_assocIndexOf;function listCacheSet$2(C,T){var $=this.__data__,V=assocIndexOf$1($,C);return V<0?(++this.size,$.push([C,T])):$[V][1]=T,this}var _listCacheSet=listCacheSet$2,listCacheClear$1=_listCacheClear,listCacheDelete$1=_listCacheDelete,listCacheGet$1=_listCacheGet,listCacheHas$1=_listCacheHas,listCacheSet$1=_listCacheSet;function ListCache$5(C){var T=-1,$=C==null?0:C.length;for(this.clear();++T<$;){var V=C[T];this.set(V[0],V[1])}}ListCache$5.prototype.clear=listCacheClear$1;ListCache$5.prototype.delete=listCacheDelete$1;ListCache$5.prototype.get=listCacheGet$1;ListCache$5.prototype.has=listCacheHas$1;ListCache$5.prototype.set=listCacheSet$1;var _ListCache=ListCache$5,ListCache$4=_ListCache;function stackClear$2(){this.__data__=new ListCache$4,this.size=0}var _stackClear=stackClear$2;function stackDelete$2(C){var T=this.__data__,$=T.delete(C);return this.size=T.size,$}var _stackDelete=stackDelete$2;function stackGet$2(C){return this.__data__.get(C)}var _stackGet=stackGet$2;function stackHas$2(C){return this.__data__.has(C)}var _stackHas=stackHas$2,isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var C=_baseGetTag,T=isObject_1$1,$="[object AsyncFunction]",V="[object Function]",Y="[object GeneratorFunction]",ee="[object Proxy]";function te(J){if(!T(J))return!1;var ie=C(J);return ie==V||ie==Y||ie==$||ie==ee}return isFunction_1=te,isFunction_1}var root$9=_root,coreJsData$3=root$9["__core-js_shared__"],_coreJsData=coreJsData$3,coreJsData$2=_coreJsData,maskSrcKey$1=function(){var C=/[^.]+$/.exec(coreJsData$2&&coreJsData$2.keys&&coreJsData$2.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}();function isMasked$2(C){return!!maskSrcKey$1&&maskSrcKey$1 in C}var _isMasked=isMasked$2,funcProto$4=Function.prototype,funcToString$4=funcProto$4.toString;function toSource$3(C){if(C!=null){try{return funcToString$4.call(C)}catch{}try{return C+""}catch{}}return""}var _toSource=toSource$3,isFunction$2=requireIsFunction(),isMasked$1=_isMasked,isObject$5=isObject_1$1,toSource$2=_toSource,reRegExpChar$1=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor$1=/^\[object .+?Constructor\]$/,funcProto$3=Function.prototype,objectProto$i=Object.prototype,funcToString$3=funcProto$3.toString,hasOwnProperty$f=objectProto$i.hasOwnProperty,reIsNative$1=RegExp("^"+funcToString$3.call(hasOwnProperty$f).replace(reRegExpChar$1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$2(C){if(!isObject$5(C)||isMasked$1(C))return!1;var T=isFunction$2(C)?reIsNative$1:reIsHostCtor$1;return T.test(toSource$2(C))}var _baseIsNative=baseIsNative$2;function getValue$3(C,T){return C?.[T]}var _getValue=getValue$3,baseIsNative$1=_baseIsNative,getValue$2=_getValue;function getNative$7(C,T){var $=getValue$2(C,T);return baseIsNative$1($)?$:void 0}var _getNative=getNative$7,getNative$6=_getNative,root$8=_root,Map$6=getNative$6(root$8,"Map"),_Map=Map$6,getNative$5=_getNative,nativeCreate$6=getNative$5(Object,"create"),_nativeCreate=nativeCreate$6,nativeCreate$5=_nativeCreate;function hashClear$2(){this.__data__=nativeCreate$5?nativeCreate$5(null):{},this.size=0}var _hashClear=hashClear$2;function hashDelete$2(C){var T=this.has(C)&&delete this.__data__[C];return this.size-=T?1:0,T}var _hashDelete=hashDelete$2,nativeCreate$4=_nativeCreate,HASH_UNDEFINED$3="__lodash_hash_undefined__",objectProto$h=Object.prototype,hasOwnProperty$e=objectProto$h.hasOwnProperty;function hashGet$2(C){var T=this.__data__;if(nativeCreate$4){var $=T[C];return $===HASH_UNDEFINED$3?void 0:$}return hasOwnProperty$e.call(T,C)?T[C]:void 0}var _hashGet=hashGet$2,nativeCreate$3=_nativeCreate,objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty;function hashHas$2(C){var T=this.__data__;return nativeCreate$3?T[C]!==void 0:hasOwnProperty$d.call(T,C)}var _hashHas=hashHas$2,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__";function hashSet$2(C,T){var $=this.__data__;return this.size+=this.has(C)?0:1,$[C]=nativeCreate$2&&T===void 0?HASH_UNDEFINED$2:T,this}var _hashSet=hashSet$2,hashClear$1=_hashClear,hashDelete$1=_hashDelete,hashGet$1=_hashGet,hashHas$1=_hashHas,hashSet$1=_hashSet;function Hash$2(C){var T=-1,$=C==null?0:C.length;for(this.clear();++T<$;){var V=C[T];this.set(V[0],V[1])}}Hash$2.prototype.clear=hashClear$1;Hash$2.prototype.delete=hashDelete$1;Hash$2.prototype.get=hashGet$1;Hash$2.prototype.has=hashHas$1;Hash$2.prototype.set=hashSet$1;var _Hash=Hash$2,Hash$1=_Hash,ListCache$3=_ListCache,Map$5=_Map;function mapCacheClear$2(){this.size=0,this.__data__={hash:new Hash$1,map:new(Map$5||ListCache$3),string:new Hash$1}}var _mapCacheClear=mapCacheClear$2;function isKeyable$2(C){var T=typeof C;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?C!=="__proto__":C===null}var _isKeyable=isKeyable$2,isKeyable$1=_isKeyable;function getMapData$5(C,T){var $=C.__data__;return isKeyable$1(T)?$[typeof T=="string"?"string":"hash"]:$.map}var _getMapData=getMapData$5,getMapData$4=_getMapData;function mapCacheDelete$2(C){var T=getMapData$4(this,C).delete(C);return this.size-=T?1:0,T}var _mapCacheDelete=mapCacheDelete$2,getMapData$3=_getMapData;function mapCacheGet$2(C){return getMapData$3(this,C).get(C)}var _mapCacheGet=mapCacheGet$2,getMapData$2=_getMapData;function mapCacheHas$2(C){return getMapData$2(this,C).has(C)}var _mapCacheHas=mapCacheHas$2,getMapData$1=_getMapData;function mapCacheSet$2(C,T){var $=getMapData$1(this,C),V=$.size;return $.set(C,T),this.size+=$.size==V?0:1,this}var _mapCacheSet=mapCacheSet$2,mapCacheClear$1=_mapCacheClear,mapCacheDelete$1=_mapCacheDelete,mapCacheGet$1=_mapCacheGet,mapCacheHas$1=_mapCacheHas,mapCacheSet$1=_mapCacheSet;function MapCache$3(C){var T=-1,$=C==null?0:C.length;for(this.clear();++T<$;){var V=C[T];this.set(V[0],V[1])}}MapCache$3.prototype.clear=mapCacheClear$1;MapCache$3.prototype.delete=mapCacheDelete$1;MapCache$3.prototype.get=mapCacheGet$1;MapCache$3.prototype.has=mapCacheHas$1;MapCache$3.prototype.set=mapCacheSet$1;var _MapCache=MapCache$3,ListCache$2=_ListCache,Map$4=_Map,MapCache$2=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$2(C,T){var $=this.__data__;if($ instanceof ListCache$2){var V=$.__data__;if(!Map$4||V.length<LARGE_ARRAY_SIZE$1-1)return V.push([C,T]),this.size=++$.size,this;$=this.__data__=new MapCache$2(V)}return $.set(C,T),this.size=$.size,this}var _stackSet=stackSet$2,ListCache$1=_ListCache,stackClear$1=_stackClear,stackDelete$1=_stackDelete,stackGet$1=_stackGet,stackHas$1=_stackHas,stackSet$1=_stackSet;function Stack$2(C){var T=this.__data__=new ListCache$1(C);this.size=T.size}Stack$2.prototype.clear=stackClear$1;Stack$2.prototype.delete=stackDelete$1;Stack$2.prototype.get=stackGet$1;Stack$2.prototype.has=stackHas$1;Stack$2.prototype.set=stackSet$1;var _Stack=Stack$2,root$7=_root,Uint8Array$4=root$7.Uint8Array,_Uint8Array=Uint8Array$4;function arrayPush$4(C,T){for(var $=-1,V=T.length,Y=C.length;++$<V;)C[Y+$]=T[$];return C}var _arrayPush=arrayPush$4,isArray$6=Array.isArray,isArray_1=isArray$6,arrayPush$3=_arrayPush,isArray$5=isArray_1;function baseGetAllKeys$2(C,T,$){var V=T(C);return isArray$5(C)?V:arrayPush$3(V,$(C))}var _baseGetAllKeys=baseGetAllKeys$2;function arrayFilter$1(C,T){for(var $=-1,V=C==null?0:C.length,Y=0,ee=[];++$<V;){var te=C[$];T(te,$,C)&&(ee[Y++]=te)}return ee}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$f=Object.prototype,propertyIsEnumerable$1=objectProto$f.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(C){return C==null?[]:(C=Object(C),arrayFilter(nativeGetSymbols$1(C),function(T){return propertyIsEnumerable$1.call(C,T)}))}:stubArray$1,_getSymbols=getSymbols$3,_baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function C(T,$){for(var V=-1,Y=Array(T);++V<T;)Y[V]=$(V);return Y}return _baseTimes=C,_baseTimes}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var C=_baseGetTag,T=isObjectLike_1,$="[object Arguments]";function V(Y){return T(Y)&&C(Y)==$}return _baseIsArguments=V,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var C=require_baseIsArguments(),T=isObjectLike_1,$=Object.prototype,V=$.hasOwnProperty,Y=$.propertyIsEnumerable,ee=C(function(){return arguments}())?C:function(te){return T(te)&&V.call(te,"callee")&&!Y.call(te,"callee")};return isArguments_1=ee,isArguments_1}var isBuffer$3={exports:{}};function stubFalse$1(){return!1}var stubFalse_1=stubFalse$1;isBuffer$3.exports;(function(C,T){var $=_root,V=stubFalse_1,Y=T&&!T.nodeType&&T,ee=Y&&!0&&C&&!C.nodeType&&C,te=ee&&ee.exports===Y,J=te?$.Buffer:void 0,ie=J?J.isBuffer:void 0,K=ie||V;C.exports=K})(isBuffer$3,isBuffer$3.exports);var isBufferExports=isBuffer$3.exports,_isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var C=9007199254740991,T=/^(?:0|[1-9]\d*)$/;function $(V,Y){var ee=typeof V;return Y=Y??C,!!Y&&(ee=="number"||ee!="symbol"&&T.test(V))&&V>-1&&V%1==0&&V<Y}return _isIndex=$,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var C=9007199254740991;function T($){return typeof $=="number"&&$>-1&&$%1==0&&$<=C}return isLength_1=T,isLength_1}var baseGetTag$2=_baseGetTag,isLength$1=requireIsLength(),isObjectLike$3=isObjectLike_1,argsTag$3="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$3="[object Function]",mapTag$7="[object Map]",numberTag$3="[object Number]",objectTag$5="[object Object]",regexpTag$3="[object RegExp]",setTag$7="[object Set]",stringTag$3="[object String]",weakMapTag$4="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$5="[object DataView]",float32Tag$3="[object Float32Array]",float64Tag$3="[object Float64Array]",int8Tag$3="[object Int8Array]",int16Tag$3="[object Int16Array]",int32Tag$3="[object Int32Array]",uint8Tag$3="[object Uint8Array]",uint8ClampedTag$3="[object Uint8ClampedArray]",uint16Tag$3="[object Uint16Array]",uint32Tag$3="[object Uint32Array]",typedArrayTags$1={};typedArrayTags$1[float32Tag$3]=typedArrayTags$1[float64Tag$3]=typedArrayTags$1[int8Tag$3]=typedArrayTags$1[int16Tag$3]=typedArrayTags$1[int32Tag$3]=typedArrayTags$1[uint8Tag$3]=typedArrayTags$1[uint8ClampedTag$3]=typedArrayTags$1[uint16Tag$3]=typedArrayTags$1[uint32Tag$3]=!0;typedArrayTags$1[argsTag$3]=typedArrayTags$1[arrayTag$2]=typedArrayTags$1[arrayBufferTag$3]=typedArrayTags$1[boolTag$3]=typedArrayTags$1[dataViewTag$5]=typedArrayTags$1[dateTag$3]=typedArrayTags$1[errorTag$2]=typedArrayTags$1[funcTag$3]=typedArrayTags$1[mapTag$7]=typedArrayTags$1[numberTag$3]=typedArrayTags$1[objectTag$5]=typedArrayTags$1[regexpTag$3]=typedArrayTags$1[setTag$7]=typedArrayTags$1[stringTag$3]=typedArrayTags$1[weakMapTag$4]=!1;function baseIsTypedArray$2(C){return isObjectLike$3(C)&&isLength$1(C.length)&&!!typedArrayTags$1[baseGetTag$2(C)]}var _baseIsTypedArray=baseIsTypedArray$2;function baseUnary$4(C){return function(T){return C(T)}}var _baseUnary=baseUnary$4,_nodeUtil={exports:{}};_nodeUtil.exports;(function(C,T){var $=_freeGlobal,V=T&&!T.nodeType&&T,Y=V&&!0&&C&&!C.nodeType&&C,ee=Y&&Y.exports===V,te=ee&&$.process,J=function(){try{var ie=Y&&Y.require&&Y.require("util").types;return ie||te&&te.binding&&te.binding("util")}catch{}}();C.exports=J})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray$1=_baseIsTypedArray,baseUnary$3=_baseUnary,nodeUtil$4=_nodeUtilExports,nodeIsTypedArray$1=nodeUtil$4&&nodeUtil$4.isTypedArray,isTypedArray$2=nodeIsTypedArray$1?baseUnary$3(nodeIsTypedArray$1):baseIsTypedArray$1,isTypedArray_1=isTypedArray$2,_arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var C=require_baseTimes(),T=requireIsArguments(),$=isArray_1,V=isBufferExports,Y=require_isIndex(),ee=isTypedArray_1,te=Object.prototype,J=te.hasOwnProperty;function ie(K,re){var ne=$(K),le=!ne&&T(K),ae=!ne&&!le&&V(K),se=!ne&&!le&&!ae&&ee(K),ue=ne||le||ae||se,de=ue?C(K.length,String):[],ce=de.length;for(var be in K)(re||J.call(K,be))&&!(ue&&(be=="length"||ae&&(be=="offset"||be=="parent")||se&&(be=="buffer"||be=="byteLength"||be=="byteOffset")||Y(be,ce)))&&de.push(be);return de}return _arrayLikeKeys=ie,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var C=Object.prototype;function T($){var V=$&&$.constructor,Y=typeof V=="function"&&V.prototype||C;return $===Y}return _isPrototype=T,_isPrototype}function overArg$2(C,T){return function($){return C(T($))}}var _overArg=overArg$2,_nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var C=_overArg,T=C(Object.keys,Object);return _nativeKeys=T,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var C=require_isPrototype(),T=require_nativeKeys(),$=Object.prototype,V=$.hasOwnProperty;function Y(ee){if(!C(ee))return T(ee);var te=[];for(var J in Object(ee))V.call(ee,J)&&J!="constructor"&&te.push(J);return te}return _baseKeys=Y,_baseKeys}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var C=requireIsFunction(),T=requireIsLength();function $(V){return V!=null&&T(V.length)&&!C(V)}return isArrayLike_1=$,isArrayLike_1}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var C=require_arrayLikeKeys(),T=require_baseKeys(),$=requireIsArrayLike();function V(Y){return $(Y)?C(Y):T(Y)}return keys_1=V,keys_1}var baseGetAllKeys$1=_baseGetAllKeys,getSymbols$2=_getSymbols,keys$2=requireKeys();function getAllKeys$1(C){return baseGetAllKeys$1(C,keys$2,getSymbols$2)}var _getAllKeys=getAllKeys$1,getNative$4=_getNative,root$6=_root,DataView$3=getNative$4(root$6,"DataView"),_DataView=DataView$3,getNative$3=_getNative,root$5=_root,Promise$4=getNative$3(root$5,"Promise"),_Promise=Promise$4,getNative$2=_getNative,root$4=_root,Set$4=getNative$2(root$4,"Set"),_Set=Set$4,getNative$1=_getNative,root$3=_root,WeakMap$4=getNative$1(root$3,"WeakMap"),_WeakMap=WeakMap$4,DataView$2=_DataView,Map$3=_Map,Promise$3=_Promise,Set$3=_Set,WeakMap$3=_WeakMap,baseGetTag$1=_baseGetTag,toSource$1=_toSource,mapTag$6="[object Map]",objectTag$4="[object Object]",promiseTag$1="[object Promise]",setTag$6="[object Set]",weakMapTag$3="[object WeakMap]",dataViewTag$4="[object DataView]",dataViewCtorString$1=toSource$1(DataView$2),mapCtorString$1=toSource$1(Map$3),promiseCtorString$1=toSource$1(Promise$3),setCtorString$1=toSource$1(Set$3),weakMapCtorString$1=toSource$1(WeakMap$3),getTag$5=baseGetTag$1;(DataView$2&&getTag$5(new DataView$2(new ArrayBuffer(1)))!=dataViewTag$4||Map$3&&getTag$5(new Map$3)!=mapTag$6||Promise$3&&getTag$5(Promise$3.resolve())!=promiseTag$1||Set$3&&getTag$5(new Set$3)!=setTag$6||WeakMap$3&&getTag$5(new WeakMap$3)!=weakMapTag$3)&&(getTag$5=function(C){var T=baseGetTag$1(C),$=T==objectTag$4?C.constructor:void 0,V=$?toSource$1($):"";if(V)switch(V){case dataViewCtorString$1:return dataViewTag$4;case mapCtorString$1:return mapTag$6;case promiseCtorString$1:return promiseTag$1;case setCtorString$1:return setTag$6;case weakMapCtorString$1:return weakMapTag$3}return T});var _getTag=getTag$5;function useEventListener(C,T,$){$===void 0&&($={});var V=useLatest(T);useEffectWithTarget$1(function(){var Y=getTargetElement($.target,window);if(Y?.addEventListener){var ee=function(te){return V.current(te)};return Y.addEventListener(C,ee,{capture:$.capture,once:$.once,passive:$.passive}),function(){Y.removeEventListener(C,ee,{capture:$.capture})}}},[C,$.capture,$.once,$.passive],$.target)}const useHover=function(C,T){var $=T||{},V=$.onEnter,Y=$.onLeave,ee=$.onChange,te=__read(useBoolean(!1),2),J=te[0],ie=te[1],K=ie.setTrue,re=ie.setFalse;return useEventListener("mouseenter",function(){V?.(),K(),ee?.(!0)},{target:C}),useEventListener("mouseleave",function(){Y?.(),re(),ee?.(!1)},{target:C}),J};var overArg$1=_overArg,getPrototype$4=overArg$1(Object.getPrototypeOf,Object),_getPrototype=getPrototype$4;pdfjs$1.GlobalWorkerOptions.workerSrc=new URL("/one-piece-react/assets/pdf.worker.min-feabdf30.js",self.location).toString();const width$1=screen.availWidth*.25,firstPageNum=1,PdfPreview=()=>{const[C,T]=reactExports.useState(),[$,V]=reactExports.useState(1),Y=reactExports.useRef(null),ee=useHover(Y);function te({numPages:ie}){T(ie),V(firstPageNum)}const J=ie=>{const K=ie==="left"?firstPageNum:C;return jsx("button",{className:"w-11 h-11 border-0 text-xs rounded-sm flex items-center justify-center hover:bg-slate-300",style:{background:$===K?"#FFF":"",color:$===K?"#ccc":"inherit"},disabled:$===K,onClick:()=>{V(re=>ie==="left"?re-1:re+1)},children:ie==="left"?"":""})};return jsx(ContentWrapper,{children:jsx("div",{style:{width:width$1},ref:Y,children:jsxs(Document$1,{file:Http,onLoadSuccess:te,children:[jsx(Page$1,{pageNumber:$,width:width$1}),jsxs("div",{className:"absolute bottom-4 flex rounded overflow-hidden bg-white shadow-2xl transition-opacity duration-500 right-1/2 translate-x-[50%] z-50",style:{opacity:ee?1:0},children:[J("left"),jsxs("span",{className:"text-xs font-thin font-serif flex items-center justify-center px-2",children:[$," of ",C]}),J("right")]})]})})})},index=Object.freeze(Object.defineProperty({__proto__:null,default:PdfPreview},Symbol.toStringTag,{value:"Module"})),Hotkey={Shift:"",Meta:"",Ctrl:"",Alt:"",ArrowDown:"ArrowDown",ArrowUp:"ArrowUp",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",Enter:"Enter",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z"};var OpenTypeConfig=(C=>(C.FlowChartSelectOpen="flowchart-select-open",C.MaskOpen="mask-open",C.CommandOpen="command-open",C))(OpenTypeConfig||{});const initialState$1={"flowchart-select-open":!1,"mask-open":!1,"command-open":!1},modalOpenSlice=createSlice({name:"modal-open",initialState:initialState$1,reducers:{onOpenChange(C,T){C[T.payload.type]=T.payload.open}}}),{onOpenChange}=modalOpenSlice.actions,modalOpenSlice$1=modalOpenSlice.reducer,useModalOpen=C=>{const T=useRickDispatch(),$=useRickSelector(te=>te.modalOpen[C]),V=reactExports.useCallback(()=>{T(onOpenChange({type:C,open:!0}))},[T,C]),Y=reactExports.useCallback(()=>{T(onOpenChange({type:C,open:!1}))},[T,C]),ee=reactExports.useCallback(()=>{$?Y():V()},[Y,V,$]);return{open:$,onShow:V,onHidden:Y,onToggle:ee}},scriptRel="modulepreload",assetsURL=function(C){return"/one-piece-react/"+C},seen={},__vitePreload=function C(T,$,V){if(!$||$.length===0)return T();const Y=document.getElementsByTagName("link");return Promise.all($.map(ee=>{if(ee=assetsURL(ee),ee in seen)return;seen[ee]=!0;const te=ee.endsWith(".css"),J=te?'[rel="stylesheet"]':"";if(!!V)for(let re=Y.length-1;re>=0;re--){const ne=Y[re];if(ne.href===ee&&(!te||ne.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${ee}"]${J}`))return;const K=document.createElement("link");if(K.rel=te?"stylesheet":scriptRel,te||(K.as="script",K.crossOrigin=""),K.href=ee,document.head.appendChild(K),te)return new Promise((re,ne)=>{K.addEventListener("load",re),K.addEventListener("error",()=>ne(new Error(`Unable to preload CSS for ${ee}`)))})})).then(()=>T()).catch(ee=>{const te=new Event("vite:preloadError",{cancelable:!0});if(te.payload=ee,window.dispatchEvent(te),!te.defaultPrevented)throw ee})},MDXContext=React$1.createContext({});function useMDXComponents(C){const T=React$1.useContext(MDXContext);return React$1.useMemo(()=>typeof C=="function"?C(T):{...T,...C},[T,C])}const emptyObject={};function MDXProvider({components:C,children:T,disableParentContext:$}){let V;return $?V=typeof C=="function"?C({}):C||emptyObject:V=useMDXComponents(C),React$1.createElement(MDXContext.Provider,{value:V},T)}const codeBlockStyle={name:"dtg80d",styles:"border-color:#ddd;color:#777;border:1px solid;border-radius:3px;box-shadow:0 0 0 3px rgba(11, 13, 14, 0.02);font-size:14px;margin:2em auto;overflow:hidden;figcaption{background:var(--color-secondary-bg);border-bottom:1px solid;display:flex;letter-spacing:1px;padding-left:12px;padding-right:66px;margin:0px;}"},codeBtnStyle={name:"13cflqi",styles:"border-radius:50%;display:inline-block;height:12px;margin:12px 6px 12px 0;min-width:12px;&:nth-of-type(1){background-color:red;}&:nth-of-type(2){background-color:#ccc;}&:nth-of-type(3){background-color:yellowgreen;}"},codeFilename={name:"1o8brmc",styles:"flex:1;line-height:36px;overflow:hidden;text-align:center;white-space:nowrap"};var _ref$1={name:"1pnaxcd",styles:`pre code.hljs{display:block;overflow-x:auto;padding:1em;}code.hljs{padding:3px 5px;}/*!
      Theme: GitHub
      Description: Light theme as seen on github.com
      Author: github.com
      Maintainer: @Hirse
      Updated: 2021-05-15
    
      Outdated base version: https://github.com/primer/github-syntax-light
      Current colors taken from GitHub's CSS
    */.hljs{color:#24292e;background:#fff;}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#d73a49;}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#6f42c1;}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#005cc5;}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#032f62;}.hljs-built_in,.hljs-symbol{color:#e36209;}.hljs-code,.hljs-comment,.hljs-formula{color:#6a737d;}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#22863a;}.hljs-subst{color:#24292e;}.hljs-section{color:#005cc5;font-weight:700;}.hljs-bullet{color:#735c0f;}.hljs-emphasis{color:#24292e;font-style:italic;}.hljs-strong{color:#24292e;font-weight:700;}.hljs-addition{color:#22863a;background-color:#f0fff4;}.hljs-deletion{color:#b31d28;background-color:#ffeef0;}`},_ref2={name:"1ik4xpq",styles:`pre code.hljs{display:block;overflow-x:auto;padding:1em;}code.hljs{padding:3px 5px;}/*!
        Theme: GitHub Dark
        Description: Dark theme as seen on github.com
        Author: github.com
        Maintainer: @Hirse
        Updated: 2021-05-15
      
        Outdated base version: https://github.com/primer/github-syntax-dark
        Current colors taken from GitHub's CSS
      */.hljs{color:#c9d1d9;background:#0d1117;}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#ff7b72;}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#d2a8ff;}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#79c0ff;}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#a5d6ff;}.hljs-built_in,.hljs-symbol{color:#ffa657;}.hljs-code,.hljs-comment,.hljs-formula{color:#8b949e;}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#7ee787;}.hljs-subst{color:#c9d1d9;}.hljs-section{color:#1f6feb;font-weight:700;}.hljs-bullet{color:#f2cc60;}.hljs-emphasis{color:#c9d1d9;font-style:italic;}.hljs-strong{color:#c9d1d9;font-weight:700;}.hljs-addition{color:#aff5b4;background-color:#033a16;}.hljs-deletion{color:#ffdcd7;background-color:#67060c;}`};const useCodeStyle=()=>{const{dark:C}=useTheme();return C?_ref2:_ref$1};function dedent(C){for(var T=[],$=1;$<arguments.length;$++)T[$-1]=arguments[$];var V=Array.from(typeof C=="string"?[C]:C);V[V.length-1]=V[V.length-1].replace(/\r?\n([\t ]*)$/,"");var Y=V.reduce(function(J,ie){var K=ie.match(/\n([\t ]+|(?!\s).)/g);return K?J.concat(K.map(function(re){var ne,le;return(le=(ne=re.match(/[\t ]/g))===null||ne===void 0?void 0:ne.length)!==null&&le!==void 0?le:0})):J},[]);if(Y.length){var ee=new RegExp(`
[	 ]{`+Math.min.apply(Math,Y)+"}","g");V=V.map(function(J){return J.replace(ee,`
`)})}V[0]=V[0].replace(/^\r?\n/,"");var te=V[0];return T.forEach(function(J,ie){var K=te.match(/(?:^|\n)( *)$/),re=K?K[1]:"",ne=J;typeof J=="string"&&J.includes(`
`)&&(ne=String(J).split(`
`).map(function(le,ae){return ae===0?le:""+re+le}).join(`
`)),te+=ne+V[ie+1]}),te}var dist={};(function(C){Object.defineProperty(C,"__esModule",{value:!0}),C.sanitizeUrl=C.BLANK_URL=void 0;var T=/^([^\w]*)(javascript|data|vbscript)/im,$=/&#(\w+)(^\w|;)?/g,V=/&(newline|tab);/gi,Y=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ee=/^.+(:|&colon;)/gim,te=[".","/"];C.BLANK_URL="about:blank";function J(re){return te.indexOf(re[0])>-1}function ie(re){var ne=re.replace(Y,"");return ne.replace($,function(le,ae){return String.fromCharCode(ae)})}function K(re){if(!re)return C.BLANK_URL;var ne=ie(re).replace(V,"").replace(Y,"").trim();if(!ne)return C.BLANK_URL;if(J(ne))return ne;var le=ne.match(ee);if(!le)return ne;var ae=le[0];return T.test(ae)?C.BLANK_URL:ne}C.sanitizeUrl=K})(dist);var noop$3={value:()=>{}};function dispatch(){for(var C=0,T=arguments.length,$={},V;C<T;++C){if(!(V=arguments[C]+"")||V in $||/[\s.]/.test(V))throw new Error("illegal type: "+V);$[V]=[]}return new Dispatch($)}function Dispatch(C){this._=C}function parseTypenames$1(C,T){return C.trim().split(/^|\s+/).map(function($){var V="",Y=$.indexOf(".");if(Y>=0&&(V=$.slice(Y+1),$=$.slice(0,Y)),$&&!T.hasOwnProperty($))throw new Error("unknown type: "+$);return{type:$,name:V}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(C,T){var $=this._,V=parseTypenames$1(C+"",$),Y,ee=-1,te=V.length;if(arguments.length<2){for(;++ee<te;)if((Y=(C=V[ee]).type)&&(Y=get$3($[Y],C.name)))return Y;return}if(T!=null&&typeof T!="function")throw new Error("invalid callback: "+T);for(;++ee<te;)if(Y=(C=V[ee]).type)$[Y]=set$3($[Y],C.name,T);else if(T==null)for(Y in $)$[Y]=set$3($[Y],C.name,null);return this},copy:function(){var C={},T=this._;for(var $ in T)C[$]=T[$].slice();return new Dispatch(C)},call:function(C,T){if((Y=arguments.length-2)>0)for(var $=new Array(Y),V=0,Y,ee;V<Y;++V)$[V]=arguments[V+2];if(!this._.hasOwnProperty(C))throw new Error("unknown type: "+C);for(ee=this._[C],V=0,Y=ee.length;V<Y;++V)ee[V].value.apply(T,$)},apply:function(C,T,$){if(!this._.hasOwnProperty(C))throw new Error("unknown type: "+C);for(var V=this._[C],Y=0,ee=V.length;Y<ee;++Y)V[Y].value.apply(T,$)}};function get$3(C,T){for(var $=0,V=C.length,Y;$<V;++$)if((Y=C[$]).name===T)return Y.value}function set$3(C,T,$){for(var V=0,Y=C.length;V<Y;++V)if(C[V].name===T){C[V]=noop$3,C=C.slice(0,V).concat(C.slice(V+1));break}return $!=null&&C.push({name:T,value:$}),C}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(C){var T=C+="",$=T.indexOf(":");return $>=0&&(T=C.slice(0,$))!=="xmlns"&&(C=C.slice($+1)),namespaces.hasOwnProperty(T)?{space:namespaces[T],local:C}:C}function creatorInherit(C){return function(){var T=this.ownerDocument,$=this.namespaceURI;return $===xhtml&&T.documentElement.namespaceURI===xhtml?T.createElement(C):T.createElementNS($,C)}}function creatorFixed(C){return function(){return this.ownerDocument.createElementNS(C.space,C.local)}}function creator(C){var T=namespace(C);return(T.local?creatorFixed:creatorInherit)(T)}function none(){}function selector(C){return C==null?none:function(){return this.querySelector(C)}}function selection_select(C){typeof C!="function"&&(C=selector(C));for(var T=this._groups,$=T.length,V=new Array($),Y=0;Y<$;++Y)for(var ee=T[Y],te=ee.length,J=V[Y]=new Array(te),ie,K,re=0;re<te;++re)(ie=ee[re])&&(K=C.call(ie,ie.__data__,re,ee))&&("__data__"in ie&&(K.__data__=ie.__data__),J[re]=K);return new Selection$1(V,this._parents)}function array(C){return C==null?[]:Array.isArray(C)?C:Array.from(C)}function empty(){return[]}function selectorAll(C){return C==null?empty:function(){return this.querySelectorAll(C)}}function arrayAll(C){return function(){return array(C.apply(this,arguments))}}function selection_selectAll(C){typeof C=="function"?C=arrayAll(C):C=selectorAll(C);for(var T=this._groups,$=T.length,V=[],Y=[],ee=0;ee<$;++ee)for(var te=T[ee],J=te.length,ie,K=0;K<J;++K)(ie=te[K])&&(V.push(C.call(ie,ie.__data__,K,te)),Y.push(ie));return new Selection$1(V,Y)}function matcher(C){return function(){return this.matches(C)}}function childMatcher(C){return function(T){return T.matches(C)}}var find$1=Array.prototype.find;function childFind(C){return function(){return find$1.call(this.children,C)}}function childFirst(){return this.firstElementChild}function selection_selectChild(C){return this.select(C==null?childFirst:childFind(typeof C=="function"?C:childMatcher(C)))}var filter$1=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(C){return function(){return filter$1.call(this.children,C)}}function selection_selectChildren(C){return this.selectAll(C==null?children:childrenFilter(typeof C=="function"?C:childMatcher(C)))}function selection_filter(C){typeof C!="function"&&(C=matcher(C));for(var T=this._groups,$=T.length,V=new Array($),Y=0;Y<$;++Y)for(var ee=T[Y],te=ee.length,J=V[Y]=[],ie,K=0;K<te;++K)(ie=ee[K])&&C.call(ie,ie.__data__,K,ee)&&J.push(ie);return new Selection$1(V,this._parents)}function sparse(C){return new Array(C.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(C,T){this.ownerDocument=C.ownerDocument,this.namespaceURI=C.namespaceURI,this._next=null,this._parent=C,this.__data__=T}EnterNode.prototype={constructor:EnterNode,appendChild:function(C){return this._parent.insertBefore(C,this._next)},insertBefore:function(C,T){return this._parent.insertBefore(C,T)},querySelector:function(C){return this._parent.querySelector(C)},querySelectorAll:function(C){return this._parent.querySelectorAll(C)}};function constant$2(C){return function(){return C}}function bindIndex(C,T,$,V,Y,ee){for(var te=0,J,ie=T.length,K=ee.length;te<K;++te)(J=T[te])?(J.__data__=ee[te],V[te]=J):$[te]=new EnterNode(C,ee[te]);for(;te<ie;++te)(J=T[te])&&(Y[te]=J)}function bindKey(C,T,$,V,Y,ee,te){var J,ie,K=new Map,re=T.length,ne=ee.length,le=new Array(re),ae;for(J=0;J<re;++J)(ie=T[J])&&(le[J]=ae=te.call(ie,ie.__data__,J,T)+"",K.has(ae)?Y[J]=ie:K.set(ae,ie));for(J=0;J<ne;++J)ae=te.call(C,ee[J],J,ee)+"",(ie=K.get(ae))?(V[J]=ie,ie.__data__=ee[J],K.delete(ae)):$[J]=new EnterNode(C,ee[J]);for(J=0;J<re;++J)(ie=T[J])&&K.get(le[J])===ie&&(Y[J]=ie)}function datum(C){return C.__data__}function selection_data(C,T){if(!arguments.length)return Array.from(this,datum);var $=T?bindKey:bindIndex,V=this._parents,Y=this._groups;typeof C!="function"&&(C=constant$2(C));for(var ee=Y.length,te=new Array(ee),J=new Array(ee),ie=new Array(ee),K=0;K<ee;++K){var re=V[K],ne=Y[K],le=ne.length,ae=arraylike(C.call(re,re&&re.__data__,K,V)),se=ae.length,ue=J[K]=new Array(se),de=te[K]=new Array(se),ce=ie[K]=new Array(le);$(re,ne,ue,de,ce,ae,T);for(var be=0,Le=0,ve,ye;be<se;++be)if(ve=ue[be]){for(be>=Le&&(Le=be+1);!(ye=de[Le])&&++Le<se;);ve._next=ye||null}}return te=new Selection$1(te,V),te._enter=J,te._exit=ie,te}function arraylike(C){return typeof C=="object"&&"length"in C?C:Array.from(C)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(C,T,$){var V=this.enter(),Y=this,ee=this.exit();return typeof C=="function"?(V=C(V),V&&(V=V.selection())):V=V.append(C+""),T!=null&&(Y=T(Y),Y&&(Y=Y.selection())),$==null?ee.remove():$(ee),V&&Y?V.merge(Y).order():Y}function selection_merge(C){for(var T=C.selection?C.selection():C,$=this._groups,V=T._groups,Y=$.length,ee=V.length,te=Math.min(Y,ee),J=new Array(Y),ie=0;ie<te;++ie)for(var K=$[ie],re=V[ie],ne=K.length,le=J[ie]=new Array(ne),ae,se=0;se<ne;++se)(ae=K[se]||re[se])&&(le[se]=ae);for(;ie<Y;++ie)J[ie]=$[ie];return new Selection$1(J,this._parents)}function selection_order(){for(var C=this._groups,T=-1,$=C.length;++T<$;)for(var V=C[T],Y=V.length-1,ee=V[Y],te;--Y>=0;)(te=V[Y])&&(ee&&te.compareDocumentPosition(ee)^4&&ee.parentNode.insertBefore(te,ee),ee=te);return this}function selection_sort(C){C||(C=ascending);function T(ne,le){return ne&&le?C(ne.__data__,le.__data__):!ne-!le}for(var $=this._groups,V=$.length,Y=new Array(V),ee=0;ee<V;++ee){for(var te=$[ee],J=te.length,ie=Y[ee]=new Array(J),K,re=0;re<J;++re)(K=te[re])&&(ie[re]=K);ie.sort(T)}return new Selection$1(Y,this._parents).order()}function ascending(C,T){return C<T?-1:C>T?1:C>=T?0:NaN}function selection_call(){var C=arguments[0];return arguments[0]=this,C.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var C=this._groups,T=0,$=C.length;T<$;++T)for(var V=C[T],Y=0,ee=V.length;Y<ee;++Y){var te=V[Y];if(te)return te}return null}function selection_size(){let C=0;for(const T of this)++C;return C}function selection_empty(){return!this.node()}function selection_each(C){for(var T=this._groups,$=0,V=T.length;$<V;++$)for(var Y=T[$],ee=0,te=Y.length,J;ee<te;++ee)(J=Y[ee])&&C.call(J,J.__data__,ee,Y);return this}function attrRemove$1(C){return function(){this.removeAttribute(C)}}function attrRemoveNS$1(C){return function(){this.removeAttributeNS(C.space,C.local)}}function attrConstant$1(C,T){return function(){this.setAttribute(C,T)}}function attrConstantNS$1(C,T){return function(){this.setAttributeNS(C.space,C.local,T)}}function attrFunction$1(C,T){return function(){var $=T.apply(this,arguments);$==null?this.removeAttribute(C):this.setAttribute(C,$)}}function attrFunctionNS$1(C,T){return function(){var $=T.apply(this,arguments);$==null?this.removeAttributeNS(C.space,C.local):this.setAttributeNS(C.space,C.local,$)}}function selection_attr(C,T){var $=namespace(C);if(arguments.length<2){var V=this.node();return $.local?V.getAttributeNS($.space,$.local):V.getAttribute($)}return this.each((T==null?$.local?attrRemoveNS$1:attrRemove$1:typeof T=="function"?$.local?attrFunctionNS$1:attrFunction$1:$.local?attrConstantNS$1:attrConstant$1)($,T))}function defaultView(C){return C.ownerDocument&&C.ownerDocument.defaultView||C.document&&C||C.defaultView}function styleRemove$1(C){return function(){this.style.removeProperty(C)}}function styleConstant$1(C,T,$){return function(){this.style.setProperty(C,T,$)}}function styleFunction$1(C,T,$){return function(){var V=T.apply(this,arguments);V==null?this.style.removeProperty(C):this.style.setProperty(C,V,$)}}function selection_style(C,T,$){return arguments.length>1?this.each((T==null?styleRemove$1:typeof T=="function"?styleFunction$1:styleConstant$1)(C,T,$??"")):styleValue(this.node(),C)}function styleValue(C,T){return C.style.getPropertyValue(T)||defaultView(C).getComputedStyle(C,null).getPropertyValue(T)}function propertyRemove(C){return function(){delete this[C]}}function propertyConstant(C,T){return function(){this[C]=T}}function propertyFunction(C,T){return function(){var $=T.apply(this,arguments);$==null?delete this[C]:this[C]=$}}function selection_property(C,T){return arguments.length>1?this.each((T==null?propertyRemove:typeof T=="function"?propertyFunction:propertyConstant)(C,T)):this.node()[C]}function classArray(C){return C.trim().split(/^|\s+/)}function classList(C){return C.classList||new ClassList(C)}function ClassList(C){this._node=C,this._names=classArray(C.getAttribute("class")||"")}ClassList.prototype={add:function(C){var T=this._names.indexOf(C);T<0&&(this._names.push(C),this._node.setAttribute("class",this._names.join(" ")))},remove:function(C){var T=this._names.indexOf(C);T>=0&&(this._names.splice(T,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(C){return this._names.indexOf(C)>=0}};function classedAdd(C,T){for(var $=classList(C),V=-1,Y=T.length;++V<Y;)$.add(T[V])}function classedRemove(C,T){for(var $=classList(C),V=-1,Y=T.length;++V<Y;)$.remove(T[V])}function classedTrue(C){return function(){classedAdd(this,C)}}function classedFalse(C){return function(){classedRemove(this,C)}}function classedFunction(C,T){return function(){(T.apply(this,arguments)?classedAdd:classedRemove)(this,C)}}function selection_classed(C,T){var $=classArray(C+"");if(arguments.length<2){for(var V=classList(this.node()),Y=-1,ee=$.length;++Y<ee;)if(!V.contains($[Y]))return!1;return!0}return this.each((typeof T=="function"?classedFunction:T?classedTrue:classedFalse)($,T))}function textRemove(){this.textContent=""}function textConstant$1(C){return function(){this.textContent=C}}function textFunction$1(C){return function(){var T=C.apply(this,arguments);this.textContent=T??""}}function selection_text(C){return arguments.length?this.each(C==null?textRemove:(typeof C=="function"?textFunction$1:textConstant$1)(C)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(C){return function(){this.innerHTML=C}}function htmlFunction(C){return function(){var T=C.apply(this,arguments);this.innerHTML=T??""}}function selection_html(C){return arguments.length?this.each(C==null?htmlRemove:(typeof C=="function"?htmlFunction:htmlConstant)(C)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(C){var T=typeof C=="function"?C:creator(C);return this.select(function(){return this.appendChild(T.apply(this,arguments))})}function constantNull(){return null}function selection_insert(C,T){var $=typeof C=="function"?C:creator(C),V=T==null?constantNull:typeof T=="function"?T:selector(T);return this.select(function(){return this.insertBefore($.apply(this,arguments),V.apply(this,arguments)||null)})}function remove(){var C=this.parentNode;C&&C.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var C=this.cloneNode(!1),T=this.parentNode;return T?T.insertBefore(C,this.nextSibling):C}function selection_cloneDeep(){var C=this.cloneNode(!0),T=this.parentNode;return T?T.insertBefore(C,this.nextSibling):C}function selection_clone(C){return this.select(C?selection_cloneDeep:selection_cloneShallow)}function selection_datum(C){return arguments.length?this.property("__data__",C):this.node().__data__}function contextListener(C){return function(T){C.call(this,T,this.__data__)}}function parseTypenames(C){return C.trim().split(/^|\s+/).map(function(T){var $="",V=T.indexOf(".");return V>=0&&($=T.slice(V+1),T=T.slice(0,V)),{type:T,name:$}})}function onRemove(C){return function(){var T=this.__on;if(T){for(var $=0,V=-1,Y=T.length,ee;$<Y;++$)ee=T[$],(!C.type||ee.type===C.type)&&ee.name===C.name?this.removeEventListener(ee.type,ee.listener,ee.options):T[++V]=ee;++V?T.length=V:delete this.__on}}}function onAdd(C,T,$){return function(){var V=this.__on,Y,ee=contextListener(T);if(V){for(var te=0,J=V.length;te<J;++te)if((Y=V[te]).type===C.type&&Y.name===C.name){this.removeEventListener(Y.type,Y.listener,Y.options),this.addEventListener(Y.type,Y.listener=ee,Y.options=$),Y.value=T;return}}this.addEventListener(C.type,ee,$),Y={type:C.type,name:C.name,value:T,listener:ee,options:$},V?V.push(Y):this.__on=[Y]}}function selection_on(C,T,$){var V=parseTypenames(C+""),Y,ee=V.length,te;if(arguments.length<2){var J=this.node().__on;if(J){for(var ie=0,K=J.length,re;ie<K;++ie)for(Y=0,re=J[ie];Y<ee;++Y)if((te=V[Y]).type===re.type&&te.name===re.name)return re.value}return}for(J=T?onAdd:onRemove,Y=0;Y<ee;++Y)this.each(J(V[Y],T,$));return this}function dispatchEvent(C,T,$){var V=defaultView(C),Y=V.CustomEvent;typeof Y=="function"?Y=new Y(T,$):(Y=V.document.createEvent("Event"),$?(Y.initEvent(T,$.bubbles,$.cancelable),Y.detail=$.detail):Y.initEvent(T,!1,!1)),C.dispatchEvent(Y)}function dispatchConstant(C,T){return function(){return dispatchEvent(this,C,T)}}function dispatchFunction(C,T){return function(){return dispatchEvent(this,C,T.apply(this,arguments))}}function selection_dispatch(C,T){return this.each((typeof T=="function"?dispatchFunction:dispatchConstant)(C,T))}function*selection_iterator(){for(var C=this._groups,T=0,$=C.length;T<$;++T)for(var V=C[T],Y=0,ee=V.length,te;Y<ee;++Y)(te=V[Y])&&(yield te)}var root$2=[null];function Selection$1(C,T){this._groups=C,this._parents=T}function selection(){return new Selection$1([[document.documentElement]],root$2)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(C){return typeof C=="string"?new Selection$1([[document.querySelector(C)]],[document.documentElement]):new Selection$1([[C]],root$2)}function define(C,T,$){C.prototype=T.prototype=$,$.constructor=C}function extend$2(C,T){var $=Object.create(C.prototype);for(var V in T)$[V]=T[V];return $}function Color$2(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color$2,color,{copy(C){return Object.assign(new this.constructor,this,C)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(C){var T,$;return C=(C+"").trim().toLowerCase(),(T=reHex.exec(C))?($=T[1].length,T=parseInt(T[1],16),$===6?rgbn(T):$===3?new Rgb(T>>8&15|T>>4&240,T>>4&15|T&240,(T&15)<<4|T&15,1):$===8?rgba$2(T>>24&255,T>>16&255,T>>8&255,(T&255)/255):$===4?rgba$2(T>>12&15|T>>8&240,T>>8&15|T>>4&240,T>>4&15|T&240,((T&15)<<4|T&15)/255):null):(T=reRgbInteger.exec(C))?new Rgb(T[1],T[2],T[3],1):(T=reRgbPercent.exec(C))?new Rgb(T[1]*255/100,T[2]*255/100,T[3]*255/100,1):(T=reRgbaInteger.exec(C))?rgba$2(T[1],T[2],T[3],T[4]):(T=reRgbaPercent.exec(C))?rgba$2(T[1]*255/100,T[2]*255/100,T[3]*255/100,T[4]):(T=reHslPercent.exec(C))?hsla(T[1],T[2]/100,T[3]/100,1):(T=reHslaPercent.exec(C))?hsla(T[1],T[2]/100,T[3]/100,T[4]):named.hasOwnProperty(C)?rgbn(named[C]):C==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(C){return new Rgb(C>>16&255,C>>8&255,C&255,1)}function rgba$2(C,T,$,V){return V<=0&&(C=T=$=NaN),new Rgb(C,T,$,V)}function rgbConvert(C){return C instanceof Color$2||(C=color(C)),C?(C=C.rgb(),new Rgb(C.r,C.g,C.b,C.opacity)):new Rgb}function rgb(C,T,$,V){return arguments.length===1?rgbConvert(C):new Rgb(C,T,$,V??1)}function Rgb(C,T,$,V){this.r=+C,this.g=+T,this.b=+$,this.opacity=+V}define(Rgb,rgb,extend$2(Color$2,{brighter(C){return C=C==null?brighter:Math.pow(brighter,C),new Rgb(this.r*C,this.g*C,this.b*C,this.opacity)},darker(C){return C=C==null?darker:Math.pow(darker,C),new Rgb(this.r*C,this.g*C,this.b*C,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const C=clampa(this.opacity);return`${C===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${C===1?")":`, ${C})`}`}function clampa(C){return isNaN(C)?1:Math.max(0,Math.min(1,C))}function clampi(C){return Math.max(0,Math.min(255,Math.round(C)||0))}function hex(C){return C=clampi(C),(C<16?"0":"")+C.toString(16)}function hsla(C,T,$,V){return V<=0?C=T=$=NaN:$<=0||$>=1?C=T=NaN:T<=0&&(C=NaN),new Hsl(C,T,$,V)}function hslConvert(C){if(C instanceof Hsl)return new Hsl(C.h,C.s,C.l,C.opacity);if(C instanceof Color$2||(C=color(C)),!C)return new Hsl;if(C instanceof Hsl)return C;C=C.rgb();var T=C.r/255,$=C.g/255,V=C.b/255,Y=Math.min(T,$,V),ee=Math.max(T,$,V),te=NaN,J=ee-Y,ie=(ee+Y)/2;return J?(T===ee?te=($-V)/J+($<V)*6:$===ee?te=(V-T)/J+2:te=(T-$)/J+4,J/=ie<.5?ee+Y:2-ee-Y,te*=60):J=ie>0&&ie<1?0:te,new Hsl(te,J,ie,C.opacity)}function hsl(C,T,$,V){return arguments.length===1?hslConvert(C):new Hsl(C,T,$,V??1)}function Hsl(C,T,$,V){this.h=+C,this.s=+T,this.l=+$,this.opacity=+V}define(Hsl,hsl,extend$2(Color$2,{brighter(C){return C=C==null?brighter:Math.pow(brighter,C),new Hsl(this.h,this.s,this.l*C,this.opacity)},darker(C){return C=C==null?darker:Math.pow(darker,C),new Hsl(this.h,this.s,this.l*C,this.opacity)},rgb(){var C=this.h%360+(this.h<0)*360,T=isNaN(C)||isNaN(this.s)?0:this.s,$=this.l,V=$+($<.5?$:1-$)*T,Y=2*$-V;return new Rgb(hsl2rgb(C>=240?C-240:C+120,Y,V),hsl2rgb(C,Y,V),hsl2rgb(C<120?C+240:C-120,Y,V),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const C=clampa(this.opacity);return`${C===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${C===1?")":`, ${C})`}`}}));function clamph(C){return C=(C||0)%360,C<0?C+360:C}function clampt(C){return Math.max(0,Math.min(1,C||0))}function hsl2rgb(C,T,$){return(C<60?T+($-T)*C/60:C<180?$:C<240?T+($-T)*(240-C)/60:T)*255}const constant$1=C=>()=>C;function linear(C,T){return function($){return C+$*T}}function exponential(C,T,$){return C=Math.pow(C,$),T=Math.pow(T,$)-C,$=1/$,function(V){return Math.pow(C+V*T,$)}}function hue(C,T){var $=T-C;return $?linear(C,$>180||$<-180?$-360*Math.round($/360):$):constant$1(isNaN(C)?T:C)}function gamma(C){return(C=+C)==1?nogamma:function(T,$){return $-T?exponential(T,$,C):constant$1(isNaN(T)?$:T)}}function nogamma(C,T){var $=T-C;return $?linear(C,$):constant$1(isNaN(C)?T:C)}const interpolateRgb=function C(T){var $=gamma(T);function V(Y,ee){var te=$((Y=rgb(Y)).r,(ee=rgb(ee)).r),J=$(Y.g,ee.g),ie=$(Y.b,ee.b),K=nogamma(Y.opacity,ee.opacity);return function(re){return Y.r=te(re),Y.g=J(re),Y.b=ie(re),Y.opacity=K(re),Y+""}}return V.gamma=C,V}(1);function interpolateNumber(C,T){return C=+C,T=+T,function($){return C*(1-$)+T*$}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(C){return function(){return C}}function one$1(C){return function(T){return C(T)+""}}function interpolateString(C,T){var $=reA.lastIndex=reB.lastIndex=0,V,Y,ee,te=-1,J=[],ie=[];for(C=C+"",T=T+"";(V=reA.exec(C))&&(Y=reB.exec(T));)(ee=Y.index)>$&&(ee=T.slice($,ee),J[te]?J[te]+=ee:J[++te]=ee),(V=V[0])===(Y=Y[0])?J[te]?J[te]+=Y:J[++te]=Y:(J[++te]=null,ie.push({i:te,x:interpolateNumber(V,Y)})),$=reB.lastIndex;return $<T.length&&(ee=T.slice($),J[te]?J[te]+=ee:J[++te]=ee),J.length<2?ie[0]?one$1(ie[0].x):zero(T):(T=ie.length,function(K){for(var re=0,ne;re<T;++re)J[(ne=ie[re]).i]=ne.x(K);return J.join("")})}var degrees=180/Math.PI,identity$1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(C,T,$,V,Y,ee){var te,J,ie;return(te=Math.sqrt(C*C+T*T))&&(C/=te,T/=te),(ie=C*$+T*V)&&($-=C*ie,V-=T*ie),(J=Math.sqrt($*$+V*V))&&($/=J,V/=J,ie/=J),C*V<T*$&&(C=-C,T=-T,ie=-ie,te=-te),{translateX:Y,translateY:ee,rotate:Math.atan2(T,C)*degrees,skewX:Math.atan(ie)*degrees,scaleX:te,scaleY:J}}var svgNode;function parseCss(C){const T=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(C+"");return T.isIdentity?identity$1:decompose(T.a,T.b,T.c,T.d,T.e,T.f)}function parseSvg(C){return C==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",C),!(C=svgNode.transform.baseVal.consolidate()))?identity$1:(C=C.matrix,decompose(C.a,C.b,C.c,C.d,C.e,C.f))}function interpolateTransform(C,T,$,V){function Y(K){return K.length?K.pop()+" ":""}function ee(K,re,ne,le,ae,se){if(K!==ne||re!==le){var ue=ae.push("translate(",null,T,null,$);se.push({i:ue-4,x:interpolateNumber(K,ne)},{i:ue-2,x:interpolateNumber(re,le)})}else(ne||le)&&ae.push("translate("+ne+T+le+$)}function te(K,re,ne,le){K!==re?(K-re>180?re+=360:re-K>180&&(K+=360),le.push({i:ne.push(Y(ne)+"rotate(",null,V)-2,x:interpolateNumber(K,re)})):re&&ne.push(Y(ne)+"rotate("+re+V)}function J(K,re,ne,le){K!==re?le.push({i:ne.push(Y(ne)+"skewX(",null,V)-2,x:interpolateNumber(K,re)}):re&&ne.push(Y(ne)+"skewX("+re+V)}function ie(K,re,ne,le,ae,se){if(K!==ne||re!==le){var ue=ae.push(Y(ae)+"scale(",null,",",null,")");se.push({i:ue-4,x:interpolateNumber(K,ne)},{i:ue-2,x:interpolateNumber(re,le)})}else(ne!==1||le!==1)&&ae.push(Y(ae)+"scale("+ne+","+le+")")}return function(K,re){var ne=[],le=[];return K=C(K),re=C(re),ee(K.translateX,K.translateY,re.translateX,re.translateY,ne,le),te(K.rotate,re.rotate,ne,le),J(K.skewX,re.skewX,ne,le),ie(K.scaleX,K.scaleY,re.scaleX,re.scaleY,ne,le),K=re=null,function(ae){for(var se=-1,ue=le.length,de;++se<ue;)ne[(de=le[se]).i]=de.x(ae);return ne.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(C){setTimeout(C,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(C,T,$){if(typeof C!="function")throw new TypeError("callback is not a function");$=($==null?now():+$)+(T==null?0:+T),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=C,this._time=$,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(C,T,$){var V=new Timer;return V.restart(C,T,$),V}function timerFlush(){now(),++frame;for(var C=taskHead,T;C;)(T=clockNow-C._time)>=0&&C._call.call(void 0,T),C=C._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var C=clock.now(),T=C-clockLast;T>pokeDelay&&(clockSkew-=T,clockLast=C)}function nap(){for(var C,T=taskHead,$,V=1/0;T;)T._call?(V>T._time&&(V=T._time),C=T,T=T._next):($=T._next,T._next=null,T=C?C._next=$:taskHead=$);taskTail=C,sleep(V)}function sleep(C){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var T=C-clockNow;T>24?(C<1/0&&(timeout$1=setTimeout(wake,C-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(C,T,$){var V=new Timer;return T=T==null?0:+T,V.restart(Y=>{V.stop(),C(Y+T)},T,$),V}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(C,T,$,V,Y,ee){var te=C.__transition;if(!te)C.__transition={};else if($ in te)return;create$1(C,$,{name:T,index:V,group:Y,on:emptyOn,tween:emptyTween,time:ee.time,delay:ee.delay,duration:ee.duration,ease:ee.ease,timer:null,state:CREATED})}function init$6(C,T){var $=get$2(C,T);if($.state>CREATED)throw new Error("too late; already scheduled");return $}function set$2(C,T){var $=get$2(C,T);if($.state>STARTED)throw new Error("too late; already running");return $}function get$2(C,T){var $=C.__transition;if(!$||!($=$[T]))throw new Error("transition not found");return $}function create$1(C,T,$){var V=C.__transition,Y;V[T]=$,$.timer=timer(ee,0,$.time);function ee(K){$.state=SCHEDULED,$.timer.restart(te,$.delay,$.time),$.delay<=K&&te(K-$.delay)}function te(K){var re,ne,le,ae;if($.state!==SCHEDULED)return ie();for(re in V)if(ae=V[re],ae.name===$.name){if(ae.state===STARTED)return timeout(te);ae.state===RUNNING?(ae.state=ENDED,ae.timer.stop(),ae.on.call("interrupt",C,C.__data__,ae.index,ae.group),delete V[re]):+re<T&&(ae.state=ENDED,ae.timer.stop(),ae.on.call("cancel",C,C.__data__,ae.index,ae.group),delete V[re])}if(timeout(function(){$.state===STARTED&&($.state=RUNNING,$.timer.restart(J,$.delay,$.time),J(K))}),$.state=STARTING,$.on.call("start",C,C.__data__,$.index,$.group),$.state===STARTING){for($.state=STARTED,Y=new Array(le=$.tween.length),re=0,ne=-1;re<le;++re)(ae=$.tween[re].value.call(C,C.__data__,$.index,$.group))&&(Y[++ne]=ae);Y.length=ne+1}}function J(K){for(var re=K<$.duration?$.ease.call(null,K/$.duration):($.timer.restart(ie),$.state=ENDING,1),ne=-1,le=Y.length;++ne<le;)Y[ne].call(C,re);$.state===ENDING&&($.on.call("end",C,C.__data__,$.index,$.group),ie())}function ie(){$.state=ENDED,$.timer.stop(),delete V[T];for(var K in V)return;delete C.__transition}}function interrupt(C,T){var $=C.__transition,V,Y,ee=!0,te;if($){T=T==null?null:T+"";for(te in $){if((V=$[te]).name!==T){ee=!1;continue}Y=V.state>STARTING&&V.state<ENDING,V.state=ENDED,V.timer.stop(),V.on.call(Y?"interrupt":"cancel",C,C.__data__,V.index,V.group),delete $[te]}ee&&delete C.__transition}}function selection_interrupt(C){return this.each(function(){interrupt(this,C)})}function tweenRemove(C,T){var $,V;return function(){var Y=set$2(this,C),ee=Y.tween;if(ee!==$){V=$=ee;for(var te=0,J=V.length;te<J;++te)if(V[te].name===T){V=V.slice(),V.splice(te,1);break}}Y.tween=V}}function tweenFunction(C,T,$){var V,Y;if(typeof $!="function")throw new Error;return function(){var ee=set$2(this,C),te=ee.tween;if(te!==V){Y=(V=te).slice();for(var J={name:T,value:$},ie=0,K=Y.length;ie<K;++ie)if(Y[ie].name===T){Y[ie]=J;break}ie===K&&Y.push(J)}ee.tween=Y}}function transition_tween(C,T){var $=this._id;if(C+="",arguments.length<2){for(var V=get$2(this.node(),$).tween,Y=0,ee=V.length,te;Y<ee;++Y)if((te=V[Y]).name===C)return te.value;return null}return this.each((T==null?tweenRemove:tweenFunction)($,C,T))}function tweenValue(C,T,$){var V=C._id;return C.each(function(){var Y=set$2(this,V);(Y.value||(Y.value={}))[T]=$.apply(this,arguments)}),function(Y){return get$2(Y,V).value[T]}}function interpolate(C,T){var $;return(typeof T=="number"?interpolateNumber:T instanceof color?interpolateRgb:($=color(T))?(T=$,interpolateRgb):interpolateString)(C,T)}function attrRemove(C){return function(){this.removeAttribute(C)}}function attrRemoveNS(C){return function(){this.removeAttributeNS(C.space,C.local)}}function attrConstant(C,T,$){var V,Y=$+"",ee;return function(){var te=this.getAttribute(C);return te===Y?null:te===V?ee:ee=T(V=te,$)}}function attrConstantNS(C,T,$){var V,Y=$+"",ee;return function(){var te=this.getAttributeNS(C.space,C.local);return te===Y?null:te===V?ee:ee=T(V=te,$)}}function attrFunction(C,T,$){var V,Y,ee;return function(){var te,J=$(this),ie;return J==null?void this.removeAttribute(C):(te=this.getAttribute(C),ie=J+"",te===ie?null:te===V&&ie===Y?ee:(Y=ie,ee=T(V=te,J)))}}function attrFunctionNS(C,T,$){var V,Y,ee;return function(){var te,J=$(this),ie;return J==null?void this.removeAttributeNS(C.space,C.local):(te=this.getAttributeNS(C.space,C.local),ie=J+"",te===ie?null:te===V&&ie===Y?ee:(Y=ie,ee=T(V=te,J)))}}function transition_attr(C,T){var $=namespace(C),V=$==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(C,typeof T=="function"?($.local?attrFunctionNS:attrFunction)($,V,tweenValue(this,"attr."+C,T)):T==null?($.local?attrRemoveNS:attrRemove)($):($.local?attrConstantNS:attrConstant)($,V,T))}function attrInterpolate(C,T){return function($){this.setAttribute(C,T.call(this,$))}}function attrInterpolateNS(C,T){return function($){this.setAttributeNS(C.space,C.local,T.call(this,$))}}function attrTweenNS(C,T){var $,V;function Y(){var ee=T.apply(this,arguments);return ee!==V&&($=(V=ee)&&attrInterpolateNS(C,ee)),$}return Y._value=T,Y}function attrTween(C,T){var $,V;function Y(){var ee=T.apply(this,arguments);return ee!==V&&($=(V=ee)&&attrInterpolate(C,ee)),$}return Y._value=T,Y}function transition_attrTween(C,T){var $="attr."+C;if(arguments.length<2)return($=this.tween($))&&$._value;if(T==null)return this.tween($,null);if(typeof T!="function")throw new Error;var V=namespace(C);return this.tween($,(V.local?attrTweenNS:attrTween)(V,T))}function delayFunction(C,T){return function(){init$6(this,C).delay=+T.apply(this,arguments)}}function delayConstant(C,T){return T=+T,function(){init$6(this,C).delay=T}}function transition_delay(C){var T=this._id;return arguments.length?this.each((typeof C=="function"?delayFunction:delayConstant)(T,C)):get$2(this.node(),T).delay}function durationFunction(C,T){return function(){set$2(this,C).duration=+T.apply(this,arguments)}}function durationConstant(C,T){return T=+T,function(){set$2(this,C).duration=T}}function transition_duration(C){var T=this._id;return arguments.length?this.each((typeof C=="function"?durationFunction:durationConstant)(T,C)):get$2(this.node(),T).duration}function easeConstant(C,T){if(typeof T!="function")throw new Error;return function(){set$2(this,C).ease=T}}function transition_ease(C){var T=this._id;return arguments.length?this.each(easeConstant(T,C)):get$2(this.node(),T).ease}function easeVarying(C,T){return function(){var $=T.apply(this,arguments);if(typeof $!="function")throw new Error;set$2(this,C).ease=$}}function transition_easeVarying(C){if(typeof C!="function")throw new Error;return this.each(easeVarying(this._id,C))}function transition_filter(C){typeof C!="function"&&(C=matcher(C));for(var T=this._groups,$=T.length,V=new Array($),Y=0;Y<$;++Y)for(var ee=T[Y],te=ee.length,J=V[Y]=[],ie,K=0;K<te;++K)(ie=ee[K])&&C.call(ie,ie.__data__,K,ee)&&J.push(ie);return new Transition$2(V,this._parents,this._name,this._id)}function transition_merge(C){if(C._id!==this._id)throw new Error;for(var T=this._groups,$=C._groups,V=T.length,Y=$.length,ee=Math.min(V,Y),te=new Array(V),J=0;J<ee;++J)for(var ie=T[J],K=$[J],re=ie.length,ne=te[J]=new Array(re),le,ae=0;ae<re;++ae)(le=ie[ae]||K[ae])&&(ne[ae]=le);for(;J<V;++J)te[J]=T[J];return new Transition$2(te,this._parents,this._name,this._id)}function start(C){return(C+"").trim().split(/^|\s+/).every(function(T){var $=T.indexOf(".");return $>=0&&(T=T.slice(0,$)),!T||T==="start"})}function onFunction(C,T,$){var V,Y,ee=start(T)?init$6:set$2;return function(){var te=ee(this,C),J=te.on;J!==V&&(Y=(V=J).copy()).on(T,$),te.on=Y}}function transition_on(C,T){var $=this._id;return arguments.length<2?get$2(this.node(),$).on.on(C):this.each(onFunction($,C,T))}function removeFunction(C){return function(){var T=this.parentNode;for(var $ in this.__transition)if(+$!==C)return;T&&T.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(C){var T=this._name,$=this._id;typeof C!="function"&&(C=selector(C));for(var V=this._groups,Y=V.length,ee=new Array(Y),te=0;te<Y;++te)for(var J=V[te],ie=J.length,K=ee[te]=new Array(ie),re,ne,le=0;le<ie;++le)(re=J[le])&&(ne=C.call(re,re.__data__,le,J))&&("__data__"in re&&(ne.__data__=re.__data__),K[le]=ne,schedule(K[le],T,$,le,K,get$2(re,$)));return new Transition$2(ee,this._parents,T,$)}function transition_selectAll(C){var T=this._name,$=this._id;typeof C!="function"&&(C=selectorAll(C));for(var V=this._groups,Y=V.length,ee=[],te=[],J=0;J<Y;++J)for(var ie=V[J],K=ie.length,re,ne=0;ne<K;++ne)if(re=ie[ne]){for(var le=C.call(re,re.__data__,ne,ie),ae,se=get$2(re,$),ue=0,de=le.length;ue<de;++ue)(ae=le[ue])&&schedule(ae,T,$,ue,le,se);ee.push(le),te.push(re)}return new Transition$2(ee,te,T,$)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(C,T){var $,V,Y;return function(){var ee=styleValue(this,C),te=(this.style.removeProperty(C),styleValue(this,C));return ee===te?null:ee===$&&te===V?Y:Y=T($=ee,V=te)}}function styleRemove(C){return function(){this.style.removeProperty(C)}}function styleConstant(C,T,$){var V,Y=$+"",ee;return function(){var te=styleValue(this,C);return te===Y?null:te===V?ee:ee=T(V=te,$)}}function styleFunction(C,T,$){var V,Y,ee;return function(){var te=styleValue(this,C),J=$(this),ie=J+"";return J==null&&(ie=J=(this.style.removeProperty(C),styleValue(this,C))),te===ie?null:te===V&&ie===Y?ee:(Y=ie,ee=T(V=te,J))}}function styleMaybeRemove(C,T){var $,V,Y,ee="style."+T,te="end."+ee,J;return function(){var ie=set$2(this,C),K=ie.on,re=ie.value[ee]==null?J||(J=styleRemove(T)):void 0;(K!==$||Y!==re)&&(V=($=K).copy()).on(te,Y=re),ie.on=V}}function transition_style(C,T,$){var V=(C+="")=="transform"?interpolateTransformCss:interpolate;return T==null?this.styleTween(C,styleNull(C,V)).on("end.style."+C,styleRemove(C)):typeof T=="function"?this.styleTween(C,styleFunction(C,V,tweenValue(this,"style."+C,T))).each(styleMaybeRemove(this._id,C)):this.styleTween(C,styleConstant(C,V,T),$).on("end.style."+C,null)}function styleInterpolate(C,T,$){return function(V){this.style.setProperty(C,T.call(this,V),$)}}function styleTween(C,T,$){var V,Y;function ee(){var te=T.apply(this,arguments);return te!==Y&&(V=(Y=te)&&styleInterpolate(C,te,$)),V}return ee._value=T,ee}function transition_styleTween(C,T,$){var V="style."+(C+="");if(arguments.length<2)return(V=this.tween(V))&&V._value;if(T==null)return this.tween(V,null);if(typeof T!="function")throw new Error;return this.tween(V,styleTween(C,T,$??""))}function textConstant(C){return function(){this.textContent=C}}function textFunction(C){return function(){var T=C(this);this.textContent=T??""}}function transition_text(C){return this.tween("text",typeof C=="function"?textFunction(tweenValue(this,"text",C)):textConstant(C==null?"":C+""))}function textInterpolate(C){return function(T){this.textContent=C.call(this,T)}}function textTween(C){var T,$;function V(){var Y=C.apply(this,arguments);return Y!==$&&(T=($=Y)&&textInterpolate(Y)),T}return V._value=C,V}function transition_textTween(C){var T="text";if(arguments.length<1)return(T=this.tween(T))&&T._value;if(C==null)return this.tween(T,null);if(typeof C!="function")throw new Error;return this.tween(T,textTween(C))}function transition_transition(){for(var C=this._name,T=this._id,$=newId(),V=this._groups,Y=V.length,ee=0;ee<Y;++ee)for(var te=V[ee],J=te.length,ie,K=0;K<J;++K)if(ie=te[K]){var re=get$2(ie,T);schedule(ie,C,$,K,te,{time:re.time+re.delay+re.duration,delay:0,duration:re.duration,ease:re.ease})}return new Transition$2(V,this._parents,C,$)}function transition_end(){var C,T,$=this,V=$._id,Y=$.size();return new Promise(function(ee,te){var J={value:te},ie={value:function(){--Y===0&&ee()}};$.each(function(){var K=set$2(this,V),re=K.on;re!==C&&(T=(C=re).copy(),T._.cancel.push(J),T._.interrupt.push(J),T._.end.push(ie)),K.on=T}),Y===0&&ee()})}var id$k=0;function Transition$2(C,T,$,V){this._groups=C,this._parents=T,this._name=$,this._id=V}function newId(){return++id$k}var selection_prototype=selection.prototype;Transition$2.prototype={constructor:Transition$2,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(C){return((C*=2)<=1?C*C*C:(C-=2)*C*C+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(C,T){for(var $;!($=C.__transition)||!($=$[T]);)if(!(C=C.parentNode))throw new Error(`transition ${T} not found`);return $}function selection_transition(C){var T,$;C instanceof Transition$2?(T=C._id,C=C._name):(T=newId(),($=defaultTiming).time=now(),C=C==null?null:C+"");for(var V=this._groups,Y=V.length,ee=0;ee<Y;++ee)for(var te=V[ee],J=te.length,ie,K=0;K<J;++K)(ie=te[K])&&schedule(ie,C,T,K,te,$||inherit(ie,T));return new Transition$2(V,this._parents,C,T)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const abs=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(C){return C>1?0:C<-1?pi:Math.acos(C)}function asin(C){return C>=1?halfPi:C<=-1?-halfPi:Math.asin(C)}function Linear(C){this._context=C}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(C,T){switch(C=+C,T=+T,this._point){case 0:this._point=1,this._line?this._context.lineTo(C,T):this._context.moveTo(C,T);break;case 1:this._point=2;default:this._context.lineTo(C,T);break}}};function curveLinear(C){return new Linear(C)}class Bump{constructor(T,$){this._context=T,this._x=$}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(T,$){switch(T=+T,$=+$,this._point){case 0:{this._point=1,this._line?this._context.lineTo(T,$):this._context.moveTo(T,$);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+T)/2,this._y0,this._x0,$,T,$):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+$)/2,T,this._y0,T,$);break}}this._x0=T,this._y0=$}}function bumpX(C){return new Bump(C,!0)}function bumpY(C){return new Bump(C,!1)}function noop$2(){}function point$3(C,T,$){C._context.bezierCurveTo((2*C._x0+C._x1)/3,(2*C._y0+C._y1)/3,(C._x0+2*C._x1)/3,(C._y0+2*C._y1)/3,(C._x0+4*C._x1+T)/6,(C._y0+4*C._y1+$)/6)}function Basis(C){this._context=C}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(C,T){switch(C=+C,T=+T,this._point){case 0:this._point=1,this._line?this._context.lineTo(C,T):this._context.moveTo(C,T);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$3(this,C,T);break}this._x0=this._x1,this._x1=C,this._y0=this._y1,this._y1=T}};function curveBasis(C){return new Basis(C)}function BasisClosed(C){this._context=C}BasisClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(C,T){switch(C=+C,T=+T,this._point){case 0:this._point=1,this._x2=C,this._y2=T;break;case 1:this._point=2,this._x3=C,this._y3=T;break;case 2:this._point=3,this._x4=C,this._y4=T,this._context.moveTo((this._x0+4*this._x1+C)/6,(this._y0+4*this._y1+T)/6);break;default:point$3(this,C,T);break}this._x0=this._x1,this._x1=C,this._y0=this._y1,this._y1=T}};function curveBasisClosed(C){return new BasisClosed(C)}function BasisOpen(C){this._context=C}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(C,T){switch(C=+C,T=+T,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var $=(this._x0+4*this._x1+C)/6,V=(this._y0+4*this._y1+T)/6;this._line?this._context.lineTo($,V):this._context.moveTo($,V);break;case 3:this._point=4;default:point$3(this,C,T);break}this._x0=this._x1,this._x1=C,this._y0=this._y1,this._y1=T}};function curveBasisOpen(C){return new BasisOpen(C)}function Bundle(C,T){this._basis=new Basis(C),this._beta=T}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var C=this._x,T=this._y,$=C.length-1;if($>0)for(var V=C[0],Y=T[0],ee=C[$]-V,te=T[$]-Y,J=-1,ie;++J<=$;)ie=J/$,this._basis.point(this._beta*C[J]+(1-this._beta)*(V+ie*ee),this._beta*T[J]+(1-this._beta)*(Y+ie*te));this._x=this._y=null,this._basis.lineEnd()},point:function(C,T){this._x.push(+C),this._y.push(+T)}};const curveBundle=function C(T){function $(V){return T===1?new Basis(V):new Bundle(V,T)}return $.beta=function(V){return C(+V)},$}(.85);function point$2(C,T,$){C._context.bezierCurveTo(C._x1+C._k*(C._x2-C._x0),C._y1+C._k*(C._y2-C._y0),C._x2+C._k*(C._x1-T),C._y2+C._k*(C._y1-$),C._x2,C._y2)}function Cardinal(C,T){this._context=C,this._k=(1-T)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(C,T){switch(C=+C,T=+T,this._point){case 0:this._point=1,this._line?this._context.lineTo(C,T):this._context.moveTo(C,T);break;case 1:this._point=2,this._x1=C,this._y1=T;break;case 2:this._point=3;default:point$2(this,C,T);break}this._x0=this._x1,this._x1=this._x2,this._x2=C,this._y0=this._y1,this._y1=this._y2,this._y2=T}};const curveCardinal=function C(T){function $(V){return new Cardinal(V,T)}return $.tension=function(V){return C(+V)},$}(0);function CardinalClosed(C,T){this._context=C,this._k=(1-T)/6}CardinalClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(C,T){switch(C=+C,T=+T,this._point){case 0:this._point=1,this._x3=C,this._y3=T;break;case 1:this._point=2,this._context.moveTo(this._x4=C,this._y4=T);break;case 2:this._point=3,this._x5=C,this._y5=T;break;default:point$2(this,C,T);break}this._x0=this._x1,this._x1=this._x2,this._x2=C,this._y0=this._y1,this._y1=this._y2,this._y2=T}};const curveCardinalClosed=function C(T){function $(V){return new CardinalClosed(V,T)}return $.tension=function(V){return C(+V)},$}(0);function CardinalOpen(C,T){this._context=C,this._k=(1-T)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(C,T){switch(C=+C,T=+T,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,C,T);break}this._x0=this._x1,this._x1=this._x2,this._x2=C,this._y0=this._y1,this._y1=this._y2,this._y2=T}};const curveCardinalOpen=function C(T){function $(V){return new CardinalOpen(V,T)}return $.tension=function(V){return C(+V)},$}(0);function point$1(C,T,$){var V=C._x1,Y=C._y1,ee=C._x2,te=C._y2;if(C._l01_a>epsilon){var J=2*C._l01_2a+3*C._l01_a*C._l12_a+C._l12_2a,ie=3*C._l01_a*(C._l01_a+C._l12_a);V=(V*J-C._x0*C._l12_2a+C._x2*C._l01_2a)/ie,Y=(Y*J-C._y0*C._l12_2a+C._y2*C._l01_2a)/ie}if(C._l23_a>epsilon){var K=2*C._l23_2a+3*C._l23_a*C._l12_a+C._l12_2a,re=3*C._l23_a*(C._l23_a+C._l12_a);ee=(ee*K+C._x1*C._l23_2a-T*C._l12_2a)/re,te=(te*K+C._y1*C._l23_2a-$*C._l12_2a)/re}C._context.bezierCurveTo(V,Y,ee,te,C._x2,C._y2)}function CatmullRom(C,T){this._context=C,this._alpha=T}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(C,T){if(C=+C,T=+T,this._point){var $=this._x2-C,V=this._y2-T;this._l23_a=Math.sqrt(this._l23_2a=Math.pow($*$+V*V,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(C,T):this._context.moveTo(C,T);break;case 1:this._point=2;break;case 2:this._point=3;default:point$1(this,C,T);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=C,this._y0=this._y1,this._y1=this._y2,this._y2=T}};const curveCatmullRom=function C(T){function $(V){return T?new CatmullRom(V,T):new Cardinal(V,0)}return $.alpha=function(V){return C(+V)},$}(.5);function CatmullRomClosed(C,T){this._context=C,this._alpha=T}CatmullRomClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(C,T){if(C=+C,T=+T,this._point){var $=this._x2-C,V=this._y2-T;this._l23_a=Math.sqrt(this._l23_2a=Math.pow($*$+V*V,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=C,this._y3=T;break;case 1:this._point=2,this._context.moveTo(this._x4=C,this._y4=T);break;case 2:this._point=3,this._x5=C,this._y5=T;break;default:point$1(this,C,T);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=C,this._y0=this._y1,this._y1=this._y2,this._y2=T}};const curveCatmullRomClosed=function C(T){function $(V){return T?new CatmullRomClosed(V,T):new CardinalClosed(V,0)}return $.alpha=function(V){return C(+V)},$}(.5);function CatmullRomOpen(C,T){this._context=C,this._alpha=T}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(C,T){if(C=+C,T=+T,this._point){var $=this._x2-C,V=this._y2-T;this._l23_a=Math.sqrt(this._l23_2a=Math.pow($*$+V*V,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,C,T);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=C,this._y0=this._y1,this._y1=this._y2,this._y2=T}};const curveCatmullRomOpen=function C(T){function $(V){return T?new CatmullRomOpen(V,T):new CardinalOpen(V,0)}return $.alpha=function(V){return C(+V)},$}(.5);function LinearClosed(C){this._context=C}LinearClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(C,T){C=+C,T=+T,this._point?this._context.lineTo(C,T):(this._point=1,this._context.moveTo(C,T))}};function curveLinearClosed(C){return new LinearClosed(C)}function sign(C){return C<0?-1:1}function slope3(C,T,$){var V=C._x1-C._x0,Y=T-C._x1,ee=(C._y1-C._y0)/(V||Y<0&&-0),te=($-C._y1)/(Y||V<0&&-0),J=(ee*Y+te*V)/(V+Y);return(sign(ee)+sign(te))*Math.min(Math.abs(ee),Math.abs(te),.5*Math.abs(J))||0}function slope2(C,T){var $=C._x1-C._x0;return $?(3*(C._y1-C._y0)/$-T)/2:T}function point(C,T,$){var V=C._x0,Y=C._y0,ee=C._x1,te=C._y1,J=(ee-V)/3;C._context.bezierCurveTo(V+J,Y+J*T,ee-J,te-J*$,ee,te)}function MonotoneX(C){this._context=C}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(C,T){var $=NaN;if(C=+C,T=+T,!(C===this._x1&&T===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(C,T):this._context.moveTo(C,T);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,$=slope3(this,C,T)),$);break;default:point(this,this._t0,$=slope3(this,C,T));break}this._x0=this._x1,this._x1=C,this._y0=this._y1,this._y1=T,this._t0=$}}};function MonotoneY(C){this._context=new ReflectContext(C)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(C,T){MonotoneX.prototype.point.call(this,T,C)};function ReflectContext(C){this._context=C}ReflectContext.prototype={moveTo:function(C,T){this._context.moveTo(T,C)},closePath:function(){this._context.closePath()},lineTo:function(C,T){this._context.lineTo(T,C)},bezierCurveTo:function(C,T,$,V,Y,ee){this._context.bezierCurveTo(T,C,V,$,ee,Y)}};function monotoneX(C){return new MonotoneX(C)}function monotoneY(C){return new MonotoneY(C)}function Natural(C){this._context=C}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var C=this._x,T=this._y,$=C.length;if($)if(this._line?this._context.lineTo(C[0],T[0]):this._context.moveTo(C[0],T[0]),$===2)this._context.lineTo(C[1],T[1]);else for(var V=controlPoints(C),Y=controlPoints(T),ee=0,te=1;te<$;++ee,++te)this._context.bezierCurveTo(V[0][ee],Y[0][ee],V[1][ee],Y[1][ee],C[te],T[te]);(this._line||this._line!==0&&$===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(C,T){this._x.push(+C),this._y.push(+T)}};function controlPoints(C){var T,$=C.length-1,V,Y=new Array($),ee=new Array($),te=new Array($);for(Y[0]=0,ee[0]=2,te[0]=C[0]+2*C[1],T=1;T<$-1;++T)Y[T]=1,ee[T]=4,te[T]=4*C[T]+2*C[T+1];for(Y[$-1]=2,ee[$-1]=7,te[$-1]=8*C[$-1]+C[$],T=1;T<$;++T)V=Y[T]/ee[T-1],ee[T]-=V,te[T]-=V*te[T-1];for(Y[$-1]=te[$-1]/ee[$-1],T=$-2;T>=0;--T)Y[T]=(te[T]-Y[T+1])/ee[T];for(ee[$-1]=(C[$]+Y[$-1])/2,T=0;T<$-1;++T)ee[T]=2*C[T+1]-Y[T+1];return[Y,ee]}function curveNatural(C){return new Natural(C)}function Step(C,T){this._context=C,this._t=T}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(C,T){switch(C=+C,T=+T,this._point){case 0:this._point=1,this._line?this._context.lineTo(C,T):this._context.moveTo(C,T);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,T),this._context.lineTo(C,T);else{var $=this._x*(1-this._t)+C*this._t;this._context.lineTo($,this._y),this._context.lineTo($,T)}break}}this._x=C,this._y=T}};function curveStep(C){return new Step(C,.5)}function stepBefore(C){return new Step(C,0)}function stepAfter(C){return new Step(C,1)}function Transform(C,T,$){this.k=C,this.x=T,this.y=$}Transform.prototype={constructor:Transform,scale:function(C){return C===1?this:new Transform(this.k*C,this.x,this.y)},translate:function(C,T){return C===0&T===0?this:new Transform(this.k,this.x+this.k*C,this.y+this.k*T)},apply:function(C){return[C[0]*this.k+this.x,C[1]*this.k+this.y]},applyX:function(C){return C*this.k+this.x},applyY:function(C){return C*this.k+this.y},invert:function(C){return[(C[0]-this.x)/this.k,(C[1]-this.y)/this.k]},invertX:function(C){return(C-this.x)/this.k},invertY:function(C){return(C-this.y)/this.k},rescaleX:function(C){return C.copy().domain(C.range().map(this.invertX,this).map(C.invert,C))},rescaleY:function(C){return C.copy().domain(C.range().map(this.invertY,this).map(C.invert,C))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create}=Object,{apply:apply$1,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(T){return T});seal||(seal=function(T){return T});apply$1||(apply$1=function(T,$,V){return T.apply($,V)});construct||(construct=function(T,$){return new T(...$)});const arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush$2=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(C){return function(T){for(var $=arguments.length,V=new Array($>1?$-1:0),Y=1;Y<$;Y++)V[Y-1]=arguments[Y];return apply$1(C,T,V)}}function unconstruct(C){return function(){for(var T=arguments.length,$=new Array(T),V=0;V<T;V++)$[V]=arguments[V];return construct(C,$)}}function addToSet(C,T){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(C,null);let V=T.length;for(;V--;){let Y=T[V];if(typeof Y=="string"){const ee=$(Y);ee!==Y&&(isFrozen(T)||(T[V]=ee),Y=ee)}C[Y]=!0}return C}function clone(C){const T=create(null);for(const[$,V]of entries(C))getOwnPropertyDescriptor(C,$)!==void 0&&(T[$]=V);return T}function lookupGetter(C,T){for(;C!==null;){const V=getOwnPropertyDescriptor(C,T);if(V){if(V.get)return unapply(V.get);if(typeof V.value=="function")return unapply(V.value)}C=getPrototypeOf(C)}function $(V){return console.warn("fallback value for",V),null}return $}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text$1=freeze(["#text"]),html$2=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\${[\w\W]*}/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i);var EXPRESSIONS=Object.freeze({__proto__:null,MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR,DATA_ATTR,ARIA_ATTR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,ATTR_WHITESPACE,DOCTYPE_NAME});const getGlobal=function C(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function C(T,$){if(typeof T!="object"||typeof T.createPolicy!="function")return null;let V=null;const Y="data-tt-policy-suffix";$&&$.hasAttribute(Y)&&(V=$.getAttribute(Y));const ee="dompurify"+(V?"#"+V:"");try{return T.createPolicy(ee,{createHTML(te){return te},createScriptURL(te){return te}})}catch{return console.warn("TrustedTypes policy "+ee+" could not be created."),null}};function createDOMPurify(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const T=wt=>createDOMPurify(wt);if(T.version="3.0.6",T.removed=[],!C||!C.document||C.document.nodeType!==9)return T.isSupported=!1,T;let{document:$}=C;const V=$,Y=V.currentScript,{DocumentFragment:ee,HTMLTemplateElement:te,Node:J,Element:ie,NodeFilter:K,NamedNodeMap:re=C.NamedNodeMap||C.MozNamedAttrMap,HTMLFormElement:ne,DOMParser:le,trustedTypes:ae}=C,se=ie.prototype,ue=lookupGetter(se,"cloneNode"),de=lookupGetter(se,"nextSibling"),ce=lookupGetter(se,"childNodes"),be=lookupGetter(se,"parentNode");if(typeof te=="function"){const wt=$.createElement("template");wt.content&&wt.content.ownerDocument&&($=wt.content.ownerDocument)}let Le,ve="";const{implementation:ye,createNodeIterator:Ae,createDocumentFragment:Be,getElementsByTagName:qe}=$,{importNode:Ue}=V;let Ke={};T.isSupported=typeof entries=="function"&&typeof be=="function"&&ye&&ye.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Je,ERB_EXPR:mt,TMPLIT_EXPR:ht,DATA_ATTR:pt,ARIA_ATTR:bt,IS_SCRIPT_OR_DATA:ct,ATTR_WHITESPACE:We}=EXPRESSIONS;let{IS_ALLOWED_URI:Pe}=EXPRESSIONS,_e=null;const xe=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text$1]);let ge=null;const ke=addToSet({},[...html$2,...svg,...mathMl,...xml]);let Ee=Object.seal(create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Me=null,Oe=null,pe=!0,Ce=!0,Re=!1,De=!0,Ne=!1,He=!1,Ge=!1,it=!1,ut=!1,tt=!1,lt=!1,ot=!0,dt=!1;const vt="user-content-";let St=!0,Tt=!1,$t={},It=null;const qt=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Vt=null;const ar=addToSet({},["audio","video","img","source","image","track"]);let sr=null;const fr=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nr="http://www.w3.org/1998/Math/MathML",lr="http://www.w3.org/2000/svg",cr="http://www.w3.org/1999/xhtml";let dr=cr,Sr=!1,_t=null;const nt=addToSet({},[nr,lr,cr],stringToString);let rt=null;const Xe=["application/xhtml+xml","text/html"],at="text/html";let ft=null,Ct=null;const Ht=$.createElement("form"),Bt=function(et){return et instanceof RegExp||et instanceof Function},Ut=function(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ct&&Ct===et)){if((!et||typeof et!="object")&&(et={}),et=clone(et),rt=Xe.indexOf(et.PARSER_MEDIA_TYPE)===-1?rt=at:rt=et.PARSER_MEDIA_TYPE,ft=rt==="application/xhtml+xml"?stringToString:stringToLowerCase,_e="ALLOWED_TAGS"in et?addToSet({},et.ALLOWED_TAGS,ft):xe,ge="ALLOWED_ATTR"in et?addToSet({},et.ALLOWED_ATTR,ft):ke,_t="ALLOWED_NAMESPACES"in et?addToSet({},et.ALLOWED_NAMESPACES,stringToString):nt,sr="ADD_URI_SAFE_ATTR"in et?addToSet(clone(fr),et.ADD_URI_SAFE_ATTR,ft):fr,Vt="ADD_DATA_URI_TAGS"in et?addToSet(clone(ar),et.ADD_DATA_URI_TAGS,ft):ar,It="FORBID_CONTENTS"in et?addToSet({},et.FORBID_CONTENTS,ft):qt,Me="FORBID_TAGS"in et?addToSet({},et.FORBID_TAGS,ft):{},Oe="FORBID_ATTR"in et?addToSet({},et.FORBID_ATTR,ft):{},$t="USE_PROFILES"in et?et.USE_PROFILES:!1,pe=et.ALLOW_ARIA_ATTR!==!1,Ce=et.ALLOW_DATA_ATTR!==!1,Re=et.ALLOW_UNKNOWN_PROTOCOLS||!1,De=et.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ne=et.SAFE_FOR_TEMPLATES||!1,He=et.WHOLE_DOCUMENT||!1,ut=et.RETURN_DOM||!1,tt=et.RETURN_DOM_FRAGMENT||!1,lt=et.RETURN_TRUSTED_TYPE||!1,it=et.FORCE_BODY||!1,ot=et.SANITIZE_DOM!==!1,dt=et.SANITIZE_NAMED_PROPS||!1,St=et.KEEP_CONTENT!==!1,Tt=et.IN_PLACE||!1,Pe=et.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,dr=et.NAMESPACE||cr,Ee=et.CUSTOM_ELEMENT_HANDLING||{},et.CUSTOM_ELEMENT_HANDLING&&Bt(et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ee.tagNameCheck=et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),et.CUSTOM_ELEMENT_HANDLING&&Bt(et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ee.attributeNameCheck=et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),et.CUSTOM_ELEMENT_HANDLING&&typeof et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ee.allowCustomizedBuiltInElements=et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ne&&(Ce=!1),tt&&(ut=!0),$t&&(_e=addToSet({},[...text$1]),ge=[],$t.html===!0&&(addToSet(_e,html$1),addToSet(ge,html$2)),$t.svg===!0&&(addToSet(_e,svg$1),addToSet(ge,svg),addToSet(ge,xml)),$t.svgFilters===!0&&(addToSet(_e,svgFilters),addToSet(ge,svg),addToSet(ge,xml)),$t.mathMl===!0&&(addToSet(_e,mathMl$1),addToSet(ge,mathMl),addToSet(ge,xml))),et.ADD_TAGS&&(_e===xe&&(_e=clone(_e)),addToSet(_e,et.ADD_TAGS,ft)),et.ADD_ATTR&&(ge===ke&&(ge=clone(ge)),addToSet(ge,et.ADD_ATTR,ft)),et.ADD_URI_SAFE_ATTR&&addToSet(sr,et.ADD_URI_SAFE_ATTR,ft),et.FORBID_CONTENTS&&(It===qt&&(It=clone(It)),addToSet(It,et.FORBID_CONTENTS,ft)),St&&(_e["#text"]=!0),He&&addToSet(_e,["html","head","body"]),_e.table&&(addToSet(_e,["tbody"]),delete Me.tbody),et.TRUSTED_TYPES_POLICY){if(typeof et.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof et.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Le=et.TRUSTED_TYPES_POLICY,ve=Le.createHTML("")}else Le===void 0&&(Le=_createTrustedTypesPolicy(ae,Y)),Le!==null&&typeof ve=="string"&&(ve=Le.createHTML(""));freeze&&freeze(et),Ct=et}},Rt=addToSet({},["mi","mo","mn","ms","mtext"]),Ft=addToSet({},["foreignobject","desc","title","annotation-xml"]),Xt=addToSet({},["title","style","font","a","script"]),Qt=addToSet({},svg$1);addToSet(Qt,svgFilters),addToSet(Qt,svgDisallowed);const Nt=addToSet({},mathMl$1);addToSet(Nt,mathMlDisallowed);const Yt=function(et){let xt=be(et);(!xt||!xt.tagName)&&(xt={namespaceURI:dr,tagName:"template"});const Et=stringToLowerCase(et.tagName),Kt=stringToLowerCase(xt.tagName);return _t[et.namespaceURI]?et.namespaceURI===lr?xt.namespaceURI===cr?Et==="svg":xt.namespaceURI===nr?Et==="svg"&&(Kt==="annotation-xml"||Rt[Kt]):!!Qt[Et]:et.namespaceURI===nr?xt.namespaceURI===cr?Et==="math":xt.namespaceURI===lr?Et==="math"&&Ft[Kt]:!!Nt[Et]:et.namespaceURI===cr?xt.namespaceURI===lr&&!Ft[Kt]||xt.namespaceURI===nr&&!Rt[Kt]?!1:!Nt[Et]&&(Xt[Et]||!Qt[Et]):!!(rt==="application/xhtml+xml"&&_t[et.namespaceURI]):!1},Jt=function(et){arrayPush$2(T.removed,{element:et});try{et.parentNode.removeChild(et)}catch{et.remove()}},_r=function(et,xt){try{arrayPush$2(T.removed,{attribute:xt.getAttributeNode(et),from:xt})}catch{arrayPush$2(T.removed,{attribute:null,from:xt})}if(xt.removeAttribute(et),et==="is"&&!ge[et])if(ut||tt)try{Jt(xt)}catch{}else try{xt.setAttribute(et,"")}catch{}},mr=function(et){let xt=null,Et=null;if(it)et="<remove></remove>"+et;else{const gr=stringMatch(et,/^[\r\n\t ]+/);Et=gr&&gr[0]}rt==="application/xhtml+xml"&&dr===cr&&(et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+et+"</body></html>");const Kt=Le?Le.createHTML(et):et;if(dr===cr)try{xt=new le().parseFromString(Kt,rt)}catch{}if(!xt||!xt.documentElement){xt=ye.createDocument(dr,"template",null);try{xt.documentElement.innerHTML=Sr?ve:Kt}catch{}}const hr=xt.body||xt.documentElement;return et&&Et&&hr.insertBefore($.createTextNode(Et),hr.childNodes[0]||null),dr===cr?qe.call(xt,He?"html":"body")[0]:He?xt.documentElement:hr},ur=function(et){return Ae.call(et.ownerDocument||et,et,K.SHOW_ELEMENT|K.SHOW_COMMENT|K.SHOW_TEXT,null)},or=function(et){return et instanceof ne&&(typeof et.nodeName!="string"||typeof et.textContent!="string"||typeof et.removeChild!="function"||!(et.attributes instanceof re)||typeof et.removeAttribute!="function"||typeof et.setAttribute!="function"||typeof et.namespaceURI!="string"||typeof et.insertBefore!="function"||typeof et.hasChildNodes!="function")},pr=function(et){return typeof J=="function"&&et instanceof J},ir=function(et,xt,Et){Ke[et]&&arrayForEach(Ke[et],Kt=>{Kt.call(T,xt,Et,Ct)})},vr=function(et){let xt=null;if(ir("beforeSanitizeElements",et,null),or(et))return Jt(et),!0;const Et=ft(et.nodeName);if(ir("uponSanitizeElement",et,{tagName:Et,allowedTags:_e}),et.hasChildNodes()&&!pr(et.firstElementChild)&&regExpTest(/<[/\w]/g,et.innerHTML)&&regExpTest(/<[/\w]/g,et.textContent))return Jt(et),!0;if(!_e[Et]||Me[Et]){if(!Me[Et]&&Ar(Et)&&(Ee.tagNameCheck instanceof RegExp&&regExpTest(Ee.tagNameCheck,Et)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(Et)))return!1;if(St&&!It[Et]){const Kt=be(et)||et.parentNode,hr=ce(et)||et.childNodes;if(hr&&Kt){const gr=hr.length;for(let Er=gr-1;Er>=0;--Er)Kt.insertBefore(ue(hr[Er],!0),de(et))}}return Jt(et),!0}return et instanceof ie&&!Yt(et)||(Et==="noscript"||Et==="noembed"||Et==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,et.innerHTML)?(Jt(et),!0):(Ne&&et.nodeType===3&&(xt=et.textContent,arrayForEach([Je,mt,ht],Kt=>{xt=stringReplace(xt,Kt," ")}),et.textContent!==xt&&(arrayPush$2(T.removed,{element:et.cloneNode()}),et.textContent=xt)),ir("afterSanitizeElements",et,null),!1)},xr=function(et,xt,Et){if(ot&&(xt==="id"||xt==="name")&&(Et in $||Et in Ht))return!1;if(!(Ce&&!Oe[xt]&&regExpTest(pt,xt))){if(!(pe&&regExpTest(bt,xt))){if(!ge[xt]||Oe[xt]){if(!(Ar(et)&&(Ee.tagNameCheck instanceof RegExp&&regExpTest(Ee.tagNameCheck,et)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(et))&&(Ee.attributeNameCheck instanceof RegExp&&regExpTest(Ee.attributeNameCheck,xt)||Ee.attributeNameCheck instanceof Function&&Ee.attributeNameCheck(xt))||xt==="is"&&Ee.allowCustomizedBuiltInElements&&(Ee.tagNameCheck instanceof RegExp&&regExpTest(Ee.tagNameCheck,Et)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(Et))))return!1}else if(!sr[xt]){if(!regExpTest(Pe,stringReplace(Et,We,""))){if(!((xt==="src"||xt==="xlink:href"||xt==="href")&&et!=="script"&&stringIndexOf(Et,"data:")===0&&Vt[et])){if(!(Re&&!regExpTest(ct,stringReplace(Et,We,"")))){if(Et)return!1}}}}}}return!0},Ar=function(et){return et.indexOf("-")>0},Lr=function(et){ir("beforeSanitizeAttributes",et,null);const{attributes:xt}=et;if(!xt)return;const Et={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ge};let Kt=xt.length;for(;Kt--;){const hr=xt[Kt],{name:gr,namespaceURI:Er,value:Ir}=hr,Dr=ft(gr);let Cr=gr==="value"?Ir:stringTrim(Ir);if(Et.attrName=Dr,Et.attrValue=Cr,Et.keepAttr=!0,Et.forceKeepAttr=void 0,ir("uponSanitizeAttribute",et,Et),Cr=Et.attrValue,Et.forceKeepAttr||(_r(gr,et),!Et.keepAttr))continue;if(!De&&regExpTest(/\/>/i,Cr)){_r(gr,et);continue}Ne&&arrayForEach([Je,mt,ht],Gr=>{Cr=stringReplace(Cr,Gr," ")});const zr=ft(et.nodeName);if(xr(zr,Dr,Cr)){if(dt&&(Dr==="id"||Dr==="name")&&(_r(gr,et),Cr=vt+Cr),Le&&typeof ae=="object"&&typeof ae.getAttributeType=="function"&&!Er)switch(ae.getAttributeType(zr,Dr)){case"TrustedHTML":{Cr=Le.createHTML(Cr);break}case"TrustedScriptURL":{Cr=Le.createScriptURL(Cr);break}}try{Er?et.setAttributeNS(Er,gr,Cr):et.setAttribute(gr,Cr),arrayPop(T.removed)}catch{}}}ir("afterSanitizeAttributes",et,null)},Zt=function wt(et){let xt=null;const Et=ur(et);for(ir("beforeSanitizeShadowDOM",et,null);xt=Et.nextNode();)ir("uponSanitizeShadowNode",xt,null),!vr(xt)&&(xt.content instanceof ee&&wt(xt.content),Lr(xt));ir("afterSanitizeShadowDOM",et,null)};return T.sanitize=function(wt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xt=null,Et=null,Kt=null,hr=null;if(Sr=!wt,Sr&&(wt="<!-->"),typeof wt!="string"&&!pr(wt))if(typeof wt.toString=="function"){if(wt=wt.toString(),typeof wt!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!T.isSupported)return wt;if(Ge||Ut(et),T.removed=[],typeof wt=="string"&&(Tt=!1),Tt){if(wt.nodeName){const Ir=ft(wt.nodeName);if(!_e[Ir]||Me[Ir])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(wt instanceof J)xt=mr("<!---->"),Et=xt.ownerDocument.importNode(wt,!0),Et.nodeType===1&&Et.nodeName==="BODY"||Et.nodeName==="HTML"?xt=Et:xt.appendChild(Et);else{if(!ut&&!Ne&&!He&&wt.indexOf("<")===-1)return Le&&lt?Le.createHTML(wt):wt;if(xt=mr(wt),!xt)return ut?null:lt?ve:""}xt&&it&&Jt(xt.firstChild);const gr=ur(Tt?wt:xt);for(;Kt=gr.nextNode();)vr(Kt)||(Kt.content instanceof ee&&Zt(Kt.content),Lr(Kt));if(Tt)return wt;if(ut){if(tt)for(hr=Be.call(xt.ownerDocument);xt.firstChild;)hr.appendChild(xt.firstChild);else hr=xt;return(ge.shadowroot||ge.shadowrootmode)&&(hr=Ue.call(V,hr,!0)),hr}let Er=He?xt.outerHTML:xt.innerHTML;return He&&_e["!doctype"]&&xt.ownerDocument&&xt.ownerDocument.doctype&&xt.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,xt.ownerDocument.doctype.name)&&(Er="<!DOCTYPE "+xt.ownerDocument.doctype.name+`>
`+Er),Ne&&arrayForEach([Je,mt,ht],Ir=>{Er=stringReplace(Er,Ir," ")}),Le&&lt?Le.createHTML(Er):Er},T.setConfig=function(){let wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ut(wt),Ge=!0},T.clearConfig=function(){Ct=null,Ge=!1},T.isValidAttribute=function(wt,et,xt){Ct||Ut({});const Et=ft(wt),Kt=ft(et);return xr(Et,Kt,xt)},T.addHook=function(wt,et){typeof et=="function"&&(Ke[wt]=Ke[wt]||[],arrayPush$2(Ke[wt],et))},T.removeHook=function(wt){if(Ke[wt])return arrayPop(Ke[wt])},T.removeHooks=function(wt){Ke[wt]&&(Ke[wt]=[])},T.removeAllHooks=function(){Ke={}},T}var purify=createDOMPurify();const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:C=>C>=255?255:C<0?0:C,g:C=>C>=255?255:C<0?0:C,b:C=>C>=255?255:C<0?0:C,h:C=>C%360,s:C=>C>=100?100:C<0?0:C,l:C=>C>=100?100:C<0?0:C,a:C=>C>=1?1:C<0?0:C},toLinear:C=>{const T=C/255;return C>.03928?Math.pow((T+.055)/1.055,2.4):T/12.92},hue2rgb:(C,T,$)=>($<0&&($+=1),$>1&&($-=1),$<1/6?C+(T-C)*6*$:$<1/2?T:$<2/3?C+(T-C)*(2/3-$)*6:C),hsl2rgb:({h:C,s:T,l:$},V)=>{if(!T)return $*2.55;C/=360,T/=100,$/=100;const Y=$<.5?$*(1+T):$+T-$*T,ee=2*$-Y;switch(V){case"r":return Channel.hue2rgb(ee,Y,C+1/3)*255;case"g":return Channel.hue2rgb(ee,Y,C)*255;case"b":return Channel.hue2rgb(ee,Y,C-1/3)*255}},rgb2hsl:({r:C,g:T,b:$},V)=>{C/=255,T/=255,$/=255;const Y=Math.max(C,T,$),ee=Math.min(C,T,$),te=(Y+ee)/2;if(V==="l")return te*100;if(Y===ee)return 0;const J=Y-ee,ie=te>.5?J/(2-Y-ee):J/(Y+ee);if(V==="s")return ie*100;switch(Y){case C:return((T-$)/J+(T<$?6:0))*60;case T:return(($-C)/J+2)*60;case $:return((C-T)/J+4)*60;default:return-1}}},channel=Channel,Lang={clamp:(C,T,$)=>T>$?Math.min(T,Math.max($,C)):Math.min($,Math.max(T,C)),round:C=>Math.round(C*1e10)/1e10},lang=Lang,Unit={dec2hex:C=>{const T=Math.round(C).toString(16);return T.length>1?T:`0${T}`}},unit=Unit,Utils={channel,lang,unit},_=Utils,DEC2HEX={};for(let C=0;C<=255;C++)DEC2HEX[C]=_.unit.dec2hex(C);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(T){if(this.type&&this.type!==T)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=T}reset(){this.type=TYPE.ALL}is(T){return this.type===T}}const Type$2=Type;class Channels{constructor(T,$){this.color=$,this.changed=!1,this.data=T,this.type=new Type$2}set(T,$){return this.color=$,this.changed=!1,this.data=T,this.type.type=TYPE.ALL,this}_ensureHSL(){const T=this.data,{h:$,s:V,l:Y}=T;$===void 0&&(T.h=_.channel.rgb2hsl(T,"h")),V===void 0&&(T.s=_.channel.rgb2hsl(T,"s")),Y===void 0&&(T.l=_.channel.rgb2hsl(T,"l"))}_ensureRGB(){const T=this.data,{r:$,g:V,b:Y}=T;$===void 0&&(T.r=_.channel.hsl2rgb(T,"r")),V===void 0&&(T.g=_.channel.hsl2rgb(T,"g")),Y===void 0&&(T.b=_.channel.hsl2rgb(T,"b"))}get r(){const T=this.data,$=T.r;return!this.type.is(TYPE.HSL)&&$!==void 0?$:(this._ensureHSL(),_.channel.hsl2rgb(T,"r"))}get g(){const T=this.data,$=T.g;return!this.type.is(TYPE.HSL)&&$!==void 0?$:(this._ensureHSL(),_.channel.hsl2rgb(T,"g"))}get b(){const T=this.data,$=T.b;return!this.type.is(TYPE.HSL)&&$!==void 0?$:(this._ensureHSL(),_.channel.hsl2rgb(T,"b"))}get h(){const T=this.data,$=T.h;return!this.type.is(TYPE.RGB)&&$!==void 0?$:(this._ensureRGB(),_.channel.rgb2hsl(T,"h"))}get s(){const T=this.data,$=T.s;return!this.type.is(TYPE.RGB)&&$!==void 0?$:(this._ensureRGB(),_.channel.rgb2hsl(T,"s"))}get l(){const T=this.data,$=T.l;return!this.type.is(TYPE.RGB)&&$!==void 0?$:(this._ensureRGB(),_.channel.rgb2hsl(T,"l"))}get a(){return this.data.a}set r(T){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=T}set g(T){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=T}set b(T){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=T}set h(T){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=T}set s(T){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=T}set l(T){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=T}set a(T){this.changed=!0,this.data.a=T}}const Channels$1=Channels,channels=new Channels$1({r:0,g:0,b:0,a:0},"transparent"),ChannelsReusable=channels,Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:C=>{if(C.charCodeAt(0)!==35)return;const T=C.match(Hex.re);if(!T)return;const $=T[1],V=parseInt($,16),Y=$.length,ee=Y%4===0,te=Y>4,J=te?1:17,ie=te?8:4,K=ee?0:-1,re=te?255:15;return ChannelsReusable.set({r:(V>>ie*(K+3)&re)*J,g:(V>>ie*(K+2)&re)*J,b:(V>>ie*(K+1)&re)*J,a:ee?(V&re)*J/255:1},C)},stringify:C=>{const{r:T,g:$,b:V,a:Y}=C;return Y<1?`#${DEC2HEX[Math.round(T)]}${DEC2HEX[Math.round($)]}${DEC2HEX[Math.round(V)]}${DEC2HEX[Math.round(Y*255)]}`:`#${DEC2HEX[Math.round(T)]}${DEC2HEX[Math.round($)]}${DEC2HEX[Math.round(V)]}`}},Hex$1=Hex,HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:C=>{const T=C.match(HSL.hueRe);if(T){const[,$,V]=T;switch(V){case"grad":return _.channel.clamp.h(parseFloat($)*.9);case"rad":return _.channel.clamp.h(parseFloat($)*180/Math.PI);case"turn":return _.channel.clamp.h(parseFloat($)*360)}}return _.channel.clamp.h(parseFloat(C))},parse:C=>{const T=C.charCodeAt(0);if(T!==104&&T!==72)return;const $=C.match(HSL.re);if(!$)return;const[,V,Y,ee,te,J]=$;return ChannelsReusable.set({h:HSL._hue2deg(V),s:_.channel.clamp.s(parseFloat(Y)),l:_.channel.clamp.l(parseFloat(ee)),a:te?_.channel.clamp.a(J?parseFloat(te)/100:parseFloat(te)):1},C)},stringify:C=>{const{h:T,s:$,l:V,a:Y}=C;return Y<1?`hsla(${_.lang.round(T)}, ${_.lang.round($)}%, ${_.lang.round(V)}%, ${Y})`:`hsl(${_.lang.round(T)}, ${_.lang.round($)}%, ${_.lang.round(V)}%)`}},HSL$1=HSL,Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:C=>{C=C.toLowerCase();const T=Keyword.colors[C];if(T)return Hex$1.parse(T)},stringify:C=>{const T=Hex$1.stringify(C);for(const $ in Keyword.colors)if(Keyword.colors[$]===T)return $}},Keyword$1=Keyword,RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:C=>{const T=C.charCodeAt(0);if(T!==114&&T!==82)return;const $=C.match(RGB.re);if(!$)return;const[,V,Y,ee,te,J,ie,K,re]=$;return ChannelsReusable.set({r:_.channel.clamp.r(Y?parseFloat(V)*2.55:parseFloat(V)),g:_.channel.clamp.g(te?parseFloat(ee)*2.55:parseFloat(ee)),b:_.channel.clamp.b(ie?parseFloat(J)*2.55:parseFloat(J)),a:K?_.channel.clamp.a(re?parseFloat(K)/100:parseFloat(K)):1},C)},stringify:C=>{const{r:T,g:$,b:V,a:Y}=C;return Y<1?`rgba(${_.lang.round(T)}, ${_.lang.round($)}, ${_.lang.round(V)}, ${_.lang.round(Y)})`:`rgb(${_.lang.round(T)}, ${_.lang.round($)}, ${_.lang.round(V)})`}},RGB$1=RGB,Color={format:{keyword:Keyword$1,hex:Hex$1,rgb:RGB$1,rgba:RGB$1,hsl:HSL$1,hsla:HSL$1},parse:C=>{if(typeof C!="string")return C;const T=Hex$1.parse(C)||RGB$1.parse(C)||HSL$1.parse(C)||Keyword$1.parse(C);if(T)return T;throw new Error(`Unsupported color format: "${C}"`)},stringify:C=>!C.changed&&C.color?C.color:C.type.is(TYPE.HSL)||C.data.r===void 0?HSL$1.stringify(C):C.a<1||!Number.isInteger(C.r)||!Number.isInteger(C.g)||!Number.isInteger(C.b)?RGB$1.stringify(C):Hex$1.stringify(C)},Color$1=Color,change=(C,T)=>{const $=Color$1.parse(C);for(const V in T)$[V]=_.channel.clamp[V](T[V]);return Color$1.stringify($)},change$1=change,rgba=(C,T,$=0,V=1)=>{if(typeof C!="number")return change$1(C,{a:T});const Y=ChannelsReusable.set({r:_.channel.clamp.r(C),g:_.channel.clamp.g(T),b:_.channel.clamp.b($),a:_.channel.clamp.a(V)});return Color$1.stringify(Y)},rgba$1=rgba,luminance=C=>{const{r:T,g:$,b:V}=Color$1.parse(C),Y=.2126*_.channel.toLinear(T)+.7152*_.channel.toLinear($)+.0722*_.channel.toLinear(V);return _.lang.round(Y)},luminance$1=luminance,isLight=C=>luminance$1(C)>=.5,isLight$1=isLight,isDark=C=>!isLight$1(C),isDark$1=isDark,adjustChannel=(C,T,$)=>{const V=Color$1.parse(C),Y=V[T],ee=_.channel.clamp[T](Y+$);return Y!==ee&&(V[T]=ee),Color$1.stringify(V)},adjustChannel$1=adjustChannel,lighten=(C,T)=>adjustChannel$1(C,"l",T),lighten$1=lighten,darken=(C,T)=>adjustChannel$1(C,"l",-T),darken$1=darken,adjust=(C,T)=>{const $=Color$1.parse(C),V={};for(const Y in T)T[Y]&&(V[Y]=$[Y]+T[Y]);return change$1(C,V)},adjust$1=adjust,mix=(C,T,$=50)=>{const{r:V,g:Y,b:ee,a:te}=Color$1.parse(C),{r:J,g:ie,b:K,a:re}=Color$1.parse(T),ne=$/100,le=ne*2-1,ae=te-re,ue=((le*ae===-1?le:(le+ae)/(1+le*ae))+1)/2,de=1-ue,ce=V*ue+J*de,be=Y*ue+ie*de,Le=ee*ue+K*de,ve=te*ne+re*(1-ne);return rgba$1(ce,be,Le,ve)},mix$1=mix,invert=(C,T=100)=>{const $=Color$1.parse(C);return $.r=255-$.r,$.g=255-$.g,$.b=255-$.b,mix$1($,C,T)},invert$1=invert;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$3=root$1.Symbol;const Symbol$4=Symbol$3;var objectProto$e=Object.prototype,hasOwnProperty$c=objectProto$e.hasOwnProperty,nativeObjectToString$1=objectProto$e.toString,symToStringTag$1=Symbol$4?Symbol$4.toStringTag:void 0;function getRawTag(C){var T=hasOwnProperty$c.call(C,symToStringTag$1),$=C[symToStringTag$1];try{C[symToStringTag$1]=void 0;var V=!0}catch{}var Y=nativeObjectToString$1.call(C);return V&&(T?C[symToStringTag$1]=$:delete C[symToStringTag$1]),Y}var objectProto$d=Object.prototype,nativeObjectToString=objectProto$d.toString;function objectToString(C){return nativeObjectToString.call(C)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$4?Symbol$4.toStringTag:void 0;function baseGetTag(C){return C==null?C===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(C)?getRawTag(C):objectToString(C)}function isObject$4(C){var T=typeof C;return C!=null&&(T=="object"||T=="function")}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(C){if(!isObject$4(C))return!1;var T=baseGetTag(C);return T==funcTag$2||T==genTag$1||T==asyncTag||T==proxyTag}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var C=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}();function isMasked(C){return!!maskSrcKey&&maskSrcKey in C}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(C){if(C!=null){try{return funcToString$2.call(C)}catch{}try{return C+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$c=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$b=objectProto$c.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(C){if(!isObject$4(C)||isMasked(C))return!1;var T=isFunction$1(C)?reIsNative:reIsHostCtor;return T.test(toSource(C))}function getValue$1(C,T){return C?.[T]}function getNative(C,T){var $=getValue$1(C,T);return baseIsNative($)?$:void 0}var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(C){var T=this.has(C)&&delete this.__data__[C];return this.size-=T?1:0,T}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$b=Object.prototype,hasOwnProperty$a=objectProto$b.hasOwnProperty;function hashGet(C){var T=this.__data__;if(nativeCreate$1){var $=T[C];return $===HASH_UNDEFINED$1?void 0:$}return hasOwnProperty$a.call(T,C)?T[C]:void 0}var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty;function hashHas(C){var T=this.__data__;return nativeCreate$1?T[C]!==void 0:hasOwnProperty$9.call(T,C)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(C,T){var $=this.__data__;return this.size+=this.has(C)?0:1,$[C]=nativeCreate$1&&T===void 0?HASH_UNDEFINED:T,this}function Hash(C){var T=-1,$=C==null?0:C.length;for(this.clear();++T<$;){var V=C[T];this.set(V[0],V[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(C,T){return C===T||C!==C&&T!==T}function assocIndexOf(C,T){for(var $=C.length;$--;)if(eq(C[$][0],T))return $;return-1}var arrayProto=Array.prototype,splice$1=arrayProto.splice;function listCacheDelete(C){var T=this.__data__,$=assocIndexOf(T,C);if($<0)return!1;var V=T.length-1;return $==V?T.pop():splice$1.call(T,$,1),--this.size,!0}function listCacheGet(C){var T=this.__data__,$=assocIndexOf(T,C);return $<0?void 0:T[$][1]}function listCacheHas(C){return assocIndexOf(this.__data__,C)>-1}function listCacheSet(C,T){var $=this.__data__,V=assocIndexOf($,C);return V<0?(++this.size,$.push([C,T])):$[V][1]=T,this}function ListCache(C){var T=-1,$=C==null?0:C.length;for(this.clear();++T<$;){var V=C[T];this.set(V[0],V[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map");const Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(C){var T=typeof C;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?C!=="__proto__":C===null}function getMapData(C,T){var $=C.__data__;return isKeyable(T)?$[typeof T=="string"?"string":"hash"]:$.map}function mapCacheDelete(C){var T=getMapData(this,C).delete(C);return this.size-=T?1:0,T}function mapCacheGet(C){return getMapData(this,C).get(C)}function mapCacheHas(C){return getMapData(this,C).has(C)}function mapCacheSet(C,T){var $=getMapData(this,C),V=$.size;return $.set(C,T),this.size+=$.size==V?0:1,this}function MapCache$1(C){var T=-1,$=C==null?0:C.length;for(this.clear();++T<$;){var V=C[T];this.set(V[0],V[1])}}MapCache$1.prototype.clear=mapCacheClear;MapCache$1.prototype.delete=mapCacheDelete;MapCache$1.prototype.get=mapCacheGet;MapCache$1.prototype.has=mapCacheHas;MapCache$1.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$1="Expected a function";function memoize$2(C,T){if(typeof C!="function"||T!=null&&typeof T!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var $=function(){var V=arguments,Y=T?T.apply(this,V):V[0],ee=$.cache;if(ee.has(Y))return ee.get(Y);var te=C.apply(this,V);return $.cache=ee.set(Y,te)||ee,te};return $.cache=new(memoize$2.Cache||MapCache$1),$}memoize$2.Cache=MapCache$1;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(C){var T=this.__data__,$=T.delete(C);return this.size=T.size,$}function stackGet(C){return this.__data__.get(C)}function stackHas(C){return this.__data__.has(C)}var LARGE_ARRAY_SIZE=200;function stackSet(C,T){var $=this.__data__;if($ instanceof ListCache){var V=$.__data__;if(!Map$2||V.length<LARGE_ARRAY_SIZE-1)return V.push([C,T]),this.size=++$.size,this;$=this.__data__=new MapCache$1(V)}return $.set(C,T),this.size=$.size,this}function Stack$1(C){var T=this.__data__=new ListCache(C);this.size=T.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;var defineProperty=function(){try{var C=getNative(Object,"defineProperty");return C({},"",{}),C}catch{}}();const defineProperty$1=defineProperty;function baseAssignValue(C,T,$){T=="__proto__"&&defineProperty$1?defineProperty$1(C,T,{configurable:!0,enumerable:!0,value:$,writable:!0}):C[T]=$}function assignMergeValue(C,T,$){($!==void 0&&!eq(C[T],$)||$===void 0&&!(T in C))&&baseAssignValue(C,T,$)}function createBaseFor(C){return function(T,$,V){for(var Y=-1,ee=Object(T),te=V(T),J=te.length;J--;){var ie=te[C?J:++Y];if($(ee[ie],ie,ee)===!1)break}return T}}var baseFor=createBaseFor();const baseFor$1=baseFor;var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$1.Buffer:void 0,allocUnsafe=Buffer$2?Buffer$2.allocUnsafe:void 0;function cloneBuffer$1(C,T){if(T)return C.slice();var $=C.length,V=allocUnsafe?allocUnsafe($):new C.constructor($);return C.copy(V),V}var Uint8Array$2=root$1.Uint8Array;const Uint8Array$3=Uint8Array$2;function cloneArrayBuffer$4(C){var T=new C.constructor(C.byteLength);return new Uint8Array$3(T).set(new Uint8Array$3(C)),T}function cloneTypedArray$2(C,T){var $=T?cloneArrayBuffer$4(C.buffer):C.buffer;return new C.constructor($,C.byteOffset,C.length)}function copyArray$2(C,T){var $=-1,V=C.length;for(T||(T=Array(V));++$<V;)T[$]=C[$];return T}var objectCreate$1=Object.create,baseCreate$2=function(){function C(){}return function(T){if(!isObject$4(T))return{};if(objectCreate$1)return objectCreate$1(T);C.prototype=T;var $=new C;return C.prototype=void 0,$}}();const baseCreate$3=baseCreate$2;function overArg(C,T){return function($){return C(T($))}}var getPrototype$2=overArg(Object.getPrototypeOf,Object);const getPrototype$3=getPrototype$2;var objectProto$9=Object.prototype;function isPrototype$2(C){var T=C&&C.constructor,$=typeof T=="function"&&T.prototype||objectProto$9;return C===$}function initCloneObject$2(C){return typeof C.constructor=="function"&&!isPrototype$2(C)?baseCreate$3(getPrototype$3(C)):{}}function isObjectLike$2(C){return C!=null&&typeof C=="object"}var argsTag$2="[object Arguments]";function baseIsArguments(C){return isObjectLike$2(C)&&baseGetTag(C)==argsTag$2}var objectProto$8=Object.prototype,hasOwnProperty$8=objectProto$8.hasOwnProperty,propertyIsEnumerable=objectProto$8.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(C){return isObjectLike$2(C)&&hasOwnProperty$8.call(C,"callee")&&!propertyIsEnumerable.call(C,"callee")};const isArguments$2=isArguments$1;var isArray$3=Array.isArray;const isArray$4=isArray$3;var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=MAX_SAFE_INTEGER$1}function isArrayLike$1(C){return C!=null&&isLength(C.length)&&!isFunction$1(C)}function isArrayLikeObject(C){return isObjectLike$2(C)&&isArrayLike$1(C)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root$1.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer$1=nativeIsBuffer||stubFalse;const isBuffer$2=isBuffer$1;var objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$7=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$7=objectProto$7.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(C){if(!isObjectLike$2(C)||baseGetTag(C)!=objectTag$3)return!1;var T=getPrototype$3(C);if(T===null)return!0;var $=hasOwnProperty$7.call(T,"constructor")&&T.constructor;return typeof $=="function"&&$ instanceof $&&funcToString.call($)==objectCtorString}var argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$2="[object Number]",objectTag$2="[object Object]",regexpTag$2="[object RegExp]",setTag$5="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(C){return isObjectLike$2(C)&&isLength(C.length)&&!!typedArrayTags[baseGetTag(C)]}function baseUnary$2(C){return function(T){return C(T)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal$1.process,nodeUtil$2=function(){try{var C=freeModule&&freeModule.require&&freeModule.require("util").types;return C||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$3=nodeUtil$2;var nodeIsTypedArray=nodeUtil$3&&nodeUtil$3.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary$2(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;function safeGet(C,T){if(!(T==="constructor"&&typeof C[T]=="function")&&T!="__proto__")return C[T]}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function assignValue$1(C,T,$){var V=C[T];(!(hasOwnProperty$6.call(C,T)&&eq(V,$))||$===void 0&&!(T in C))&&baseAssignValue(C,T,$)}function copyObject$4(C,T,$,V){var Y=!$;$||($={});for(var ee=-1,te=T.length;++ee<te;){var J=T[ee],ie=V?V($[J],C[J],J,$,C):void 0;ie===void 0&&(ie=C[J]),Y?baseAssignValue($,J,ie):assignValue$1($,J,ie)}return $}function baseTimes(C,T){for(var $=-1,V=Array(C);++$<C;)V[$]=T($);return V}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(C,T){var $=typeof C;return T=T??MAX_SAFE_INTEGER,!!T&&($=="number"||$!="symbol"&&reIsUint.test(C))&&C>-1&&C%1==0&&C<T}var objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(C,T){var $=isArray$4(C),V=!$&&isArguments$2(C),Y=!$&&!V&&isBuffer$2(C),ee=!$&&!V&&!Y&&isTypedArray$1(C),te=$||V||Y||ee,J=te?baseTimes(C.length,String):[],ie=J.length;for(var K in C)(T||hasOwnProperty$5.call(C,K))&&!(te&&(K=="length"||Y&&(K=="offset"||K=="parent")||ee&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||isIndex(K,ie)))&&J.push(K);return J}function nativeKeysIn$2(C){var T=[];if(C!=null)for(var $ in Object(C))T.push($);return T}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function baseKeysIn$2(C){if(!isObject$4(C))return nativeKeysIn$2(C);var T=isPrototype$2(C),$=[];for(var V in C)V=="constructor"&&(T||!hasOwnProperty$4.call(C,V))||$.push(V);return $}function keysIn$4(C){return isArrayLike$1(C)?arrayLikeKeys$1(C,!0):baseKeysIn$2(C)}function toPlainObject(C){return copyObject$4(C,keysIn$4(C))}function baseMergeDeep(C,T,$,V,Y,ee,te){var J=safeGet(C,$),ie=safeGet(T,$),K=te.get(ie);if(K){assignMergeValue(C,$,K);return}var re=ee?ee(J,ie,$+"",C,T,te):void 0,ne=re===void 0;if(ne){var le=isArray$4(ie),ae=!le&&isBuffer$2(ie),se=!le&&!ae&&isTypedArray$1(ie);re=ie,le||ae||se?isArray$4(J)?re=J:isArrayLikeObject(J)?re=copyArray$2(J):ae?(ne=!1,re=cloneBuffer$1(ie,!0)):se?(ne=!1,re=cloneTypedArray$2(ie,!0)):re=[]:isPlainObject$1(ie)||isArguments$2(ie)?(re=J,isArguments$2(J)?re=toPlainObject(J):(!isObject$4(J)||isFunction$1(J))&&(re=initCloneObject$2(ie))):ne=!1}ne&&(te.set(ie,re),Y(re,ie,V,ee,te),te.delete(ie)),assignMergeValue(C,$,re)}function baseMerge(C,T,$,V,Y){C!==T&&baseFor$1(T,function(ee,te){if(Y||(Y=new Stack$1),isObject$4(ee))baseMergeDeep(C,T,te,$,baseMerge,V,Y);else{var J=V?V(safeGet(C,te),ee,te+"",C,T,Y):void 0;J===void 0&&(J=ee),assignMergeValue(C,te,J)}},keysIn$4)}function identity(C){return C}function apply(C,T,$){switch($.length){case 0:return C.call(T);case 1:return C.call(T,$[0]);case 2:return C.call(T,$[0],$[1]);case 3:return C.call(T,$[0],$[1],$[2])}return C.apply(T,$)}var nativeMax=Math.max;function overRest(C,T,$){return T=nativeMax(T===void 0?C.length-1:T,0),function(){for(var V=arguments,Y=-1,ee=nativeMax(V.length-T,0),te=Array(ee);++Y<ee;)te[Y]=V[T+Y];Y=-1;for(var J=Array(T+1);++Y<T;)J[Y]=V[Y];return J[T]=$(te),apply(C,this,J)}}function constant(C){return function(){return C}}var baseSetToString=defineProperty$1?function(C,T){return defineProperty$1(C,"toString",{configurable:!0,enumerable:!1,value:constant(T),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(C){var T=0,$=0;return function(){var V=nativeNow(),Y=HOT_SPAN-(V-$);if($=V,Y>0){if(++T>=HOT_COUNT)return arguments[0]}else T=0;return C.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function baseRest(C,T){return setToString$1(overRest(C,T,identity),C+"")}function isIterateeCall(C,T,$){if(!isObject$4($))return!1;var V=typeof T;return(V=="number"?isArrayLike$1($)&&isIndex(T,$.length):V=="string"&&T in $)?eq($[T],C):!1}function createAssigner(C){return baseRest(function(T,$){var V=-1,Y=$.length,ee=Y>1?$[Y-1]:void 0,te=Y>2?$[2]:void 0;for(ee=C.length>3&&typeof ee=="function"?(Y--,ee):void 0,te&&isIterateeCall($[0],$[1],te)&&(ee=Y<3?void 0:ee,Y=1),T=Object(T);++V<Y;){var J=$[V];J&&C(T,J,V,ee)}return T})}var merge$1=createAssigner(function(C,T,$){baseMerge(C,T,$)});const merge$2=merge$1;var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseKeys(C){if(!isPrototype$2(C))return nativeKeys$1(C);var T=[];for(var $ in Object(C))hasOwnProperty$3.call(C,$)&&$!="constructor"&&T.push($);return T}var DataView=getNative(root$1,"DataView");const DataView$1=DataView;var Promise$1=getNative(root$1,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$1,"Set");const Set$2=Set$1;var WeakMap$1=getNative(root$1,"WeakMap");const WeakMap$2=WeakMap$1;var mapTag$4="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag$3=baseGetTag;(DataView$1&&getTag$3(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$2&&getTag$3(new Map$2)!=mapTag$4||Promise$2&&getTag$3(Promise$2.resolve())!=promiseTag||Set$2&&getTag$3(new Set$2)!=setTag$4||WeakMap$2&&getTag$3(new WeakMap$2)!=weakMapTag$1)&&(getTag$3=function(C){var T=baseGetTag(C),$=T==objectTag$1?C.constructor:void 0,V=$?toSource($):"";if(V)switch(V){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return T});const getTag$4=getTag$3;var mapTag$3="[object Map]",setTag$3="[object Set]",objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function isEmpty(C){if(C==null)return!0;if(isArrayLike$1(C)&&(isArray$4(C)||typeof C=="string"||typeof C.splice=="function"||isBuffer$2(C)||isTypedArray$1(C)||isArguments$2(C)))return!C.length;var T=getTag$4(C);if(T==mapTag$3||T==setTag$3)return!C.size;if(isPrototype$2(C))return!baseKeys(C).length;for(var $ in C)if(hasOwnProperty$2.call(C,$))return!1;return!0}const LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log$1={trace:(...C)=>{},debug:(...C)=>{},info:(...C)=>{},warn:(...C)=>{},error:(...C)=>{},fatal:(...C)=>{}},setLogLevel$1=function(C="fatal"){let T=LEVELS.fatal;typeof C=="string"?(C=C.toLowerCase(),C in LEVELS&&(T=LEVELS[C])):typeof C=="number"&&(T=C),log$1.trace=()=>{},log$1.debug=()=>{},log$1.info=()=>{},log$1.warn=()=>{},log$1.error=()=>{},log$1.fatal=()=>{},T<=LEVELS.fatal&&(log$1.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format("FATAL"))),T<=LEVELS.error&&(log$1.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format("ERROR"))),T<=LEVELS.warn&&(log$1.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format("WARN"))),T<=LEVELS.info&&(log$1.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format("INFO"))),T<=LEVELS.debug&&(log$1.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("DEBUG"))),T<=LEVELS.trace&&(log$1.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("TRACE")))},format=C=>`%c${dayjs().format("ss.SSS")} : ${C} : `,lineBreakRegex=/<br\s*\/?>/gi,getRows=C=>C?breakToPlaceholder(C).replace(/\\n/g,"#br#").split("#br#"):[""],removeScript=C=>purify.sanitize(C),sanitizeMore=(C,T)=>{var $;if((($=T.flowchart)==null?void 0:$.htmlLabels)!==!1){const V=T.securityLevel;V==="antiscript"||V==="strict"?C=removeScript(C):V!=="loose"&&(C=breakToPlaceholder(C),C=C.replace(/</g,"&lt;").replace(/>/g,"&gt;"),C=C.replace(/=/g,"&equals;"),C=placeholderToBreak(C))}return C},sanitizeText$2=(C,T)=>C&&(T.dompurifyConfig?C=purify.sanitize(sanitizeMore(C,T),T.dompurifyConfig).toString():C=purify.sanitize(sanitizeMore(C,T),{FORBID_TAGS:["style"]}).toString(),C),sanitizeTextOrArray=(C,T)=>typeof C=="string"?sanitizeText$2(C,T):C.flat().map($=>sanitizeText$2($,T)),hasBreaks=C=>lineBreakRegex.test(C),splitBreaks=C=>C.split(lineBreakRegex),placeholderToBreak=C=>C.replace(/#br#/g,"<br/>"),breakToPlaceholder=C=>C.replace(lineBreakRegex,"#br#"),getUrl=C=>{let T="";return C&&(T=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,T=T.replaceAll(/\(/g,"\\("),T=T.replaceAll(/\)/g,"\\)")),T},evaluate=C=>!(C===!1||["false","null","0"].includes(String(C).trim().toLowerCase())),getMax=function(...C){const T=C.filter($=>!isNaN($));return Math.max(...T)},getMin=function(...C){const T=C.filter($=>!isNaN($));return Math.min(...T)},parseGenericTypes=function(C){const T=C.split(/(,)/),$=[];for(let V=0;V<T.length;V++){let Y=T[V];if(Y===","&&V>0&&V+1<T.length){const ee=T[V-1],te=T[V+1];shouldCombineSets(ee,te)&&(Y=ee+","+te,V++,$.pop())}$.push(processSet(Y))}return $.join("")},countOccurrence=(C,T)=>Math.max(0,C.split(T).length-1),shouldCombineSets=(C,T)=>{const $=countOccurrence(C,"~"),V=countOccurrence(T,"~");return $===1&&V===1},processSet=C=>{const T=countOccurrence(C,"~");let $=!1;if(T<=1)return C;T%2!==0&&C.startsWith("~")&&(C=C.substring(1),$=!0);const V=[...C];let Y=V.indexOf("~"),ee=V.lastIndexOf("~");for(;Y!==-1&&ee!==-1&&Y!==ee;)V[Y]="<",V[ee]=">",Y=V.indexOf("~"),ee=V.lastIndexOf("~");return $&&V.unshift("~"),V.join("")},common$1={getRows,sanitizeText:sanitizeText$2,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate,getMax,getMin},mkBorder=(C,T)=>T?adjust$1(C,{s:-40,l:10}):adjust$1(C,{s:-40,l:-10}),oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2";let Theme$4=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust$1(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust$1(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert$1(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert$1(this.tertiaryColor),this.lineColor=this.lineColor||invert$1(this.background),this.arrowheadColor=this.arrowheadColor||invert$1(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken$1(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert$1(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten$1(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$1(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$1(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$1(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$1(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$1(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$1(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust$1(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$1(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$1(this.primaryColor,{h:330}),this.darkMode)for(let $=0;$<this.THEME_COLOR_LIMIT;$++)this["cScale"+$]=darken$1(this["cScale"+$],75);else for(let $=0;$<this.THEME_COLOR_LIMIT;$++)this["cScale"+$]=darken$1(this["cScale"+$],25);for(let $=0;$<this.THEME_COLOR_LIMIT;$++)this["cScaleInv"+$]=this["cScaleInv"+$]||invert$1(this["cScale"+$]);for(let $=0;$<this.THEME_COLOR_LIMIT;$++)this.darkMode?this["cScalePeer"+$]=this["cScalePeer"+$]||lighten$1(this["cScale"+$],10):this["cScalePeer"+$]=this["cScalePeer"+$]||darken$1(this["cScale"+$],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let $=0;$<this.THEME_COLOR_LIMIT;$++)this["cScaleLabel"+$]=this["cScaleLabel"+$]||this.scaleLabelColor;const T=this.darkMode?-4:-1;for(let $=0;$<5;$++)this["surface"+$]=this["surface"+$]||adjust$1(this.mainBkg,{h:180,s:-15,l:T*(5+$*3)}),this["surfacePeer"+$]=this["surfacePeer"+$]||adjust$1(this.mainBkg,{h:180,s:-15,l:T*(8+$*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust$1(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust$1(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust$1(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust$1(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust$1(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust$1(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$1(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$1(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust$1(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust$1(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$1(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$1(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$1(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust$1(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust$1(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$1(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$1(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$1(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$1(this.primaryColor,{h:60}),this.git7=this.git7||adjust$1(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(T){if(typeof T!="object"){this.updateColors();return}const $=Object.keys(T);$.forEach(V=>{this[V]=T[V]}),this.updateColors(),$.forEach(V=>{this[V]=T[V]})}};const getThemeVariables$4=C=>{const T=new Theme$4;return T.calculate(C),T};let Theme$3=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten$1(this.primaryColor,16),this.tertiaryColor=adjust$1(this.primaryColor,{h:-160}),this.primaryBorderColor=invert$1(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten$1(invert$1("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=rgba$1(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken$1("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=darken$1(this.sectionBkgColor,10),this.taskBorderColor=rgba$1(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba$1(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=lighten$1(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten$1(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten$1(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$1(this.primaryColor,{h:64}),this.fillType3=adjust$1(this.secondaryColor,{h:64}),this.fillType4=adjust$1(this.primaryColor,{h:-64}),this.fillType5=adjust$1(this.secondaryColor,{h:-64}),this.fillType6=adjust$1(this.primaryColor,{h:128}),this.fillType7=adjust$1(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$1(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$1(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$1(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$1(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$1(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$1(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$1(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$1(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$1(this.primaryColor,{h:330});for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleInv"+T]=this["cScaleInv"+T]||invert$1(this["cScale"+T]);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScalePeer"+T]=this["cScalePeer"+T]||lighten$1(this["cScale"+T],10);for(let T=0;T<5;T++)this["surface"+T]=this["surface"+T]||adjust$1(this.mainBkg,{h:30,s:-30,l:-(-10+T*4)}),this["surfacePeer"+T]=this["surfacePeer"+T]||adjust$1(this.mainBkg,{h:30,s:-30,l:-(-7+T*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleLabel"+T]=this["cScaleLabel"+T]||this.scaleLabelColor;for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["pie"+T]=this["cScale"+T];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten$1(this.secondaryColor,20),this.git1=lighten$1(this.pie2||this.secondaryColor,20),this.git2=lighten$1(this.pie3||this.tertiaryColor,20),this.git3=lighten$1(this.pie4||adjust$1(this.primaryColor,{h:-30}),20),this.git4=lighten$1(this.pie5||adjust$1(this.primaryColor,{h:-60}),20),this.git5=lighten$1(this.pie6||adjust$1(this.primaryColor,{h:-90}),10),this.git6=lighten$1(this.pie7||adjust$1(this.primaryColor,{h:60}),10),this.git7=lighten$1(this.pie8||adjust$1(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten$1(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten$1(this.background,2)}calculate(T){if(typeof T!="object"){this.updateColors();return}const $=Object.keys(T);$.forEach(V=>{this[V]=T[V]}),this.updateColors(),$.forEach(V=>{this[V]=T[V]})}};const getThemeVariables$3=C=>{const T=new Theme$3;return T.calculate(C),T};let Theme$2=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust$1(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust$1(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba$1(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$1(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$1(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$1(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$1(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$1(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$1(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$1(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$1(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$1(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken$1(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken$1(this.tertiaryColor,40);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScale"+T]=darken$1(this["cScale"+T],10),this["cScalePeer"+T]=this["cScalePeer"+T]||darken$1(this["cScale"+T],25);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleInv"+T]=this["cScaleInv"+T]||adjust$1(this["cScale"+T],{h:180});for(let T=0;T<5;T++)this["surface"+T]=this["surface"+T]||adjust$1(this.mainBkg,{h:30,l:-(5+T*5)}),this["surfacePeer"+T]=this["surfacePeer"+T]||adjust$1(this.mainBkg,{h:30,l:-(7+T*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert$1(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert$1(this.labelTextColor);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleLabel"+T]=this["cScaleLabel"+T]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$1(this.primaryColor,{h:64}),this.fillType3=adjust$1(this.secondaryColor,{h:64}),this.fillType4=adjust$1(this.primaryColor,{h:-64}),this.fillType5=adjust$1(this.secondaryColor,{h:-64}),this.fillType6=adjust$1(this.primaryColor,{h:128}),this.fillType7=adjust$1(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust$1(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust$1(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$1(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$1(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust$1(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust$1(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust$1(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust$1(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust$1(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust$1(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$1(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$1(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$1(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$1(this.primaryColor,{h:60}),this.git7=this.git7||adjust$1(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||darken$1(invert$1(this.git0),25),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(T){if(typeof T!="object"){this.updateColors();return}const $=Object.keys(T);$.forEach(V=>{this[V]=T[V]}),this.updateColors(),$.forEach(V=>{this[V]=T[V]})}};const getThemeVariables$2=C=>{const T=new Theme$2;return T.calculate(C),T};let Theme$1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten$1("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.primaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=darken$1(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$1(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$1(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$1(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$1(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$1(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$1(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$1(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$1(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$1(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken$1(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken$1(this.tertiaryColor,40);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScale"+T]=darken$1(this["cScale"+T],10),this["cScalePeer"+T]=this["cScalePeer"+T]||darken$1(this["cScale"+T],25);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleInv"+T]=this["cScaleInv"+T]||adjust$1(this["cScale"+T],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleLabel"+T]=this["cScaleLabel"+T]||this.scaleLabelColor;for(let T=0;T<5;T++)this["surface"+T]=this["surface"+T]||adjust$1(this.mainBkg,{h:30,s:-30,l:-(5+T*5)}),this["surfacePeer"+T]=this["surfacePeer"+T]||adjust$1(this.mainBkg,{h:30,s:-30,l:-(8+T*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$1(this.primaryColor,{h:64}),this.fillType3=adjust$1(this.secondaryColor,{h:64}),this.fillType4=adjust$1(this.primaryColor,{h:-64}),this.fillType5=adjust$1(this.secondaryColor,{h:-64}),this.fillType6=adjust$1(this.primaryColor,{h:128}),this.fillType7=adjust$1(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$1(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust$1(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$1(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust$1(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$1(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$1(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$1(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust$1(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust$1(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$1(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$1(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$1(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$1(this.primaryColor,{h:60}),this.git7=this.git7||adjust$1(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(T){if(typeof T!="object"){this.updateColors();return}const $=Object.keys(T);$.forEach(V=>{this[V]=T[V]}),this.updateColors(),$.forEach(V=>{this[V]=T[V]})}};const getThemeVariables$1=C=>{const T=new Theme$1;return T.calculate(C),T};class Theme5{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten$1(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust$1(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=lighten$1(this.contrast,55),this.border2=this.contrast,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleInv"+T]=this["cScaleInv"+T]||invert$1(this["cScale"+T]);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this.darkMode?this["cScalePeer"+T]=this["cScalePeer"+T]||lighten$1(this["cScale"+T],10):this["cScalePeer"+T]=this["cScalePeer"+T]||darken$1(this["cScale"+T],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleLabel"+T]=this["cScaleLabel"+T]||this.scaleLabelColor;for(let T=0;T<5;T++)this["surface"+T]=this["surface"+T]||adjust$1(this.mainBkg,{l:-(5+T*5)}),this["surfacePeer"+T]=this["surfacePeer"+T]||adjust$1(this.mainBkg,{l:-(8+T*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lighten$1(this.contrast,30),this.sectionBkgColor2=lighten$1(this.contrast,30),this.taskBorderColor=darken$1(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten$1(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken$1(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$1(this.primaryColor,{h:64}),this.fillType3=adjust$1(this.secondaryColor,{h:64}),this.fillType4=adjust$1(this.primaryColor,{h:-64}),this.fillType5=adjust$1(this.secondaryColor,{h:-64}),this.fillType6=adjust$1(this.primaryColor,{h:128}),this.fillType7=adjust$1(this.secondaryColor,{h:128});for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["pie"+T]=this["cScale"+T];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken$1(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust$1(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust$1(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust$1(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust$1(this.primaryColor,{h:60}),this.git7=this.pie8||adjust$1(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(T){if(typeof T!="object"){this.updateColors();return}const $=Object.keys(T);$.forEach(V=>{this[V]=T[V]}),this.updateColors(),$.forEach(V=>{this[V]=T[V]})}}const getThemeVariables=C=>{const T=new Theme5;return T.calculate(C),T},theme={base:{getThemeVariables:getThemeVariables$4},dark:{getThemeVariables:getThemeVariables$3},default:{getThemeVariables:getThemeVariables$2},forest:{getThemeVariables:getThemeVariables$1},neutral:{getThemeVariables}},defaultConfigJson={flowchart:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},theme:"default",maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,fontSize:16},config$1={...defaultConfigJson,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:theme.default.getThemeVariables(),sequence:{...defaultConfigJson.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...defaultConfigJson.gantt,tickInterval:void 0,useWidth:void 0},c4:{...defaultConfigJson.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...defaultConfigJson.pie,useWidth:984},requirement:{...defaultConfigJson.requirement,useWidth:void 0},gitGraph:{...defaultConfigJson.gitGraph,useMaxWidth:!1},sankey:{...defaultConfigJson.sankey,useMaxWidth:!1}},keyify=(C,T="")=>Object.keys(C).reduce(($,V)=>Array.isArray(C[V])?$:typeof C[V]=="object"&&C[V]!==null?[...$,T+V,...keyify(C[V],"")]:[...$,T+V],[]),configKeys=new Set(keyify(config$1,"")),defaultConfig$1=config$1,sanitizeDirective=C=>{if(log$1.debug("sanitizeDirective called with",C),!(typeof C!="object"||C==null)){if(Array.isArray(C)){C.forEach(T=>sanitizeDirective(T));return}for(const T of Object.keys(C)){if(log$1.debug("Checking key",T),T.startsWith("__")||T.includes("proto")||T.includes("constr")||!configKeys.has(T)||C[T]==null){log$1.debug("sanitize deleting key: ",T),delete C[T];continue}if(typeof C[T]=="object"){log$1.debug("sanitizing object",T),sanitizeDirective(C[T]);continue}const $=["themeCSS","fontFamily","altFontFamily"];for(const V of $)T.includes(V)&&(log$1.debug("sanitizing css option",T),C[T]=sanitizeCss(C[T]))}if(C.themeVariables)for(const T of Object.keys(C.themeVariables)){const $=C.themeVariables[T];$?.match&&!$.match(/^[\d "#%(),.;A-Za-z]+$/)&&(C.themeVariables[T]="")}log$1.debug("After sanitization",C)}},sanitizeCss=C=>{let T=0,$=0;for(const V of C){if(T<$)return"{ /* ERROR: Unbalanced CSS */ }";V==="{"?T++:V==="}"&&$++}return T!==$?"{ /* ERROR: Unbalanced CSS */ }":C},frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,directiveRegex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyCommentRegex=/\s*%%.*\n/gm;class UnknownDiagramError extends Error{constructor(T){super(T),this.name="UnknownDiagramError"}}const detectors={},detectType=function(C,T){C=C.replace(frontMatterRegex,"").replace(directiveRegex,"").replace(anyCommentRegex,`
`);for(const[$,{detector:V}]of Object.entries(detectors))if(V(C,T))return $;throw new UnknownDiagramError(`No diagram type detected matching given configuration for text: ${C}`)},registerLazyLoadedDiagrams=(...C)=>{for(const{id:T,detector:$,loader:V}of C)addDetector(T,$,V)},addDetector=(C,T,$)=>{detectors[C]?log$1.error(`Detector with key ${C} already exists`):detectors[C]={detector:T,loader:$},log$1.debug(`Detector with key ${C} added${$?" with loader":""}`)},getDiagramLoader=C=>detectors[C].loader,assignWithDepth=(C,T,{depth:$=2,clobber:V=!1}={})=>{const Y={depth:$,clobber:V};return Array.isArray(T)&&!Array.isArray(C)?(T.forEach(ee=>assignWithDepth(C,ee,Y)),C):Array.isArray(T)&&Array.isArray(C)?(T.forEach(ee=>{C.includes(ee)||C.push(ee)}),C):C===void 0||$<=0?C!=null&&typeof C=="object"&&typeof T=="object"?Object.assign(C,T):T:(T!==void 0&&typeof C=="object"&&typeof T=="object"&&Object.keys(T).forEach(ee=>{typeof T[ee]=="object"&&(C[ee]===void 0||typeof C[ee]=="object")?(C[ee]===void 0&&(C[ee]=Array.isArray(T[ee])?[]:{}),C[ee]=assignWithDepth(C[ee],T[ee],{depth:$-1,clobber:V})):(V||typeof C[ee]!="object"&&typeof T[ee]!="object")&&(C[ee]=T[ee])}),C)},assignWithDepth$1=assignWithDepth,ZERO_WIDTH_SPACE="",d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle,curveCardinalClosed,curveCardinalOpen,curveCardinal,curveCatmullRomClosed,curveCatmullRomOpen,curveCatmullRom,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=function(C,T){const $=detectDirective(C,/(?:init\b)|(?:initialize\b)/);let V={};if(Array.isArray($)){const te=$.map(J=>J.args);sanitizeDirective(te),V=assignWithDepth$1(V,[...te])}else V=$.args;if(!V)return;let Y=detectType(C,T);const ee="config";return V[ee]!==void 0&&(Y==="flowchart-v2"&&(Y="flowchart"),V[Y]=V[ee],delete V[ee]),V},detectDirective=function(C,T=null){try{const $=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");C=C.trim().replace($,"").replace(/'/gm,'"'),log$1.debug(`Detecting diagram directive${T!==null?" type:"+T:""} based on the text:${C}`);let V;const Y=[];for(;(V=directiveRegex.exec(C))!==null;)if(V.index===directiveRegex.lastIndex&&directiveRegex.lastIndex++,V&&!T||T&&V[1]&&V[1].match(T)||T&&V[2]&&V[2].match(T)){const ee=V[1]?V[1]:V[2],te=V[3]?V[3].trim():V[4]?JSON.parse(V[4].trim()):null;Y.push({type:ee,args:te})}return Y.length===0?{type:C,args:null}:Y.length===1?Y[0]:Y}catch($){return log$1.error(`ERROR: ${$.message} - Unable to parse directive type: '${T}' based on the text: '${C}'`),{type:void 0,args:null}}},removeDirectives=function(C){return C.replace(directiveRegex,"")},isSubstringInArray=function(C,T){for(const[$,V]of T.entries())if(V.match(C))return $;return-1};function interpolateToCurve(C,T){if(!C)return T;const $=`curve${C.charAt(0).toUpperCase()+C.slice(1)}`;return d3CurveTypes[$]??T}function formatUrl(C,T){const $=C.trim();if($)return T.securityLevel!=="loose"?dist.sanitizeUrl($):$}const runFunc=(C,...T)=>{const $=C.split("."),V=$.length-1,Y=$[V];let ee=window;for(let te=0;te<V;te++)if(ee=ee[$[te]],!ee){log$1.error(`Function name: ${C} not found in window`);return}ee[Y](...T)};function distance(C,T){return!C||!T?0:Math.sqrt(Math.pow(T.x-C.x,2)+Math.pow(T.y-C.y,2))}function traverseEdge(C){let T,$=0;C.forEach(Y=>{$+=distance(Y,T),T=Y});const V=$/2;return calculatePoint(C,V)}function calcLabelPosition(C){return C.length===1?C[0]:traverseEdge(C)}const roundNumber=(C,T=2)=>{const $=Math.pow(10,T);return Math.round(C*$)/$},calculatePoint=(C,T)=>{let $,V=T;for(const Y of C){if($){const ee=distance(Y,$);if(ee<V)V-=ee;else{const te=V/ee;if(te<=0)return $;if(te>=1)return{x:Y.x,y:Y.y};if(te>0&&te<1)return{x:roundNumber((1-te)*$.x+te*Y.x,5),y:roundNumber((1-te)*$.y+te*Y.y,5)}}}$=Y}throw new Error("Could not find a suitable point for the given distance")},calcCardinalityPosition=(C,T,$)=>{log$1.info(`our points ${JSON.stringify(T)}`),T[0]!==$&&(T=T.reverse());const Y=calculatePoint(T,25),ee=C?10:5,te=Math.atan2(T[0].y-Y.y,T[0].x-Y.x),J={x:0,y:0};return J.x=Math.sin(te)*ee+(T[0].x+Y.x)/2,J.y=-Math.cos(te)*ee+(T[0].y+Y.y)/2,J};function calcTerminalLabelPosition(C,T,$){const V=structuredClone($);log$1.info("our points",V),T!=="start_left"&&T!=="start_right"&&V.reverse();const Y=25+C,ee=calculatePoint(V,Y),te=10+C*.5,J=Math.atan2(V[0].y-ee.y,V[0].x-ee.x),ie={x:0,y:0};return T==="start_left"?(ie.x=Math.sin(J+Math.PI)*te+(V[0].x+ee.x)/2,ie.y=-Math.cos(J+Math.PI)*te+(V[0].y+ee.y)/2):T==="end_right"?(ie.x=Math.sin(J-Math.PI)*te+(V[0].x+ee.x)/2-5,ie.y=-Math.cos(J-Math.PI)*te+(V[0].y+ee.y)/2-5):T==="end_left"?(ie.x=Math.sin(J)*te+(V[0].x+ee.x)/2-5,ie.y=-Math.cos(J)*te+(V[0].y+ee.y)/2-5):(ie.x=Math.sin(J)*te+(V[0].x+ee.x)/2,ie.y=-Math.cos(J)*te+(V[0].y+ee.y)/2),ie}function getStylesFromArray(C){let T="",$="";for(const V of C)V!==void 0&&(V.startsWith("color:")||V.startsWith("text-align:")?$=$+V+";":T=T+V+";");return{style:T,labelStyle:$}}let cnt=0;const generateId=()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt);function makeRandomHex(C){let T="";const $="0123456789abcdef",V=$.length;for(let Y=0;Y<C;Y++)T+=$.charAt(Math.floor(Math.random()*V));return T}const random=C=>makeRandomHex(C.length),getTextObj=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},drawSimpleText=function(C,T){const $=T.text.replace(common$1.lineBreakRegex," "),[,V]=parseFontSize(T.fontSize),Y=C.append("text");Y.attr("x",T.x),Y.attr("y",T.y),Y.style("text-anchor",T.anchor),Y.style("font-family",T.fontFamily),Y.style("font-size",V),Y.style("font-weight",T.fontWeight),Y.attr("fill",T.fill),T.class!==void 0&&Y.attr("class",T.class);const ee=Y.append("tspan");return ee.attr("x",T.x+T.textMargin*2),ee.attr("fill",T.fill),ee.text($),Y},wrapLabel=memoize$2((C,T,$)=>{if(!C||($=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},$),common$1.lineBreakRegex.test(C)))return C;const V=C.split(" "),Y=[];let ee="";return V.forEach((te,J)=>{const ie=calculateTextWidth(`${te} `,$),K=calculateTextWidth(ee,$);if(ie>T){const{hyphenatedStrings:le,remainingWord:ae}=breakString(te,T,"-",$);Y.push(ee,...le),ee=ae}else K+ie>=T?(Y.push(ee),ee=te):ee=[ee,te].filter(Boolean).join(" ");J+1===V.length&&Y.push(ee)}),Y.filter(te=>te!=="").join($.joinWith)},(C,T,$)=>`${C}${T}${$.fontSize}${$.fontWeight}${$.fontFamily}${$.joinWith}`),breakString=memoize$2((C,T,$="-",V)=>{V=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},V);const Y=[...C],ee=[];let te="";return Y.forEach((J,ie)=>{const K=`${te}${J}`;if(calculateTextWidth(K,V)>=T){const ne=ie+1,le=Y.length===ne,ae=`${K}${$}`;ee.push(le?K:ae),te=""}else te=K}),{hyphenatedStrings:ee,remainingWord:te}},(C,T,$="-",V)=>`${C}${T}${$}${V.fontSize}${V.fontWeight}${V.fontFamily}`);function calculateTextHeight$1(C,T){return calculateTextDimensions(C,T).height}function calculateTextWidth(C,T){return calculateTextDimensions(C,T).width}const calculateTextDimensions=memoize$2((C,T)=>{const{fontSize:$=12,fontFamily:V="Arial",fontWeight:Y=400}=T;if(!C)return{width:0,height:0};const[,ee]=parseFontSize($),te=["sans-serif",V],J=C.split(common$1.lineBreakRegex),ie=[],K=select("body");if(!K.remove)return{width:0,height:0,lineHeight:0};const re=K.append("svg");for(const le of te){let ae=0;const se={width:0,height:0,lineHeight:0};for(const ue of J){const de=getTextObj();de.text=ue||ZERO_WIDTH_SPACE;const ce=drawSimpleText(re,de).style("font-size",ee).style("font-weight",Y).style("font-family",le),be=(ce._groups||ce)[0][0].getBBox();if(be.width===0&&be.height===0)throw new Error("svg element not in render tree");se.width=Math.round(Math.max(se.width,be.width)),ae=Math.round(be.height),se.height+=ae,se.lineHeight=Math.round(Math.max(se.lineHeight,ae))}ie.push(se)}re.remove();const ne=isNaN(ie[1].height)||isNaN(ie[1].width)||isNaN(ie[1].lineHeight)||ie[0].height>ie[1].height&&ie[0].width>ie[1].width&&ie[0].lineHeight>ie[1].lineHeight?0:1;return ie[ne]},(C,T)=>`${C}${T.fontSize}${T.fontWeight}${T.fontFamily}`);class InitIDGenerator{constructor(T=!1,$){this.count=0,this.count=$?$.length:0,this.next=T?()=>this.count++:()=>Date.now()}}let decoder;const entityDecode=function(C){return decoder=decoder||document.createElement("div"),C=escape(C).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=C,unescape(decoder.textContent)};function isDetailedError(C){return"str"in C}const insertTitle=(C,T,$,V)=>{var Y;if(!V)return;const ee=(Y=C.node())==null?void 0:Y.getBBox();ee&&C.append("text").text(V).attr("x",ee.x+ee.width/2).attr("y",-$).attr("class",T)},parseFontSize=C=>{if(typeof C=="number")return[C,C+"px"];const T=parseInt(C??"",10);return Number.isNaN(T)?[void 0,void 0]:C===String(T)?[T,C+"px"]:[T,C]};function cleanAndMerge(C,T){return merge$2({},C,T)}const utils={assignWithDepth:assignWithDepth$1,wrapLabel,calculateTextHeight:calculateTextHeight$1,calculateTextWidth,calculateTextDimensions,cleanAndMerge,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId,random,runFunc,entityDecode,insertTitle,parseFontSize,InitIDGenerator},version$1="10.5.1",defaultConfig=Object.freeze(defaultConfig$1);let siteConfig=assignWithDepth$1({},defaultConfig),configFromInitialize,directives=[],currentConfig=assignWithDepth$1({},defaultConfig);const updateCurrentConfig=(C,T)=>{let $=assignWithDepth$1({},C),V={};for(const Y of T)sanitize(Y),V=assignWithDepth$1(V,Y);if($=assignWithDepth$1($,V),V.theme&&V.theme in theme){const Y=assignWithDepth$1({},configFromInitialize),ee=assignWithDepth$1(Y.themeVariables||{},V.themeVariables);$.theme&&$.theme in theme&&($.themeVariables=theme[$.theme].getThemeVariables(ee))}return currentConfig=$,checkConfig(currentConfig),currentConfig},setSiteConfig=C=>(siteConfig=assignWithDepth$1({},defaultConfig),siteConfig=assignWithDepth$1(siteConfig,C),C.theme&&theme[C.theme]&&(siteConfig.themeVariables=theme[C.theme].getThemeVariables(C.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),saveConfigFromInitialize=C=>{configFromInitialize=assignWithDepth$1({},C)},updateSiteConfig=C=>(siteConfig=assignWithDepth$1(siteConfig,C),updateCurrentConfig(siteConfig,directives),siteConfig),getSiteConfig=()=>assignWithDepth$1({},siteConfig),setConfig=C=>(checkConfig(C),assignWithDepth$1(currentConfig,C),getConfig$1()),getConfig$1=()=>assignWithDepth$1({},currentConfig),sanitize=C=>{C&&(["secure",...siteConfig.secure??[]].forEach(T=>{Object.hasOwn(C,T)&&(log$1.debug(`Denied attempt to modify a secure key ${T}`,C[T]),delete C[T])}),Object.keys(C).forEach(T=>{T.startsWith("__")&&delete C[T]}),Object.keys(C).forEach(T=>{typeof C[T]=="string"&&(C[T].includes("<")||C[T].includes(">")||C[T].includes("url(data:"))&&delete C[T],typeof C[T]=="object"&&sanitize(C[T])}))},addDirective=C=>{sanitizeDirective(C),C.fontFamily&&(!C.themeVariables||!C.themeVariables.fontFamily)&&(C.themeVariables={fontFamily:C.fontFamily}),directives.push(C),updateCurrentConfig(siteConfig,directives)},reset=(C=siteConfig)=>{directives=[],updateCurrentConfig(C,directives)},ConfigWarning={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},issuedWarnings={},issueWarning=C=>{issuedWarnings[C]||(log$1.warn(ConfigWarning[C]),issuedWarnings[C]=!0)},checkConfig=C=>{C&&(C.lazyLoadedDiagrams||C.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},id$j="c4",detector$j=C=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(C),loader$k=async()=>{const{diagram:C}=await __vitePreload(()=>import("./c4Diagram-7e558229-e9c7372d.js"),["assets/c4Diagram-7e558229-e9c7372d.js","assets/svgDrawCommon-43c67fcf-5c367e93.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]);return{id:id$j,diagram:C}},plugin$h={id:id$j,detector:detector$j,loader:loader$k},c4=plugin$h,id$i="flowchart",detector$i=(C,T)=>{var $,V;return(($=T?.flowchart)==null?void 0:$.defaultRenderer)==="dagre-wrapper"||((V=T?.flowchart)==null?void 0:V.defaultRenderer)==="elk"?!1:/^\s*graph/.test(C)},loader$j=async()=>{const{diagram:C}=await __vitePreload(()=>import("./flowDiagram-90a5ee23-915ec1cc.js"),["assets/flowDiagram-90a5ee23-915ec1cc.js","assets/flowDb-bd9f2a91-dbe3c59b.js","assets/layout-c7d99def.js","assets/styles-3bbdb1fe-7511022c.js","assets/index-b0b3af87-76142135.js","assets/edges-bc33a094-f1f6ce3e.js","assets/createText-b3507a77-d17939b5.js","assets/line-f6b7cf79.js","assets/array-9f3ba611.js","assets/path-53f90ab3.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]);return{id:id$i,diagram:C}},plugin$g={id:id$i,detector:detector$i,loader:loader$j},flowchart=plugin$g,id$h="flowchart-v2",detector$h=(C,T)=>{var $,V,Y;return(($=T?.flowchart)==null?void 0:$.defaultRenderer)==="dagre-d3"||((V=T?.flowchart)==null?void 0:V.defaultRenderer)==="elk"?!1:/^\s*graph/.test(C)&&((Y=T?.flowchart)==null?void 0:Y.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(C)},loader$i=async()=>{const{diagram:C}=await __vitePreload(()=>import("./flowDiagram-v2-eab222bb-70d273c9.js"),["assets/flowDiagram-v2-eab222bb-70d273c9.js","assets/flowDb-bd9f2a91-dbe3c59b.js","assets/styles-3bbdb1fe-7511022c.js","assets/layout-c7d99def.js","assets/index-b0b3af87-76142135.js","assets/edges-bc33a094-f1f6ce3e.js","assets/createText-b3507a77-d17939b5.js","assets/line-f6b7cf79.js","assets/array-9f3ba611.js","assets/path-53f90ab3.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]);return{id:id$h,diagram:C}},plugin$f={id:id$h,detector:detector$h,loader:loader$i},flowchartV2=plugin$f,id$g="er",detector$g=C=>/^\s*erDiagram/.test(C),loader$h=async()=>{const{diagram:C}=await __vitePreload(()=>import("./erDiagram-5b6cebf0-62ca376a.js"),["assets/erDiagram-5b6cebf0-62ca376a.js","assets/layout-c7d99def.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/line-f6b7cf79.js","assets/array-9f3ba611.js","assets/path-53f90ab3.js","assets/chance-d5bce0ad.js"]);return{id:id$g,diagram:C}},plugin$e={id:id$g,detector:detector$g,loader:loader$h},er=plugin$e,id$f="gitGraph",detector$f=C=>/^\s*gitGraph/.test(C),loader$g=async()=>{const{diagram:C}=await __vitePreload(()=>import("./gitGraphDiagram-7b32de06-d1983fa9.js"),["assets/gitGraphDiagram-7b32de06-d1983fa9.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]);return{id:id$f,diagram:C}},plugin$d={id:id$f,detector:detector$f,loader:loader$g},git=plugin$d,id$e="gantt",detector$e=C=>/^\s*gantt/.test(C),loader$f=async()=>{const{diagram:C}=await __vitePreload(()=>import("./ganttDiagram-9d6d9e54-01fd4e7f.js"),["assets/ganttDiagram-9d6d9e54-01fd4e7f.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/linear-e6f3c169.js","assets/init-77b53fdd.js","assets/chance-d5bce0ad.js"]);return{id:id$e,diagram:C}},plugin$c={id:id$e,detector:detector$e,loader:loader$f},gantt=plugin$c,id$d="info",detector$d=C=>/^\s*info/.test(C),loader$e=async()=>{const{diagram:C}=await __vitePreload(()=>import("./infoDiagram-645befec-38d88bec.js"),["assets/infoDiagram-645befec-38d88bec.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]);return{id:id$d,diagram:C}},info={id:id$d,detector:detector$d,loader:loader$e},id$c="pie",detector$c=C=>/^\s*pie/.test(C),loader$d=async()=>{const{diagram:C}=await __vitePreload(()=>import("./pieDiagram-47467502-09b55873.js"),["assets/pieDiagram-47467502-09b55873.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/arc-e83c01ed.js","assets/path-53f90ab3.js","assets/ordinal-ba9b4969.js","assets/init-77b53fdd.js","assets/array-9f3ba611.js","assets/chance-d5bce0ad.js"]);return{id:id$c,diagram:C}},pie={id:id$c,detector:detector$c,loader:loader$d},id$b="quadrantChart",detector$b=C=>/^\s*quadrantChart/.test(C),loader$c=async()=>{const{diagram:C}=await __vitePreload(()=>import("./quadrantDiagram-3646f1b7-bb6beec0.js"),["assets/quadrantDiagram-3646f1b7-bb6beec0.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/linear-e6f3c169.js","assets/init-77b53fdd.js","assets/chance-d5bce0ad.js"]);return{id:id$b,diagram:C}},plugin$b={id:id$b,detector:detector$b,loader:loader$c},quadrantChart=plugin$b,id$a="requirement",detector$a=C=>/^\s*requirement(Diagram)?/.test(C),loader$b=async()=>{const{diagram:C}=await __vitePreload(()=>import("./requirementDiagram-cc8b2f2f-836cf0bf.js"),["assets/requirementDiagram-cc8b2f2f-836cf0bf.js","assets/layout-c7d99def.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/line-f6b7cf79.js","assets/array-9f3ba611.js","assets/path-53f90ab3.js","assets/chance-d5bce0ad.js"]);return{id:id$a,diagram:C}},plugin$a={id:id$a,detector:detector$a,loader:loader$b},requirement=plugin$a,id$9="sequence",detector$9=C=>/^\s*sequenceDiagram/.test(C),loader$a=async()=>{const{diagram:C}=await __vitePreload(()=>import("./sequenceDiagram-ccb4d521-384137c5.js"),["assets/sequenceDiagram-ccb4d521-384137c5.js","assets/svgDrawCommon-43c67fcf-5c367e93.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]);return{id:id$9,diagram:C}},plugin$9={id:id$9,detector:detector$9,loader:loader$a},sequence=plugin$9,id$8="class",detector$8=(C,T)=>{var $;return(($=T?.class)==null?void 0:$.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(C)},loader$9=async()=>{const{diagram:C}=await __vitePreload(()=>import("./classDiagram-bfe30095-f9ba8073.js"),["assets/classDiagram-bfe30095-f9ba8073.js","assets/styles-c47180b5-c10b663c.js","assets/layout-c7d99def.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/line-f6b7cf79.js","assets/array-9f3ba611.js","assets/path-53f90ab3.js","assets/chance-d5bce0ad.js"]);return{id:id$8,diagram:C}},plugin$8={id:id$8,detector:detector$8,loader:loader$9},classDiagram=plugin$8,id$7="classDiagram",detector$7=(C,T)=>{var $;return/^\s*classDiagram/.test(C)&&(($=T?.class)==null?void 0:$.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(C)},loader$8=async()=>{const{diagram:C}=await __vitePreload(()=>import("./classDiagram-v2-3a55c922-6531ba23.js"),["assets/classDiagram-v2-3a55c922-6531ba23.js","assets/styles-c47180b5-c10b663c.js","assets/layout-c7d99def.js","assets/index-b0b3af87-76142135.js","assets/edges-bc33a094-f1f6ce3e.js","assets/createText-b3507a77-d17939b5.js","assets/line-f6b7cf79.js","assets/array-9f3ba611.js","assets/path-53f90ab3.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]);return{id:id$7,diagram:C}},plugin$7={id:id$7,detector:detector$7,loader:loader$8},classDiagramV2=plugin$7,id$6="state",detector$6=(C,T)=>{var $;return(($=T?.state)==null?void 0:$.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(C)},loader$7=async()=>{const{diagram:C}=await __vitePreload(()=>import("./stateDiagram-dac17514-87d112de.js"),["assets/stateDiagram-dac17514-87d112de.js","assets/styles-409bbf16-3386db07.js","assets/layout-c7d99def.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/line-f6b7cf79.js","assets/array-9f3ba611.js","assets/path-53f90ab3.js","assets/chance-d5bce0ad.js"]);return{id:id$6,diagram:C}},plugin$6={id:id$6,detector:detector$6,loader:loader$7},state=plugin$6,id$5="stateDiagram",detector$5=(C,T)=>{var $;return!!(/^\s*stateDiagram-v2/.test(C)||/^\s*stateDiagram/.test(C)&&(($=T?.state)==null?void 0:$.defaultRenderer)==="dagre-wrapper")},loader$6=async()=>{const{diagram:C}=await __vitePreload(()=>import("./stateDiagram-v2-0255b0b2-f2ede69d.js"),["assets/stateDiagram-v2-0255b0b2-f2ede69d.js","assets/styles-409bbf16-3386db07.js","assets/layout-c7d99def.js","assets/index-b0b3af87-76142135.js","assets/edges-bc33a094-f1f6ce3e.js","assets/createText-b3507a77-d17939b5.js","assets/line-f6b7cf79.js","assets/array-9f3ba611.js","assets/path-53f90ab3.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]);return{id:id$5,diagram:C}},plugin$5={id:id$5,detector:detector$5,loader:loader$6},stateV2=plugin$5,id$4="journey",detector$4=C=>/^\s*journey/.test(C),loader$5=async()=>{const{diagram:C}=await __vitePreload(()=>import("./journeyDiagram-14f1468f-6bc921e3.js"),["assets/journeyDiagram-14f1468f-6bc921e3.js","assets/svgDrawCommon-43c67fcf-5c367e93.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/arc-e83c01ed.js","assets/path-53f90ab3.js","assets/chance-d5bce0ad.js"]);return{id:id$4,diagram:C}},plugin$4={id:id$4,detector:detector$4,loader:loader$5},journey=plugin$4,selectSvgElement=C=>{var T;const{securityLevel:$}=getConfig$1();let V=select("body");if($==="sandbox"){const te=((T=select(`#i${C}`).node())==null?void 0:T.contentDocument)??document;V=select(te.body)}return V.select(`#${C}`)},d3Attrs=function(C,T){for(let $ of T)C.attr($[0],$[1])},calculateSvgSizeAttrs=function(C,T,$){let V=new Map;return $?(V.set("width","100%"),V.set("style",`max-width: ${T}px;`)):(V.set("height",C),V.set("width",T)),V},configureSvgSize=function(C,T,$,V){const Y=calculateSvgSizeAttrs(T,$,V);d3Attrs(C,Y)},setupGraphViewbox$1=function(C,T,$,V){const Y=T.node().getBBox(),ee=Y.width,te=Y.height;log$1.info(`SVG bounds: ${ee}x${te}`,Y);let J=0,ie=0;log$1.info(`Graph bounds: ${J}x${ie}`,C),J=ee+$*2,ie=te+$*2,log$1.info(`Calculated bounds: ${J}x${ie}`),configureSvgSize(T,ie,J,V);const K=`${Y.x-$} ${Y.y-$} ${Y.width+2*$} ${Y.height+2*$}`;T.attr("viewBox",K)},draw=(C,T,$)=>{log$1.debug(`renering svg for syntax error
`);const V=selectSvgElement(T);V.attr("viewBox","0 0 2412 512"),configureSvgSize(V,100,512,!0);const Y=V.append("g");Y.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),Y.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),Y.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),Y.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),Y.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),Y.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),Y.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),Y.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${$}`)},renderer={draw},errorRenderer=renderer,diagram={db:{},renderer,parser:{parser:{yy:{}},parse:()=>{}}},errorDiagram=diagram,id$3="flowchart-elk",detector$3=(C,T)=>{var $;return!!(/^\s*flowchart-elk/.test(C)||/^\s*flowchart|graph/.test(C)&&(($=T?.flowchart)==null?void 0:$.defaultRenderer)==="elk")},loader$4=async()=>{const{diagram:C}=await __vitePreload(()=>import("./flowchart-elk-definition-4ac3371a-5e559cd0.js"),["assets/flowchart-elk-definition-4ac3371a-5e559cd0.js","assets/flowDb-bd9f2a91-dbe3c59b.js","assets/edges-bc33a094-f1f6ce3e.js","assets/createText-b3507a77-d17939b5.js","assets/line-f6b7cf79.js","assets/array-9f3ba611.js","assets/path-53f90ab3.js","assets/lodash-6114c6d4.js","assets/antd-4d5318cf.js","assets/chance-d5bce0ad.js"]);return{id:id$3,diagram:C}},plugin$3={id:id$3,detector:detector$3,loader:loader$4},flowchartElk=plugin$3,id$2="timeline",detector$2=C=>/^\s*timeline/.test(C),loader$3=async()=>{const{diagram:C}=await __vitePreload(()=>import("./timeline-definition-2815a264-8a63f3b2.js"),["assets/timeline-definition-2815a264-8a63f3b2.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/arc-e83c01ed.js","assets/path-53f90ab3.js","assets/chance-d5bce0ad.js"]);return{id:id$2,diagram:C}},plugin$2={id:id$2,detector:detector$2,loader:loader$3},timeline=plugin$2,id$1="mindmap",detector$1=C=>/^\s*mindmap/.test(C),loader$2=async()=>{const{diagram:C}=await __vitePreload(()=>import("./mindmap-definition-9a80f489-5c41a846.js"),["assets/mindmap-definition-9a80f489-5c41a846.js","assets/createText-b3507a77-d17939b5.js","assets/lodash-6114c6d4.js","assets/antd-4d5318cf.js","assets/chance-d5bce0ad.js"]);return{id:id$1,diagram:C}},plugin$1={id:id$1,detector:detector$1,loader:loader$2},mindmap=plugin$1,id="sankey",detector=C=>/^\s*sankey-beta/.test(C),loader$1=async()=>{const{diagram:C}=await __vitePreload(()=>import("./sankeyDiagram-31fcfff2-52512266.js"),["assets/sankeyDiagram-31fcfff2-52512266.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/ordinal-ba9b4969.js","assets/init-77b53fdd.js","assets/chance-d5bce0ad.js"]);return{id,diagram:C}},plugin={id,detector,loader:loader$1},sankey=plugin,themes={},getStyles=(C,T,$)=>{let V="";return C in themes&&themes[C]?V=themes[C]($):log$1.warn(`No theme found for ${C}`),` & {
    font-family: ${$.fontFamily};
    font-size: ${$.fontSize};
    fill: ${$.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${$.errorBkgColor};
  }
  & .error-text {
    fill: ${$.errorTextColor};
    stroke: ${$.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${$.lineColor};
    stroke: ${$.lineColor};
  }
  & .marker.cross {
    stroke: ${$.lineColor};
  }

  & svg {
    font-family: ${$.fontFamily};
    font-size: ${$.fontSize};
  }

  ${V}

  ${T}
`},addStylesForDiagram=(C,T)=>{T!==void 0&&(themes[C]=T)},getStyles$1=getStyles;let accTitle="",diagramTitle="",accDescription="";const sanitizeText$1=C=>sanitizeText$2(C,getConfig$1()),clear$1=()=>{accTitle="",accDescription="",diagramTitle=""},setAccTitle=C=>{accTitle=sanitizeText$1(C).replace(/^\s+/g,"")},getAccTitle=()=>accTitle,setAccDescription=C=>{accDescription=sanitizeText$1(C).replace(/\n\s+/g,`
`)},getAccDescription=()=>accDescription,setDiagramTitle=C=>{diagramTitle=sanitizeText$1(C)},getDiagramTitle=()=>diagramTitle,commonDb=Object.freeze(Object.defineProperty({__proto__:null,clear:clear$1,getAccDescription,getAccTitle,getDiagramTitle,setAccDescription,setAccTitle,setDiagramTitle},Symbol.toStringTag,{value:"Module"})),log=log$1,setLogLevel=setLogLevel$1,getConfig=getConfig$1,sanitizeText=C=>sanitizeText$2(C,getConfig()),setupGraphViewbox=setupGraphViewbox$1,getCommonDb=()=>commonDb,diagrams={},registerDiagram=(C,T,$)=>{var V;if(diagrams[C])throw new Error(`Diagram ${C} already registered.`);diagrams[C]=T,$&&addDetector(C,$),addStylesForDiagram(C,T.styles),(V=T.injectUtils)==null||V.call(T,log,setLogLevel,getConfig,sanitizeText,setupGraphViewbox,getCommonDb(),()=>{})},getDiagram=C=>{if(C in diagrams)return diagrams[C];throw new DiagramNotFoundError(C)};class DiagramNotFoundError extends Error{constructor(T){super(`Diagram ${T} not found.`)}}let hasLoadedDiagrams=!1;const addDiagrams=()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",errorDiagram,C=>C.toLowerCase().trim()==="error"),registerDiagram("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},C=>C.toLowerCase().trimStart().startsWith("---")),registerLazyLoadedDiagrams(c4,classDiagramV2,classDiagram,er,gantt,info,pie,requirement,sequence,flowchartElk,flowchartV2,flowchart,mindmap,timeline,git,stateV2,state,journey,quadrantChart,sankey))};class Diagram{constructor(T,$={}){this.text=T,this.metadata=$,this.type="graph",this.text+=`
`;const V=getConfig$1();try{this.type=detectType(T,V)}catch(ee){this.type="error",this.detectError=ee}const Y=getDiagram(this.type);log$1.debug("Type "+this.type),this.db=Y.db,this.renderer=Y.renderer,this.parser=Y.parser,this.parser.parser.yy=this.db,this.init=Y.init,this.parse()}parse(){var T,$,V,Y,ee;if(this.detectError)throw this.detectError;($=(T=this.db).clear)==null||$.call(T);const te=getConfig$1();(V=this.init)==null||V.call(this,te),this.metadata.title&&((ee=(Y=this.db).setDiagramTitle)==null||ee.call(Y,this.metadata.title)),this.parser.parse(this.text)}async render(T,$){await this.renderer.draw(this.text,T,$,this)}getParser(){return this.parser}getType(){return this.type}}const getDiagramFromText=async(C,T={})=>{const $=detectType(C,getConfig$1());try{getDiagram($)}catch{const Y=getDiagramLoader($);if(!Y)throw new UnknownDiagramError(`Diagram ${$} not found.`);const{id:ee,diagram:te}=await Y();registerDiagram(ee,te)}return new Diagram(C,T)};let interactionFunctions=[];const addFunction=C=>{interactionFunctions.push(C)},attachFunctions=()=>{interactionFunctions.forEach(C=>{C()}),interactionFunctions=[]},SVG_ROLE="graphics-document document";function setA11yDiagramInfo(C,T){C.attr("role",SVG_ROLE),T!==""&&C.attr("aria-roledescription",T)}function addSVGa11yTitleDescription(C,T,$,V){if(C.insert!==void 0){if($){const Y=`chart-desc-${V}`;C.attr("aria-describedby",Y),C.insert("desc",":first-child").attr("id",Y).text($)}if(T){const Y=`chart-title-${V}`;C.attr("aria-labelledby",Y),C.insert("title",":first-child").attr("id",Y).text(T)}}}const cleanupComments=C=>C.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing(C){return typeof C>"u"||C===null}function isObject$3(C){return typeof C=="object"&&C!==null}function toArray(C){return Array.isArray(C)?C:isNothing(C)?[]:[C]}function extend$1(C,T){var $,V,Y,ee;if(T)for(ee=Object.keys(T),$=0,V=ee.length;$<V;$+=1)Y=ee[$],C[Y]=T[Y];return C}function repeat(C,T){var $="",V;for(V=0;V<T;V+=1)$+=C;return $}function isNegativeZero(C){return C===0&&Number.NEGATIVE_INFINITY===1/C}var isNothing_1=isNothing,isObject_1=isObject$3,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend$1,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(C,T){var $="",V=C.reason||"(unknown reason)";return C.mark?(C.mark.name&&($+='in "'+C.mark.name+'" '),$+="("+(C.mark.line+1)+":"+(C.mark.column+1)+")",!T&&C.mark.snippet&&($+=`

`+C.mark.snippet),V+" "+$):V}function YAMLException$1(C,T){Error.call(this),this.name="YAMLException",this.reason=C,this.mark=T,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=function C(T){return this.name+": "+formatError(this,T)};var exception=YAMLException$1;function getLine(C,T,$,V,Y){var ee="",te="",J=Math.floor(Y/2)-1;return V-T>J&&(ee=" ... ",T=V-J+ee.length),$-V>J&&(te=" ...",$=V+J-te.length),{str:ee+C.slice(T,$).replace(/\t/g,"")+te,pos:V-T+ee.length}}function padStart(C,T){return common.repeat(" ",T-C.length)+C}function makeSnippet(C,T){if(T=Object.create(T||null),!C.buffer)return null;T.maxLength||(T.maxLength=79),typeof T.indent!="number"&&(T.indent=1),typeof T.linesBefore!="number"&&(T.linesBefore=3),typeof T.linesAfter!="number"&&(T.linesAfter=2);for(var $=/\r?\n|\r|\0/g,V=[0],Y=[],ee,te=-1;ee=$.exec(C.buffer);)Y.push(ee.index),V.push(ee.index+ee[0].length),C.position<=ee.index&&te<0&&(te=V.length-2);te<0&&(te=V.length-1);var J="",ie,K,re=Math.min(C.line+T.linesAfter,Y.length).toString().length,ne=T.maxLength-(T.indent+re+3);for(ie=1;ie<=T.linesBefore&&!(te-ie<0);ie++)K=getLine(C.buffer,V[te-ie],Y[te-ie],C.position-(V[te]-V[te-ie]),ne),J=common.repeat(" ",T.indent)+padStart((C.line-ie+1).toString(),re)+" | "+K.str+`
`+J;for(K=getLine(C.buffer,V[te],Y[te],C.position,ne),J+=common.repeat(" ",T.indent)+padStart((C.line+1).toString(),re)+" | "+K.str+`
`,J+=common.repeat("-",T.indent+re+3+K.pos)+`^
`,ie=1;ie<=T.linesAfter&&!(te+ie>=Y.length);ie++)K=getLine(C.buffer,V[te+ie],Y[te+ie],C.position-(V[te]-V[te+ie]),ne),J+=common.repeat(" ",T.indent)+padStart((C.line+ie+1).toString(),re)+" | "+K.str+`
`;return J.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(C){var T={};return C!==null&&Object.keys(C).forEach(function($){C[$].forEach(function(V){T[String(V)]=$})}),T}function Type$1(C,T){if(T=T||{},Object.keys(T).forEach(function($){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf($)===-1)throw new exception('Unknown option "'+$+'" is met in definition of "'+C+'" YAML type.')}),this.options=T,this.tag=C,this.kind=T.kind||null,this.resolve=T.resolve||function(){return!0},this.construct=T.construct||function($){return $},this.instanceOf=T.instanceOf||null,this.predicate=T.predicate||null,this.represent=T.represent||null,this.representName=T.representName||null,this.defaultStyle=T.defaultStyle||null,this.multi=T.multi||!1,this.styleAliases=compileStyleAliases(T.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+C+'" YAML type.')}var type=Type$1;function compileList(C,T){var $=[];return C[T].forEach(function(V){var Y=$.length;$.forEach(function(ee,te){ee.tag===V.tag&&ee.kind===V.kind&&ee.multi===V.multi&&(Y=te)}),$[Y]=V}),$}function compileMap(){var C={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},T,$;function V(Y){Y.multi?(C.multi[Y.kind].push(Y),C.multi.fallback.push(Y)):C[Y.kind][Y.tag]=C.fallback[Y.tag]=Y}for(T=0,$=arguments.length;T<$;T+=1)arguments[T].forEach(V);return C}function Schema$1(C){return this.extend(C)}Schema$1.prototype.extend=function C(T){var $=[],V=[];if(T instanceof type)V.push(T);else if(Array.isArray(T))V=V.concat(T);else if(T&&(Array.isArray(T.implicit)||Array.isArray(T.explicit)))T.implicit&&($=$.concat(T.implicit)),T.explicit&&(V=V.concat(T.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");$.forEach(function(ee){if(!(ee instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(ee.loadKind&&ee.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(ee.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),V.forEach(function(ee){if(!(ee instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var Y=Object.create(Schema$1.prototype);return Y.implicit=(this.implicit||[]).concat($),Y.explicit=(this.explicit||[]).concat(V),Y.compiledImplicit=compileList(Y,"implicit"),Y.compiledExplicit=compileList(Y,"explicit"),Y.compiledTypeMap=compileMap(Y.compiledImplicit,Y.compiledExplicit),Y};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(C){return C!==null?C:""}}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(C){return C!==null?C:[]}}),map$1=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(C){return C!==null?C:{}}}),failsafe=new schema({explicit:[str,seq,map$1]});function resolveYamlNull(C){if(C===null)return!0;var T=C.length;return T===1&&C==="~"||T===4&&(C==="null"||C==="Null"||C==="NULL")}function constructYamlNull(){return null}function isNull$1(C){return C===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull$1,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(C){if(C===null)return!1;var T=C.length;return T===4&&(C==="true"||C==="True"||C==="TRUE")||T===5&&(C==="false"||C==="False"||C==="FALSE")}function constructYamlBoolean(C){return C==="true"||C==="True"||C==="TRUE"}function isBoolean$1(C){return Object.prototype.toString.call(C)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean$1,represent:{lowercase:function(C){return C?"true":"false"},uppercase:function(C){return C?"TRUE":"FALSE"},camelcase:function(C){return C?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(C){return 48<=C&&C<=57||65<=C&&C<=70||97<=C&&C<=102}function isOctCode(C){return 48<=C&&C<=55}function isDecCode(C){return 48<=C&&C<=57}function resolveYamlInteger(C){if(C===null)return!1;var T=C.length,$=0,V=!1,Y;if(!T)return!1;if(Y=C[$],(Y==="-"||Y==="+")&&(Y=C[++$]),Y==="0"){if($+1===T)return!0;if(Y=C[++$],Y==="b"){for($++;$<T;$++)if(Y=C[$],Y!=="_"){if(Y!=="0"&&Y!=="1")return!1;V=!0}return V&&Y!=="_"}if(Y==="x"){for($++;$<T;$++)if(Y=C[$],Y!=="_"){if(!isHexCode(C.charCodeAt($)))return!1;V=!0}return V&&Y!=="_"}if(Y==="o"){for($++;$<T;$++)if(Y=C[$],Y!=="_"){if(!isOctCode(C.charCodeAt($)))return!1;V=!0}return V&&Y!=="_"}}if(Y==="_")return!1;for(;$<T;$++)if(Y=C[$],Y!=="_"){if(!isDecCode(C.charCodeAt($)))return!1;V=!0}return!(!V||Y==="_")}function constructYamlInteger(C){var T=C,$=1,V;if(T.indexOf("_")!==-1&&(T=T.replace(/_/g,"")),V=T[0],(V==="-"||V==="+")&&(V==="-"&&($=-1),T=T.slice(1),V=T[0]),T==="0")return 0;if(V==="0"){if(T[1]==="b")return $*parseInt(T.slice(2),2);if(T[1]==="x")return $*parseInt(T.slice(2),16);if(T[1]==="o")return $*parseInt(T.slice(2),8)}return $*parseInt(T,10)}function isInteger(C){return Object.prototype.toString.call(C)==="[object Number]"&&C%1===0&&!common.isNegativeZero(C)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(C){return C>=0?"0b"+C.toString(2):"-0b"+C.toString(2).slice(1)},octal:function(C){return C>=0?"0o"+C.toString(8):"-0o"+C.toString(8).slice(1)},decimal:function(C){return C.toString(10)},hexadecimal:function(C){return C>=0?"0x"+C.toString(16).toUpperCase():"-0x"+C.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(C){return!(C===null||!YAML_FLOAT_PATTERN.test(C)||C[C.length-1]==="_")}function constructYamlFloat(C){var T,$;return T=C.replace(/_/g,"").toLowerCase(),$=T[0]==="-"?-1:1,"+-".indexOf(T[0])>=0&&(T=T.slice(1)),T===".inf"?$===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:T===".nan"?NaN:$*parseFloat(T,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(C,T){var $;if(isNaN(C))switch(T){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===C)switch(T){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===C)switch(T){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(C))return"-0.0";return $=C.toString(10),SCIENTIFIC_WITHOUT_DOT.test($)?$.replace("e",".e"):$}function isFloat(C){return Object.prototype.toString.call(C)==="[object Number]"&&(C%1!==0||common.isNegativeZero(C))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(C){return C===null?!1:YAML_DATE_REGEXP.exec(C)!==null||YAML_TIMESTAMP_REGEXP.exec(C)!==null}function constructYamlTimestamp(C){var T,$,V,Y,ee,te,J,ie=0,K=null,re,ne,le;if(T=YAML_DATE_REGEXP.exec(C),T===null&&(T=YAML_TIMESTAMP_REGEXP.exec(C)),T===null)throw new Error("Date resolve error");if($=+T[1],V=+T[2]-1,Y=+T[3],!T[4])return new Date(Date.UTC($,V,Y));if(ee=+T[4],te=+T[5],J=+T[6],T[7]){for(ie=T[7].slice(0,3);ie.length<3;)ie+="0";ie=+ie}return T[9]&&(re=+T[10],ne=+(T[11]||0),K=(re*60+ne)*6e4,T[9]==="-"&&(K=-K)),le=new Date(Date.UTC($,V,Y,ee,te,J,ie)),K&&le.setTime(le.getTime()-K),le}function representYamlTimestamp(C){return C.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(C){return C==="<<"||C===null}var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(C){if(C===null)return!1;var T,$,V=0,Y=C.length,ee=BASE64_MAP;for($=0;$<Y;$++)if(T=ee.indexOf(C.charAt($)),!(T>64)){if(T<0)return!1;V+=6}return V%8===0}function constructYamlBinary(C){var T,$,V=C.replace(/[\r\n=]/g,""),Y=V.length,ee=BASE64_MAP,te=0,J=[];for(T=0;T<Y;T++)T%4===0&&T&&(J.push(te>>16&255),J.push(te>>8&255),J.push(te&255)),te=te<<6|ee.indexOf(V.charAt(T));return $=Y%4*6,$===0?(J.push(te>>16&255),J.push(te>>8&255),J.push(te&255)):$===18?(J.push(te>>10&255),J.push(te>>2&255)):$===12&&J.push(te>>4&255),new Uint8Array(J)}function representYamlBinary(C){var T="",$=0,V,Y,ee=C.length,te=BASE64_MAP;for(V=0;V<ee;V++)V%3===0&&V&&(T+=te[$>>18&63],T+=te[$>>12&63],T+=te[$>>6&63],T+=te[$&63]),$=($<<8)+C[V];return Y=ee%3,Y===0?(T+=te[$>>18&63],T+=te[$>>12&63],T+=te[$>>6&63],T+=te[$&63]):Y===2?(T+=te[$>>10&63],T+=te[$>>4&63],T+=te[$<<2&63],T+=te[64]):Y===1&&(T+=te[$>>2&63],T+=te[$<<4&63],T+=te[64],T+=te[64]),T}function isBinary(C){return Object.prototype.toString.call(C)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(C){if(C===null)return!0;var T=[],$,V,Y,ee,te,J=C;for($=0,V=J.length;$<V;$+=1){if(Y=J[$],te=!1,_toString$2.call(Y)!=="[object Object]")return!1;for(ee in Y)if(_hasOwnProperty$3.call(Y,ee))if(!te)te=!0;else return!1;if(!te)return!1;if(T.indexOf(ee)===-1)T.push(ee);else return!1}return!0}function constructYamlOmap(C){return C!==null?C:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(C){if(C===null)return!0;var T,$,V,Y,ee,te=C;for(ee=new Array(te.length),T=0,$=te.length;T<$;T+=1){if(V=te[T],_toString$1.call(V)!=="[object Object]"||(Y=Object.keys(V),Y.length!==1))return!1;ee[T]=[Y[0],V[Y[0]]]}return!0}function constructYamlPairs(C){if(C===null)return[];var T,$,V,Y,ee,te=C;for(ee=new Array(te.length),T=0,$=te.length;T<$;T+=1)V=te[T],Y=Object.keys(V),ee[T]=[Y[0],V[Y[0]]];return ee}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(C){if(C===null)return!0;var T,$=C;for(T in $)if(_hasOwnProperty$2.call($,T)&&$[T]!==null)return!1;return!0}function constructYamlSet(C){return C!==null?C:{}}var set$1=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default$1=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set$1]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(C){return Object.prototype.toString.call(C)}function is_EOL(C){return C===10||C===13}function is_WHITE_SPACE(C){return C===9||C===32}function is_WS_OR_EOL(C){return C===9||C===32||C===10||C===13}function is_FLOW_INDICATOR(C){return C===44||C===91||C===93||C===123||C===125}function fromHexCode(C){var T;return 48<=C&&C<=57?C-48:(T=C|32,97<=T&&T<=102?T-97+10:-1)}function escapedHexLen(C){return C===120?2:C===117?4:C===85?8:0}function fromDecimalCode(C){return 48<=C&&C<=57?C-48:-1}function simpleEscapeSequence(C){return C===48?"\0":C===97?"\x07":C===98?"\b":C===116||C===9?"	":C===110?`
`:C===118?"\v":C===102?"\f":C===114?"\r":C===101?"\x1B":C===32?" ":C===34?'"':C===47?"/":C===92?"\\":C===78?"":C===95?"":C===76?"\u2028":C===80?"\u2029":""}function charFromCodepoint(C){return C<=65535?String.fromCharCode(C):String.fromCharCode((C-65536>>10)+55296,(C-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(C,T){this.input=C,this.filename=T.filename||null,this.schema=T.schema||_default$1,this.onWarning=T.onWarning||null,this.legacy=T.legacy||!1,this.json=T.json||!1,this.listener=T.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=C.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(C,T){var $={name:C.filename,buffer:C.input.slice(0,-1),position:C.position,line:C.line,column:C.position-C.lineStart};return $.snippet=snippet($),new exception(T,$)}function throwError(C,T){throw generateError(C,T)}function throwWarning(C,T){C.onWarning&&C.onWarning.call(null,generateError(C,T))}var directiveHandlers={YAML:function C(T,$,V){var Y,ee,te;T.version!==null&&throwError(T,"duplication of %YAML directive"),V.length!==1&&throwError(T,"YAML directive accepts exactly one argument"),Y=/^([0-9]+)\.([0-9]+)$/.exec(V[0]),Y===null&&throwError(T,"ill-formed argument of the YAML directive"),ee=parseInt(Y[1],10),te=parseInt(Y[2],10),ee!==1&&throwError(T,"unacceptable YAML version of the document"),T.version=V[0],T.checkLineBreaks=te<2,te!==1&&te!==2&&throwWarning(T,"unsupported YAML version of the document")},TAG:function C(T,$,V){var Y,ee;V.length!==2&&throwError(T,"TAG directive accepts exactly two arguments"),Y=V[0],ee=V[1],PATTERN_TAG_HANDLE.test(Y)||throwError(T,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(T.tagMap,Y)&&throwError(T,'there is a previously declared suffix for "'+Y+'" tag handle'),PATTERN_TAG_URI.test(ee)||throwError(T,"ill-formed tag prefix (second argument) of the TAG directive");try{ee=decodeURIComponent(ee)}catch{throwError(T,"tag prefix is malformed: "+ee)}T.tagMap[Y]=ee}};function captureSegment(C,T,$,V){var Y,ee,te,J;if(T<$){if(J=C.input.slice(T,$),V)for(Y=0,ee=J.length;Y<ee;Y+=1)te=J.charCodeAt(Y),te===9||32<=te&&te<=1114111||throwError(C,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(J)&&throwError(C,"the stream contains non-printable characters");C.result+=J}}function mergeMappings(C,T,$,V){var Y,ee,te,J;for(common.isObject($)||throwError(C,"cannot merge mappings; the provided source object is unacceptable"),Y=Object.keys($),te=0,J=Y.length;te<J;te+=1)ee=Y[te],_hasOwnProperty$1.call(T,ee)||(T[ee]=$[ee],V[ee]=!0)}function storeMappingPair(C,T,$,V,Y,ee,te,J,ie){var K,re;if(Array.isArray(Y))for(Y=Array.prototype.slice.call(Y),K=0,re=Y.length;K<re;K+=1)Array.isArray(Y[K])&&throwError(C,"nested arrays are not supported inside keys"),typeof Y=="object"&&_class(Y[K])==="[object Object]"&&(Y[K]="[object Object]");if(typeof Y=="object"&&_class(Y)==="[object Object]"&&(Y="[object Object]"),Y=String(Y),T===null&&(T={}),V==="tag:yaml.org,2002:merge")if(Array.isArray(ee))for(K=0,re=ee.length;K<re;K+=1)mergeMappings(C,T,ee[K],$);else mergeMappings(C,T,ee,$);else!C.json&&!_hasOwnProperty$1.call($,Y)&&_hasOwnProperty$1.call(T,Y)&&(C.line=te||C.line,C.lineStart=J||C.lineStart,C.position=ie||C.position,throwError(C,"duplicated mapping key")),Y==="__proto__"?Object.defineProperty(T,Y,{configurable:!0,enumerable:!0,writable:!0,value:ee}):T[Y]=ee,delete $[Y];return T}function readLineBreak(C){var T;T=C.input.charCodeAt(C.position),T===10?C.position++:T===13?(C.position++,C.input.charCodeAt(C.position)===10&&C.position++):throwError(C,"a line break is expected"),C.line+=1,C.lineStart=C.position,C.firstTabInLine=-1}function skipSeparationSpace(C,T,$){for(var V=0,Y=C.input.charCodeAt(C.position);Y!==0;){for(;is_WHITE_SPACE(Y);)Y===9&&C.firstTabInLine===-1&&(C.firstTabInLine=C.position),Y=C.input.charCodeAt(++C.position);if(T&&Y===35)do Y=C.input.charCodeAt(++C.position);while(Y!==10&&Y!==13&&Y!==0);if(is_EOL(Y))for(readLineBreak(C),Y=C.input.charCodeAt(C.position),V++,C.lineIndent=0;Y===32;)C.lineIndent++,Y=C.input.charCodeAt(++C.position);else break}return $!==-1&&V!==0&&C.lineIndent<$&&throwWarning(C,"deficient indentation"),V}function testDocumentSeparator(C){var T=C.position,$;return $=C.input.charCodeAt(T),!!(($===45||$===46)&&$===C.input.charCodeAt(T+1)&&$===C.input.charCodeAt(T+2)&&(T+=3,$=C.input.charCodeAt(T),$===0||is_WS_OR_EOL($)))}function writeFoldedLines(C,T){T===1?C.result+=" ":T>1&&(C.result+=common.repeat(`
`,T-1))}function readPlainScalar(C,T,$){var V,Y,ee,te,J,ie,K,re,ne=C.kind,le=C.result,ae;if(ae=C.input.charCodeAt(C.position),is_WS_OR_EOL(ae)||is_FLOW_INDICATOR(ae)||ae===35||ae===38||ae===42||ae===33||ae===124||ae===62||ae===39||ae===34||ae===37||ae===64||ae===96||(ae===63||ae===45)&&(Y=C.input.charCodeAt(C.position+1),is_WS_OR_EOL(Y)||$&&is_FLOW_INDICATOR(Y)))return!1;for(C.kind="scalar",C.result="",ee=te=C.position,J=!1;ae!==0;){if(ae===58){if(Y=C.input.charCodeAt(C.position+1),is_WS_OR_EOL(Y)||$&&is_FLOW_INDICATOR(Y))break}else if(ae===35){if(V=C.input.charCodeAt(C.position-1),is_WS_OR_EOL(V))break}else{if(C.position===C.lineStart&&testDocumentSeparator(C)||$&&is_FLOW_INDICATOR(ae))break;if(is_EOL(ae))if(ie=C.line,K=C.lineStart,re=C.lineIndent,skipSeparationSpace(C,!1,-1),C.lineIndent>=T){J=!0,ae=C.input.charCodeAt(C.position);continue}else{C.position=te,C.line=ie,C.lineStart=K,C.lineIndent=re;break}}J&&(captureSegment(C,ee,te,!1),writeFoldedLines(C,C.line-ie),ee=te=C.position,J=!1),is_WHITE_SPACE(ae)||(te=C.position+1),ae=C.input.charCodeAt(++C.position)}return captureSegment(C,ee,te,!1),C.result?!0:(C.kind=ne,C.result=le,!1)}function readSingleQuotedScalar(C,T){var $,V,Y;if($=C.input.charCodeAt(C.position),$!==39)return!1;for(C.kind="scalar",C.result="",C.position++,V=Y=C.position;($=C.input.charCodeAt(C.position))!==0;)if($===39)if(captureSegment(C,V,C.position,!0),$=C.input.charCodeAt(++C.position),$===39)V=C.position,C.position++,Y=C.position;else return!0;else is_EOL($)?(captureSegment(C,V,Y,!0),writeFoldedLines(C,skipSeparationSpace(C,!1,T)),V=Y=C.position):C.position===C.lineStart&&testDocumentSeparator(C)?throwError(C,"unexpected end of the document within a single quoted scalar"):(C.position++,Y=C.position);throwError(C,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(C,T){var $,V,Y,ee,te,J;if(J=C.input.charCodeAt(C.position),J!==34)return!1;for(C.kind="scalar",C.result="",C.position++,$=V=C.position;(J=C.input.charCodeAt(C.position))!==0;){if(J===34)return captureSegment(C,$,C.position,!0),C.position++,!0;if(J===92){if(captureSegment(C,$,C.position,!0),J=C.input.charCodeAt(++C.position),is_EOL(J))skipSeparationSpace(C,!1,T);else if(J<256&&simpleEscapeCheck[J])C.result+=simpleEscapeMap[J],C.position++;else if((te=escapedHexLen(J))>0){for(Y=te,ee=0;Y>0;Y--)J=C.input.charCodeAt(++C.position),(te=fromHexCode(J))>=0?ee=(ee<<4)+te:throwError(C,"expected hexadecimal character");C.result+=charFromCodepoint(ee),C.position++}else throwError(C,"unknown escape sequence");$=V=C.position}else is_EOL(J)?(captureSegment(C,$,V,!0),writeFoldedLines(C,skipSeparationSpace(C,!1,T)),$=V=C.position):C.position===C.lineStart&&testDocumentSeparator(C)?throwError(C,"unexpected end of the document within a double quoted scalar"):(C.position++,V=C.position)}throwError(C,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(C,T){var $=!0,V,Y,ee,te=C.tag,J,ie=C.anchor,K,re,ne,le,ae,se=Object.create(null),ue,de,ce,be;if(be=C.input.charCodeAt(C.position),be===91)re=93,ae=!1,J=[];else if(be===123)re=125,ae=!0,J={};else return!1;for(C.anchor!==null&&(C.anchorMap[C.anchor]=J),be=C.input.charCodeAt(++C.position);be!==0;){if(skipSeparationSpace(C,!0,T),be=C.input.charCodeAt(C.position),be===re)return C.position++,C.tag=te,C.anchor=ie,C.kind=ae?"mapping":"sequence",C.result=J,!0;$?be===44&&throwError(C,"expected the node content, but found ','"):throwError(C,"missed comma between flow collection entries"),de=ue=ce=null,ne=le=!1,be===63&&(K=C.input.charCodeAt(C.position+1),is_WS_OR_EOL(K)&&(ne=le=!0,C.position++,skipSeparationSpace(C,!0,T))),V=C.line,Y=C.lineStart,ee=C.position,composeNode(C,T,CONTEXT_FLOW_IN,!1,!0),de=C.tag,ue=C.result,skipSeparationSpace(C,!0,T),be=C.input.charCodeAt(C.position),(le||C.line===V)&&be===58&&(ne=!0,be=C.input.charCodeAt(++C.position),skipSeparationSpace(C,!0,T),composeNode(C,T,CONTEXT_FLOW_IN,!1,!0),ce=C.result),ae?storeMappingPair(C,J,se,de,ue,ce,V,Y,ee):ne?J.push(storeMappingPair(C,null,se,de,ue,ce,V,Y,ee)):J.push(ue),skipSeparationSpace(C,!0,T),be=C.input.charCodeAt(C.position),be===44?($=!0,be=C.input.charCodeAt(++C.position)):$=!1}throwError(C,"unexpected end of the stream within a flow collection")}function readBlockScalar(C,T){var $,V,Y=CHOMPING_CLIP,ee=!1,te=!1,J=T,ie=0,K=!1,re,ne;if(ne=C.input.charCodeAt(C.position),ne===124)V=!1;else if(ne===62)V=!0;else return!1;for(C.kind="scalar",C.result="";ne!==0;)if(ne=C.input.charCodeAt(++C.position),ne===43||ne===45)CHOMPING_CLIP===Y?Y=ne===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(C,"repeat of a chomping mode identifier");else if((re=fromDecimalCode(ne))>=0)re===0?throwError(C,"bad explicit indentation width of a block scalar; it cannot be less than one"):te?throwError(C,"repeat of an indentation width identifier"):(J=T+re-1,te=!0);else break;if(is_WHITE_SPACE(ne)){do ne=C.input.charCodeAt(++C.position);while(is_WHITE_SPACE(ne));if(ne===35)do ne=C.input.charCodeAt(++C.position);while(!is_EOL(ne)&&ne!==0)}for(;ne!==0;){for(readLineBreak(C),C.lineIndent=0,ne=C.input.charCodeAt(C.position);(!te||C.lineIndent<J)&&ne===32;)C.lineIndent++,ne=C.input.charCodeAt(++C.position);if(!te&&C.lineIndent>J&&(J=C.lineIndent),is_EOL(ne)){ie++;continue}if(C.lineIndent<J){Y===CHOMPING_KEEP?C.result+=common.repeat(`
`,ee?1+ie:ie):Y===CHOMPING_CLIP&&ee&&(C.result+=`
`);break}for(V?is_WHITE_SPACE(ne)?(K=!0,C.result+=common.repeat(`
`,ee?1+ie:ie)):K?(K=!1,C.result+=common.repeat(`
`,ie+1)):ie===0?ee&&(C.result+=" "):C.result+=common.repeat(`
`,ie):C.result+=common.repeat(`
`,ee?1+ie:ie),ee=!0,te=!0,ie=0,$=C.position;!is_EOL(ne)&&ne!==0;)ne=C.input.charCodeAt(++C.position);captureSegment(C,$,C.position,!1)}return!0}function readBlockSequence(C,T){var $,V=C.tag,Y=C.anchor,ee=[],te,J=!1,ie;if(C.firstTabInLine!==-1)return!1;for(C.anchor!==null&&(C.anchorMap[C.anchor]=ee),ie=C.input.charCodeAt(C.position);ie!==0&&(C.firstTabInLine!==-1&&(C.position=C.firstTabInLine,throwError(C,"tab characters must not be used in indentation")),!(ie!==45||(te=C.input.charCodeAt(C.position+1),!is_WS_OR_EOL(te))));){if(J=!0,C.position++,skipSeparationSpace(C,!0,-1)&&C.lineIndent<=T){ee.push(null),ie=C.input.charCodeAt(C.position);continue}if($=C.line,composeNode(C,T,CONTEXT_BLOCK_IN,!1,!0),ee.push(C.result),skipSeparationSpace(C,!0,-1),ie=C.input.charCodeAt(C.position),(C.line===$||C.lineIndent>T)&&ie!==0)throwError(C,"bad indentation of a sequence entry");else if(C.lineIndent<T)break}return J?(C.tag=V,C.anchor=Y,C.kind="sequence",C.result=ee,!0):!1}function readBlockMapping(C,T,$){var V,Y,ee,te,J,ie,K=C.tag,re=C.anchor,ne={},le=Object.create(null),ae=null,se=null,ue=null,de=!1,ce=!1,be;if(C.firstTabInLine!==-1)return!1;for(C.anchor!==null&&(C.anchorMap[C.anchor]=ne),be=C.input.charCodeAt(C.position);be!==0;){if(!de&&C.firstTabInLine!==-1&&(C.position=C.firstTabInLine,throwError(C,"tab characters must not be used in indentation")),V=C.input.charCodeAt(C.position+1),ee=C.line,(be===63||be===58)&&is_WS_OR_EOL(V))be===63?(de&&(storeMappingPair(C,ne,le,ae,se,null,te,J,ie),ae=se=ue=null),ce=!0,de=!0,Y=!0):de?(de=!1,Y=!0):throwError(C,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),C.position+=1,be=V;else{if(te=C.line,J=C.lineStart,ie=C.position,!composeNode(C,$,CONTEXT_FLOW_OUT,!1,!0))break;if(C.line===ee){for(be=C.input.charCodeAt(C.position);is_WHITE_SPACE(be);)be=C.input.charCodeAt(++C.position);if(be===58)be=C.input.charCodeAt(++C.position),is_WS_OR_EOL(be)||throwError(C,"a whitespace character is expected after the key-value separator within a block mapping"),de&&(storeMappingPair(C,ne,le,ae,se,null,te,J,ie),ae=se=ue=null),ce=!0,de=!1,Y=!1,ae=C.tag,se=C.result;else if(ce)throwError(C,"can not read an implicit mapping pair; a colon is missed");else return C.tag=K,C.anchor=re,!0}else if(ce)throwError(C,"can not read a block mapping entry; a multiline key may not be an implicit key");else return C.tag=K,C.anchor=re,!0}if((C.line===ee||C.lineIndent>T)&&(de&&(te=C.line,J=C.lineStart,ie=C.position),composeNode(C,T,CONTEXT_BLOCK_OUT,!0,Y)&&(de?se=C.result:ue=C.result),de||(storeMappingPair(C,ne,le,ae,se,ue,te,J,ie),ae=se=ue=null),skipSeparationSpace(C,!0,-1),be=C.input.charCodeAt(C.position)),(C.line===ee||C.lineIndent>T)&&be!==0)throwError(C,"bad indentation of a mapping entry");else if(C.lineIndent<T)break}return de&&storeMappingPair(C,ne,le,ae,se,null,te,J,ie),ce&&(C.tag=K,C.anchor=re,C.kind="mapping",C.result=ne),ce}function readTagProperty(C){var T,$=!1,V=!1,Y,ee,te;if(te=C.input.charCodeAt(C.position),te!==33)return!1;if(C.tag!==null&&throwError(C,"duplication of a tag property"),te=C.input.charCodeAt(++C.position),te===60?($=!0,te=C.input.charCodeAt(++C.position)):te===33?(V=!0,Y="!!",te=C.input.charCodeAt(++C.position)):Y="!",T=C.position,$){do te=C.input.charCodeAt(++C.position);while(te!==0&&te!==62);C.position<C.length?(ee=C.input.slice(T,C.position),te=C.input.charCodeAt(++C.position)):throwError(C,"unexpected end of the stream within a verbatim tag")}else{for(;te!==0&&!is_WS_OR_EOL(te);)te===33&&(V?throwError(C,"tag suffix cannot contain exclamation marks"):(Y=C.input.slice(T-1,C.position+1),PATTERN_TAG_HANDLE.test(Y)||throwError(C,"named tag handle cannot contain such characters"),V=!0,T=C.position+1)),te=C.input.charCodeAt(++C.position);ee=C.input.slice(T,C.position),PATTERN_FLOW_INDICATORS.test(ee)&&throwError(C,"tag suffix cannot contain flow indicator characters")}ee&&!PATTERN_TAG_URI.test(ee)&&throwError(C,"tag name cannot contain such characters: "+ee);try{ee=decodeURIComponent(ee)}catch{throwError(C,"tag name is malformed: "+ee)}return $?C.tag=ee:_hasOwnProperty$1.call(C.tagMap,Y)?C.tag=C.tagMap[Y]+ee:Y==="!"?C.tag="!"+ee:Y==="!!"?C.tag="tag:yaml.org,2002:"+ee:throwError(C,'undeclared tag handle "'+Y+'"'),!0}function readAnchorProperty(C){var T,$;if($=C.input.charCodeAt(C.position),$!==38)return!1;for(C.anchor!==null&&throwError(C,"duplication of an anchor property"),$=C.input.charCodeAt(++C.position),T=C.position;$!==0&&!is_WS_OR_EOL($)&&!is_FLOW_INDICATOR($);)$=C.input.charCodeAt(++C.position);return C.position===T&&throwError(C,"name of an anchor node must contain at least one character"),C.anchor=C.input.slice(T,C.position),!0}function readAlias(C){var T,$,V;if(V=C.input.charCodeAt(C.position),V!==42)return!1;for(V=C.input.charCodeAt(++C.position),T=C.position;V!==0&&!is_WS_OR_EOL(V)&&!is_FLOW_INDICATOR(V);)V=C.input.charCodeAt(++C.position);return C.position===T&&throwError(C,"name of an alias node must contain at least one character"),$=C.input.slice(T,C.position),_hasOwnProperty$1.call(C.anchorMap,$)||throwError(C,'unidentified alias "'+$+'"'),C.result=C.anchorMap[$],skipSeparationSpace(C,!0,-1),!0}function composeNode(C,T,$,V,Y){var ee,te,J,ie=1,K=!1,re=!1,ne,le,ae,se,ue,de;if(C.listener!==null&&C.listener("open",C),C.tag=null,C.anchor=null,C.kind=null,C.result=null,ee=te=J=CONTEXT_BLOCK_OUT===$||CONTEXT_BLOCK_IN===$,V&&skipSeparationSpace(C,!0,-1)&&(K=!0,C.lineIndent>T?ie=1:C.lineIndent===T?ie=0:C.lineIndent<T&&(ie=-1)),ie===1)for(;readTagProperty(C)||readAnchorProperty(C);)skipSeparationSpace(C,!0,-1)?(K=!0,J=ee,C.lineIndent>T?ie=1:C.lineIndent===T?ie=0:C.lineIndent<T&&(ie=-1)):J=!1;if(J&&(J=K||Y),(ie===1||CONTEXT_BLOCK_OUT===$)&&(CONTEXT_FLOW_IN===$||CONTEXT_FLOW_OUT===$?ue=T:ue=T+1,de=C.position-C.lineStart,ie===1?J&&(readBlockSequence(C,de)||readBlockMapping(C,de,ue))||readFlowCollection(C,ue)?re=!0:(te&&readBlockScalar(C,ue)||readSingleQuotedScalar(C,ue)||readDoubleQuotedScalar(C,ue)?re=!0:readAlias(C)?(re=!0,(C.tag!==null||C.anchor!==null)&&throwError(C,"alias node should not have any properties")):readPlainScalar(C,ue,CONTEXT_FLOW_IN===$)&&(re=!0,C.tag===null&&(C.tag="?")),C.anchor!==null&&(C.anchorMap[C.anchor]=C.result)):ie===0&&(re=J&&readBlockSequence(C,de))),C.tag===null)C.anchor!==null&&(C.anchorMap[C.anchor]=C.result);else if(C.tag==="?"){for(C.result!==null&&C.kind!=="scalar"&&throwError(C,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+C.kind+'"'),ne=0,le=C.implicitTypes.length;ne<le;ne+=1)if(se=C.implicitTypes[ne],se.resolve(C.result)){C.result=se.construct(C.result),C.tag=se.tag,C.anchor!==null&&(C.anchorMap[C.anchor]=C.result);break}}else if(C.tag!=="!"){if(_hasOwnProperty$1.call(C.typeMap[C.kind||"fallback"],C.tag))se=C.typeMap[C.kind||"fallback"][C.tag];else for(se=null,ae=C.typeMap.multi[C.kind||"fallback"],ne=0,le=ae.length;ne<le;ne+=1)if(C.tag.slice(0,ae[ne].tag.length)===ae[ne].tag){se=ae[ne];break}se||throwError(C,"unknown tag !<"+C.tag+">"),C.result!==null&&se.kind!==C.kind&&throwError(C,"unacceptable node kind for !<"+C.tag+'> tag; it should be "'+se.kind+'", not "'+C.kind+'"'),se.resolve(C.result,C.tag)?(C.result=se.construct(C.result,C.tag),C.anchor!==null&&(C.anchorMap[C.anchor]=C.result)):throwError(C,"cannot resolve a node with !<"+C.tag+"> explicit tag")}return C.listener!==null&&C.listener("close",C),C.tag!==null||C.anchor!==null||re}function readDocument(C){var T=C.position,$,V,Y,ee=!1,te;for(C.version=null,C.checkLineBreaks=C.legacy,C.tagMap=Object.create(null),C.anchorMap=Object.create(null);(te=C.input.charCodeAt(C.position))!==0&&(skipSeparationSpace(C,!0,-1),te=C.input.charCodeAt(C.position),!(C.lineIndent>0||te!==37));){for(ee=!0,te=C.input.charCodeAt(++C.position),$=C.position;te!==0&&!is_WS_OR_EOL(te);)te=C.input.charCodeAt(++C.position);for(V=C.input.slice($,C.position),Y=[],V.length<1&&throwError(C,"directive name must not be less than one character in length");te!==0;){for(;is_WHITE_SPACE(te);)te=C.input.charCodeAt(++C.position);if(te===35){do te=C.input.charCodeAt(++C.position);while(te!==0&&!is_EOL(te));break}if(is_EOL(te))break;for($=C.position;te!==0&&!is_WS_OR_EOL(te);)te=C.input.charCodeAt(++C.position);Y.push(C.input.slice($,C.position))}te!==0&&readLineBreak(C),_hasOwnProperty$1.call(directiveHandlers,V)?directiveHandlers[V](C,V,Y):throwWarning(C,'unknown document directive "'+V+'"')}if(skipSeparationSpace(C,!0,-1),C.lineIndent===0&&C.input.charCodeAt(C.position)===45&&C.input.charCodeAt(C.position+1)===45&&C.input.charCodeAt(C.position+2)===45?(C.position+=3,skipSeparationSpace(C,!0,-1)):ee&&throwError(C,"directives end mark is expected"),composeNode(C,C.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(C,!0,-1),C.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(C.input.slice(T,C.position))&&throwWarning(C,"non-ASCII line breaks are interpreted as content"),C.documents.push(C.result),C.position===C.lineStart&&testDocumentSeparator(C)){C.input.charCodeAt(C.position)===46&&(C.position+=3,skipSeparationSpace(C,!0,-1));return}if(C.position<C.length-1)throwError(C,"end of the stream or a document separator is expected");else return}function loadDocuments(C,T){C=String(C),T=T||{},C.length!==0&&(C.charCodeAt(C.length-1)!==10&&C.charCodeAt(C.length-1)!==13&&(C+=`
`),C.charCodeAt(0)===65279&&(C=C.slice(1)));var $=new State$1(C,T),V=C.indexOf("\0");for(V!==-1&&($.position=V,throwError($,"null byte is not allowed in input")),$.input+="\0";$.input.charCodeAt($.position)===32;)$.lineIndent+=1,$.position+=1;for(;$.position<$.length-1;)readDocument($);return $.documents}function loadAll$1(C,T,$){T!==null&&typeof T=="object"&&typeof $>"u"&&($=T,T=null);var V=loadDocuments(C,$);if(typeof T!="function")return V;for(var Y=0,ee=V.length;Y<ee;Y+=1)T(V[Y])}function load$1(C,T){var $=loadDocuments(C,T);if($.length!==0){if($.length===1)return $[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader={loadAll:loadAll_1,load:load_1},JSON_SCHEMA=json,load=loader.load;function extractFrontMatter(C){const T=C.match(frontMatterRegex);if(!T)return{text:C,metadata:{}};let $=load(T[1],{schema:JSON_SCHEMA})??{};$=typeof $=="object"&&!Array.isArray($)?$:{};const V={};return $.displayMode&&(V.displayMode=$.displayMode.toString()),$.title&&(V.title=$.title.toString()),$.config&&(V.config=$.config),{text:C.slice(T[0].length),metadata:V}}const cleanupText=C=>C.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(T,$,V)=>"<"+$+V.replace(/="([^"]*)"/g,"='$1'")+">"),processFrontmatter=C=>{const{text:T,metadata:$}=extractFrontMatter(C),{displayMode:V,title:Y,config:ee={}}=$;return V&&(ee.gantt||(ee.gantt={}),ee.gantt.displayMode=V),{title:Y,config:ee,text:T}},processDirectives=C=>{const T=utils.detectInit(C)??{},$=utils.detectDirective(C,"wrap");return Array.isArray($)?T.wrap=$.some(({type:V})=>{}):$?.type==="wrap"&&(T.wrap=!0),{text:removeDirectives(C),directive:T}};function preprocessDiagram(C){const T=cleanupText(C),$=processFrontmatter(T),V=processDirectives($.text),Y=cleanAndMerge($.config,V.directive);return C=cleanupComments(V.text),{code:C,title:$.title,config:Y}}const MAX_TEXTLENGTH=5e4,MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function processAndSetConfigs(C){const T=preprocessDiagram(C);return reset(),addDirective(T.config??{}),T}async function parse$1(C,T){addDiagrams(),C=processAndSetConfigs(C).code;try{await getDiagramFromText(C)}catch($){if(T?.suppressErrors)return!1;throw $}return!0}const encodeEntities=function(C){let T=C;return T=T.replace(/style.*:\S*#.*;/g,function($){return $.substring(0,$.length-1)}),T=T.replace(/classDef.*:\S*#.*;/g,function($){return $.substring(0,$.length-1)}),T=T.replace(/#\w+;/g,function($){const V=$.substring(1,$.length-1);return/^\+?\d+$/.test(V)?""+V+"":""+V+""}),T},decodeEntities=function(C){return C.replace(//g,"&#").replace(//g,"&").replace(//g,";")},cssImportantStyles=(C,T,$=[])=>`
.${C} ${T} { ${$.join(" !important; ")} !important; }`,createCssStyles=(C,T={})=>{var $;let V="";if(C.themeCSS!==void 0&&(V+=`
${C.themeCSS}`),C.fontFamily!==void 0&&(V+=`
:root { --mermaid-font-family: ${C.fontFamily}}`),C.altFontFamily!==void 0&&(V+=`
:root { --mermaid-alt-font-family: ${C.altFontFamily}}`),!isEmpty(T)){const J=C.htmlLabels||(($=C.flowchart)==null?void 0:$.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const ie in T){const K=T[ie];isEmpty(K.styles)||J.forEach(re=>{V+=cssImportantStyles(K.id,re,K.styles)}),isEmpty(K.textStyles)||(V+=cssImportantStyles(K.id,"tspan",K.textStyles))}}return V},createUserStyles=(C,T,$,V)=>{const Y=createCssStyles(C,$),ee=getStyles$1(T,Y,C.themeVariables);return serialize(compile(`${V}{${ee}}`),stringify)},cleanUpSvgCode=(C="",T,$)=>{let V=C;return!$&&!T&&(V=V.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),V=decodeEntities(V),V=V.replace(/<br>/g,"<br/>"),V},putIntoIFrame=(C="",T)=>{var $,V;const Y=(V=($=T?.viewBox)==null?void 0:$.baseVal)!=null&&V.height?T.viewBox.baseVal.height+"px":IFRAME_HEIGHT,ee=btoa('<body style="'+IFRAME_BODY_STYLE+'">'+C+"</body>");return`<iframe style="width:${IFRAME_WIDTH};height:${Y};${IFRAME_STYLES}" src="data:text/html;base64,${ee}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},appendDivSvgG=(C,T,$,V,Y)=>{const ee=C.append("div");ee.attr("id",$),V&&ee.attr("style",V);const te=ee.append("svg").attr("id",T).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return Y&&te.attr("xmlns:xlink",Y),te.append("g"),C};function sandboxedIframe(C,T){return C.append("iframe").attr("id",T).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const removeExistingElements=(C,T,$,V)=>{var Y,ee,te;(Y=C.getElementById(T))==null||Y.remove(),(ee=C.getElementById($))==null||ee.remove(),(te=C.getElementById(V))==null||te.remove()},render$1=async function(C,T,$){var V,Y,ee,te,J,ie;addDiagrams();const K=processAndSetConfigs(T);T=K.code;const re=getConfig$1();log$1.debug(re),T.length>(re?.maxTextSize??MAX_TEXTLENGTH)&&(T=MAX_TEXTLENGTH_EXCEEDED_MSG);const ne="#"+C,le="i"+C,ae="#"+le,se="d"+C,ue="#"+se;let de=select("body");const ce=re.securityLevel===SECURITY_LVL_SANDBOX,be=re.securityLevel===SECURITY_LVL_LOOSE,Le=re.fontFamily;if($!==void 0){if($&&($.innerHTML=""),ce){const _e=sandboxedIframe(select($),le);de=select(_e.nodes()[0].contentDocument.body),de.node().style.margin=0}else de=select($);appendDivSvgG(de,C,se,`font-family: ${Le}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,C,se,le),ce){const _e=sandboxedIframe(select("body"),le);de=select(_e.nodes()[0].contentDocument.body),de.node().style.margin=0}else de=select("body");appendDivSvgG(de,C,se)}T=encodeEntities(T);let ve,ye;try{ve=await getDiagramFromText(T,{title:K.title})}catch(_e){ve=new Diagram("error"),ye=_e}const Ae=de.select(ue).node(),Be=ve.type,qe=Ae.firstChild,Ue=qe.firstChild,Ke=(Y=(V=ve.renderer).getClasses)==null?void 0:Y.call(V,T,ve),Je=createUserStyles(re,Be,Ke,ne),mt=document.createElement("style");mt.innerHTML=Je,qe.insertBefore(mt,Ue);try{await ve.renderer.draw(T,C,version$1,ve)}catch(_e){throw errorRenderer.draw(T,C,version$1),_e}const ht=de.select(`${ue} svg`),pt=(te=(ee=ve.db).getAccTitle)==null?void 0:te.call(ee),bt=(ie=(J=ve.db).getAccDescription)==null?void 0:ie.call(J);addA11yInfo(Be,ht,pt,bt),de.select(`[id="${C}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let ct=de.select(ue).node().innerHTML;if(log$1.debug("config.arrowMarkerAbsolute",re.arrowMarkerAbsolute),ct=cleanUpSvgCode(ct,ce,evaluate(re.arrowMarkerAbsolute)),ce){const _e=de.select(ue+" svg").node();ct=putIntoIFrame(ct,_e)}else be||(ct=purify.sanitize(ct,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(attachFunctions(),ye)throw ye;const Pe=select(ce?ae:ue).node();return Pe&&"remove"in Pe&&Pe.remove(),{svg:ct,bindFunctions:ve.db.bindFunctions}};function initialize$1(C={}){var T;C?.fontFamily&&!((T=C.themeVariables)!=null&&T.fontFamily)&&(C.themeVariables||(C.themeVariables={}),C.themeVariables.fontFamily=C.fontFamily),saveConfigFromInitialize(C),C?.theme&&C.theme in theme?C.themeVariables=theme[C.theme].getThemeVariables(C.themeVariables):C&&(C.themeVariables=theme.default.getThemeVariables(C.themeVariables));const $=typeof C=="object"?setSiteConfig(C):getSiteConfig();setLogLevel$1($.logLevel),addDiagrams()}function addA11yInfo(C,T,$,V){setA11yDiagramInfo(T,C),addSVGa11yTitleDescription(T,$,V,T.attr("id"))}const mermaidAPI=Object.freeze({render:render$1,parse:parse$1,getDiagramFromText,initialize:initialize$1,getConfig:getConfig$1,setConfig,getSiteConfig,updateSiteConfig,reset:()=>{reset()},globalReset:()=>{reset(defaultConfig)},defaultConfig});setLogLevel$1(getConfig$1().logLevel);reset(getConfig$1());const loadRegisteredDiagrams=async()=>{log$1.debug("Loading registered diagrams");const T=(await Promise.allSettled(Object.entries(detectors).map(async([$,{detector:V,loader:Y}])=>{if(Y)try{getDiagram($)}catch{try{const{diagram:te,id:J}=await Y();registerDiagram(J,te,V)}catch(te){throw log$1.error(`Failed to load external diagram with key ${$}. Removing from detectors.`),delete detectors[$],te}}}))).filter($=>$.status==="rejected");if(T.length>0){log$1.error(`Failed to load ${T.length} external diagrams`);for(const $ of T)log$1.error($);throw new Error(`Failed to load ${T.length} external diagrams`)}},handleError=(C,T,$)=>{log$1.warn(C),isDetailedError(C)?($&&$(C.str,C.hash),T.push({...C,message:C.str,error:C})):($&&$(C),C instanceof Error&&T.push({str:C.message,message:C.message,hash:C.name,error:C}))},run=async function(C={querySelector:".mermaid"}){try{await runThrowsErrors(C)}catch(T){if(isDetailedError(T)&&log$1.error(T.str),mermaid.parseError&&mermaid.parseError(T),!C.suppressErrors)throw log$1.error("Use the suppressErrors option to suppress these errors"),T}},runThrowsErrors=async function({postRenderCallback:C,querySelector:T,nodes:$}={querySelector:".mermaid"}){const V=mermaidAPI.getConfig();log$1.debug(`${C?"":"No "}Callback function found`);let Y;if($)Y=$;else if(T)Y=document.querySelectorAll(T);else throw new Error("Nodes and querySelector are both undefined");log$1.debug(`Found ${Y.length} diagrams`),V?.startOnLoad!==void 0&&(log$1.debug("Start On Load: "+V?.startOnLoad),mermaidAPI.updateSiteConfig({startOnLoad:V?.startOnLoad}));const ee=new utils.InitIDGenerator(V.deterministicIds,V.deterministicIDSeed);let te;const J=[];for(const ie of Array.from(Y)){log$1.info("Rendering diagram: "+ie.id);/*! Check if previously processed */if(ie.getAttribute("data-processed"))continue;ie.setAttribute("data-processed","true");const K=`mermaid-${ee.next()}`;te=ie.innerHTML,te=dedent(utils.entityDecode(te)).trim().replace(/<br\s*\/?>/gi,"<br/>");const re=utils.detectInit(te);re&&log$1.debug("Detected early reinit: ",re);try{const{svg:ne,bindFunctions:le}=await render$2(K,te,ie);ie.innerHTML=ne,C&&await C(K),le&&le(ie)}catch(ne){handleError(ne,J,mermaid.parseError)}}if(J.length>0)throw J[0]},initialize=function(C){mermaidAPI.initialize(C)},init$5=async function(C,T,$){log$1.warn("mermaid.init is deprecated. Please use run instead."),C&&initialize(C);const V={postRenderCallback:$,querySelector:".mermaid"};typeof T=="string"?V.querySelector=T:T&&(T instanceof HTMLElement?V.nodes=[T]:V.nodes=T),await run(V)},registerExternalDiagrams=async(C,{lazyLoad:T=!0}={})=>{registerLazyLoadedDiagrams(...C),T===!1&&await loadRegisteredDiagrams()},contentLoaded=function(){if(mermaid.startOnLoad){const{startOnLoad:C}=mermaidAPI.getConfig();C&&mermaid.run().catch(T=>log$1.error("Mermaid failed to initialize",T))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",contentLoaded,!1)}const setParseErrorHandler=function(C){mermaid.parseError=C},executionQueue=[];let executionQueueRunning=!1;const executeQueue=async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const C=executionQueue.shift();if(C)try{await C()}catch(T){log$1.error("Error executing queue",T)}}executionQueueRunning=!1}},parse=async(C,T)=>new Promise(($,V)=>{const Y=()=>new Promise((ee,te)=>{mermaidAPI.parse(C,T).then(J=>{ee(J),$(J)},J=>{var ie;log$1.error("Error parsing",J),(ie=mermaid.parseError)==null||ie.call(mermaid,J),te(J),V(J)})});executionQueue.push(Y),executeQueue().catch(V)}),render$2=(C,T,$)=>new Promise((V,Y)=>{const ee=()=>new Promise((te,J)=>{mermaidAPI.render(C,T,$).then(ie=>{te(ie),V(ie)},ie=>{var K;log$1.error("Error parsing",ie),(K=mermaid.parseError)==null||K.call(mermaid,ie),J(ie),Y(ie)})});executionQueue.push(ee),executeQueue().catch(Y)}),mermaid={startOnLoad:!0,mermaidAPI,parse,render:render$2,init:init$5,run,registerExternalDiagrams,initialize,parseError:void 0,contentLoaded,setParseErrorHandler,detectType},DEFAULT_DARK_THEME="dark",DEFAULT_LIGHT_THEME="default",DARK_THEME_KEY="dark",LIGHT_THEME_KEY="light",HTML_THEME_ATTRIBUTE="data-theme";function getTheme(C,T){let $=C.getAttribute(HTML_THEME_ATTRIBUTE)??LIGHT_THEME_KEY;$===LIGHT_THEME_KEY||$===DARK_THEME_KEY||($=LIGHT_THEME_KEY);const V=$===LIGHT_THEME_KEY?DEFAULT_LIGHT_THEME:DEFAULT_DARK_THEME;return T?.theme?.[$]??T?.mermaid?.theme??V}const Mermaid=({chart:C,config:T})=>{if(typeof window>"u")return React$1.createElement("div",{className:"mermaid","data-mermaid-src":C},C);const $=reactExports.useMemo(()=>typeof T=="string"?JSON.parse(T):T,[T]),V=document.querySelector("html"),[Y,ee]=reactExports.useState(!1),te=reactExports.useMemo(()=>getTheme(V,$),[$,Y]);return reactExports.useEffect(()=>{const J=new MutationObserver(ie=>{for(const K of ie)if(!(K.type!=="attributes"||K.attributeName!=="data-theme")){ee(re=>!re);break}});return J.observe(V,{attributes:!0}),()=>{try{J.disconnect()}catch{}}},[]),reactExports.useEffect(()=>{$&&($.mermaid?mermaid.initialize({startOnLoad:!0,...$.mermaid,theme:te}):mermaid.initialize({startOnLoad:!0,theme:te}),document.querySelectorAll('div.mermaid[data-processed="true"]').forEach(J=>{J.removeAttribute("data-processed"),J.innerHTML=J.getAttribute("data-mermaid-src")}),mermaid.contentLoaded())},[$,te]),reactExports.useEffect(()=>{setTimeout(mermaid.contentLoaded,0)},[C]),React$1.createElement("div",{className:"mermaid","data-mermaid-src":C},C)},Codepen=({id:C})=>{const{mode:T}=useTheme();return jsx("iframe",{className:"w-full h-[500px] border-0 rounded overflow-hidden",title:"codepen",src:`https://codepen.io/graphilla/embed/${C}?%2Cresult&editable=true&theme-id=${T}`,loading:"lazy"})},Codesandbox=({id:C})=>{const{mode:T}=useTheme();return jsx("iframe",{src:`https://codesandbox.io/embed/${C}?autoresize=1&fontsize=14&hidenavigation=1&theme=${T}`,className:"w-full h-[500px] border-0 rounded overflow-hidden",title:C,allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})},baseTemplate="svg.<%=id%>{font-family:Helvetica,sans-serif;font-size:<%=fontSize%>px;font-weight:normal;font-style:normal;text-decoration:none;background-color:white;stroke:black;stroke-width:<%=lineWidth%>}.<%=id%> path, .<%=id%> rect{fill:none}.<%=id%> .label-text-background{fill:white;stroke:white;stroke-width:0}.<%=id%> .bglayer{fill:white;stroke:white;stroke-width:0}.<%=id%> line{}.<%=id%> .return, .<%=id%> .comment{stroke-dasharray:5,3}.<%=id%> .inline_expression_divider{stroke-dasharray:10,5}.<%=id%> text{color:inherit;stroke:none;text-anchor:middle}.<%=id%> text.anchor-start{text-anchor:start}.<%=id%> .arrow-marker{overflow:visible}.<%=id%> .arrow-style{stroke-width:1}.<%=id%> .arcrow, .<%=id%> .arcrowomit, .<%=id%> .emphasised{stroke-linecap:butt}.<%=id%> .arcrowomit{stroke-dasharray:2,2}.<%=id%> .box, .<%=id%> .entity{fill:white;stroke-linejoin:round}.<%=id%> .inherit{stroke:inherit;color:inherit}.<%=id%> .inherit-fill{fill:inherit}.<%=id%> .watermark{font-size:48pt;font-weight:bold;opacity:0.14}",namedStyles=[{name:"basic",description:"Basic",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{text-decoration:underline;}"},{name:"lazy",description:"Lazy",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{font-weight:bold;}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC}.<%=id%> rect.label-text-background{opacity:0.9}.<%=id%> line.comment,.<%=id%> rect.inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:grey}"},{name:"classic",description:"Classic",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{text-decoration:none}.<%=id%> .entity{stroke:none;}.<%=id%> line,.<%=id%> rect,.<%=id%> path{stroke-width:1px}.<%=id%> .arrow-style{stroke-width:2;}.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke-width: 1px}"},{name:"fountainpen",description:"Fountain pen",experimental:!0,deprecated:!1,renderMagic:"wobbly",cssBefore:"@import 'https://fonts.googleapis.com/css?family=Gochi+Hand';",cssAfter:"svg.<%=id%>{font-family:'Gochi Hand', cursive;font-size:14px;stroke-opacity:0.4;stroke-linecap:round;background-color:transparent}.<%=id%> text{fill:rgba(0,0,128,0.7)}.<%=id%> marker polygon{fill:rgba(0,0,255,0.4);stroke-linejoin:round}.<%=id%> line, .<%=id%> path, .<%=id%> rect, .<%=id%> polygon{stroke:blue !important}.<%=id%> text.entity-text{font-weight:bold;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC;}.<%=id%> .label-text-background{opacity:0}"},{name:"cygne",description:"Cygne (best with msgenny)",experimental:!0,deprecated:!0,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:#00A1DE}.<%=id%> text{fill:#005B82}.<%=id%> .entity,.<%=id%> .box{fill:#00A1DE;stroke:#00A1DE}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#E77B2F;stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{name:"pegasse",description:"Pgase (best with msgenny)",experimental:!1,deprecated:!0,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:rgba(0, 43, 84, 1)}.<%=id%> text{fill:rgba(0, 43, 84, 1)}.<%=id%> .entity,.<%=id%> .box{fill:rgba(0, 43, 84, 1);stroke:rgba(0, 43, 84, 1)}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:rgba(255, 50, 0, 1);stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{name:"grayscaled",description:"Grayscaled (not in IE or Safari)",experimental:!0,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:"svg.<%=id%>{filter:grayscale(1);-webkit-filter:grayscale(1);}"},{name:"inverted",description:"Inverted (not in IE or Safari)",experimental:!0,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:"svg.<%=id%>{filter:invert(1);-webkit-filter:invert(1);}"},{name:"noentityboxes",description:"No entity boxes",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> .entity{fill:none;stroke:none;}.<%=id%> text.entity-text{text-decoration:underline;}"}],require$$0={baseTemplate,namedStyles},cssTemplates=require$$0,allowedValues=Object.freeze({inputType:[{name:"mscgen",experimental:!1},{name:"msgenny",experimental:!1},{name:"xu",experimental:!1},{name:"json",experimental:!1},{name:"ast",experimental:!1}],outputType:[{name:"mscgen",experimental:!1},{name:"msgenny",experimental:!1},{name:"xu",experimental:!1},{name:"json",experimental:!1},{name:"ast",experimental:!1},{name:"dot",experimental:!1},{name:"doxygen",experimental:!1}],regularArcTextVerticalAlignment:[{name:"above",experimental:!0},{name:"middle",experimental:!1},{name:"below",experimental:!0}],namedStyle:cssTemplates.namedStyles.map(C=>({name:C.name,description:C.description,experimental:C.experimental,deprecated:C.deprecated}))});function normalizeValueFromValidValues(C,T,$){let V=$;return T.some(Y=>Y.name===C)&&(V=C),V}function normalizeVerticalAlignment(C){return normalizeValueFromValidValues(C,allowedValues.regularArcTextVerticalAlignment,"middle")}function normalizeInputType(C){return normalizeValueFromValidValues(C,allowedValues.inputType,"mscgen")}function normalizeAdditionalTemplate(C){return normalizeValueFromValidValues(C,allowedValues.namedStyle,"basic")}function booleanize(C,T){return typeof C=="boolean"?C:T}const normalizeOptions=(C,T)=>{const $=booleanize(C.includeSource,!0);return{inputType:normalizeInputType(C.inputType),elementId:C.elementId||"__svg",window:C.window||window,includeSource:$,source:$?T:null,styleAdditions:C.styleAdditions||null,additionalTemplate:normalizeAdditionalTemplate(C.additionalTemplate),mirrorEntitiesOnBottom:booleanize(C.mirrorEntitiesOnBottom,!1),regularArcTextVerticalAlignment:normalizeVerticalAlignment(C.regularArcTextVerticalAlignment)}};function isProbablyAnASTAlready(C,T){return T==="json"&&typeof C=="object"}function getAST(C,T,$){return isProbablyAnASTAlready(C,T)?C:$(T).parse(C)}function runCallBack(C,T,$){C&&(T?C(T,null):C(null,$))}function renderMsc$1(C,T,$,V,Y){const ee=normalizeOptions(T,C);try{runCallBack($,null,Y().render(getAST(C,ee.inputType,V),ee.window,ee.elementId,{source:ee.source,styleAdditions:ee.styleAdditions,additionalTemplate:ee.additionalTemplate,mirrorEntitiesOnBottom:ee.mirrorEntitiesOnBottom,regularArcTextVerticalAlignment:ee.regularArcTextVerticalAlignment}))}catch(te){runCallBack($,te)}}var mscgenparser$2={exports:{}},_defineProperty$3,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty$3;hasRequired_defineProperty=1;var C=_getNative,T=function(){try{var $=C(Object,"defineProperty");return $({},"",{}),$}catch{}}();return _defineProperty$3=T,_defineProperty$3}var _baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var C=require_defineProperty();function T($,V,Y){V=="__proto__"&&C?C($,V,{configurable:!0,enumerable:!0,value:Y,writable:!0}):$[V]=Y}return _baseAssignValue=T,_baseAssignValue}var _assignValue,hasRequired_assignValue;function require_assignValue(){if(hasRequired_assignValue)return _assignValue;hasRequired_assignValue=1;var C=require_baseAssignValue(),T=eq_1,$=Object.prototype,V=$.hasOwnProperty;function Y(ee,te,J){var ie=ee[te];(!(V.call(ee,te)&&T(ie,J))||J===void 0&&!(te in ee))&&C(ee,te,J)}return _assignValue=Y,_assignValue}var _copyObject,hasRequired_copyObject;function require_copyObject(){if(hasRequired_copyObject)return _copyObject;hasRequired_copyObject=1;var C=require_assignValue(),T=require_baseAssignValue();function $(V,Y,ee,te){var J=!ee;ee||(ee={});for(var ie=-1,K=Y.length;++ie<K;){var re=Y[ie],ne=te?te(ee[re],V[re],re,ee,V):void 0;ne===void 0&&(ne=V[re]),J?T(ee,re,ne):C(ee,re,ne)}return ee}return _copyObject=$,_copyObject}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function C(T){return T}return identity_1=C,identity_1}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function C(T,$,V){switch(V.length){case 0:return T.call($);case 1:return T.call($,V[0]);case 2:return T.call($,V[0],V[1]);case 3:return T.call($,V[0],V[1],V[2])}return T.apply($,V)}return _apply=C,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var C=require_apply(),T=Math.max;function $(V,Y,ee){return Y=T(Y===void 0?V.length-1:Y,0),function(){for(var te=arguments,J=-1,ie=T(te.length-Y,0),K=Array(ie);++J<ie;)K[J]=te[Y+J];J=-1;for(var re=Array(Y+1);++J<Y;)re[J]=te[J];return re[Y]=ee(K),C(V,this,re)}}return _overRest=$,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function C(T){return function(){return T}}return constant_1=C,constant_1}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var C=requireConstant(),T=require_defineProperty(),$=requireIdentity(),V=T?function(Y,ee){return T(Y,"toString",{configurable:!0,enumerable:!1,value:C(ee),writable:!0})}:$;return _baseSetToString=V,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var C=800,T=16,$=Date.now;function V(Y){var ee=0,te=0;return function(){var J=$(),ie=T-(J-te);if(te=J,ie>0){if(++ee>=C)return arguments[0]}else ee=0;return Y.apply(void 0,arguments)}}return _shortOut=V,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var C=require_baseSetToString(),T=require_shortOut(),$=T(C);return _setToString=$,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var C=requireIdentity(),T=require_overRest(),$=require_setToString();function V(Y,ee){return $(T(Y,ee,C),Y+"")}return _baseRest=V,_baseRest}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var C=eq_1,T=requireIsArrayLike(),$=require_isIndex(),V=isObject_1$1;function Y(ee,te,J){if(!V(J))return!1;var ie=typeof te;return(ie=="number"?T(J)&&$(te,J.length):ie=="string"&&te in J)?C(J[te],ee):!1}return _isIterateeCall=Y,_isIterateeCall}var _createAssigner,hasRequired_createAssigner;function require_createAssigner(){if(hasRequired_createAssigner)return _createAssigner;hasRequired_createAssigner=1;var C=require_baseRest(),T=require_isIterateeCall();function $(V){return C(function(Y,ee){var te=-1,J=ee.length,ie=J>1?ee[J-1]:void 0,K=J>2?ee[2]:void 0;for(ie=V.length>3&&typeof ie=="function"?(J--,ie):void 0,K&&T(ee[0],ee[1],K)&&(ie=J<3?void 0:ie,J=1),Y=Object(Y);++te<J;){var re=ee[te];re&&V(Y,re,te,ie)}return Y})}return _createAssigner=$,_createAssigner}var assign_1,hasRequiredAssign;function requireAssign(){if(hasRequiredAssign)return assign_1;hasRequiredAssign=1;var C=require_assignValue(),T=require_copyObject(),$=require_createAssigner(),V=requireIsArrayLike(),Y=require_isPrototype(),ee=requireKeys(),te=Object.prototype,J=te.hasOwnProperty,ie=$(function(K,re){if(Y(re)||V(re)){T(re,ee(re),K);return}for(var ne in re)J.call(re,ne)&&C(K,ne,re[ne])});return assign_1=ie,assign_1}function nameValue2Option(C,T){const $={};return $[C.toLowerCase()]=T,$}function flattenBoolean(C){return["true","on","1"].includes(C.toLowerCase())}function entityExists(C,T){return T===void 0||T==="*"||C.some($=>$.name===T)}function isMscGenKeyword(C){return["box","abox","rbox","note","msc","hscale","width","arcgradient","wordwraparcs","label","color","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"].includes(C)}function buildEntityNotDefinedMessage(C,T){return`Entity '${C}' in arc '${T.from} ${T.kind} ${T.to}' is not defined.`}class EntityNotDefinedError{constructor(T,$){this.name="EntityNotDefinedError",this.message=buildEntityNotDefinedMessage(T,$)}}function checkForUndeclaredEntities(C,T){(T||[]).forEach($=>{$.forEach(V=>{if(V.from&&!entityExists(C,V.from))throw new EntityNotDefinedError(V.from,V);if(V.to&&!entityExists(C,V.to))throw new EntityNotDefinedError(V.to,V);V.arcs&&checkForUndeclaredEntities(C,V.arcs)})})}function hasExtendedOptions(C){return C?C.hasOwnProperty("watermark")||C.hasOwnProperty("wordwrapentities")||C.hasOwnProperty("wordwrapboxes")||C.hasOwnProperty("width")&&C.width==="auto":!1}function hasExtendedArcTypes(C){return(C||[]).some(T=>T.some($=>["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].includes($.kind)))}function getMetaInfo(C,T){const $=hasExtendedOptions(C),V=hasExtendedArcTypes(T);return{extendedOptions:$,extendedArcTypes:V,extendedFeatures:$||V}}const parserHelpers=Object.freeze(Object.defineProperty({__proto__:null,EntityNotDefinedError,checkForUndeclaredEntities,entityExists,flattenBoolean,getMetaInfo,isMscGenKeyword,nameValue2Option},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(parserHelpers);(function(C){(function(T,$){C.exports&&(C.exports=$(requireAssign(),require$$1))})(commonjsGlobal,function(T,$){function V(J,ie){function K(){this.constructor=J}K.prototype=ie.prototype,J.prototype=new K}function Y(J,ie,K,re){var ne=Error.call(this,J);return Object.setPrototypeOf&&Object.setPrototypeOf(ne,Y.prototype),ne.expected=ie,ne.found=K,ne.location=re,ne.name="SyntaxError",ne}V(Y,Error);function ee(J,ie,K){return K=K||" ",J.length>ie?J:(ie-=J.length,K+=K.repeat(ie),J+K.slice(0,ie))}Y.prototype.format=function(J){var ie="Error: "+this.message;if(this.location){var K=null,re;for(re=0;re<J.length;re++)if(J[re].source===this.location.source){K=J[re].text.split(/\r\n|\n|\r/g);break}var ne=this.location.start,le=this.location.source+":"+ne.line+":"+ne.column;if(K){var ae=this.location.end,se=ee("",ne.line.toString().length," "),ue=K[ne.line-1],de=ne.line===ae.line?ae.column:ue.length+1,ce=de-ne.column||1;ie+=`
 --> `+le+`
`+se+` |
`+ne.line+" | "+ue+`
`+se+" | "+ee("",ne.column-1," ")+ee("",ce,"^")}else ie+=`
 at `+le}return ie},Y.buildMessage=function(J,ie){var K={literal:function(de){return'"'+ne(de.text)+'"'},class:function(de){var ce=de.parts.map(function(be){return Array.isArray(be)?le(be[0])+"-"+le(be[1]):le(be)});return"["+(de.inverted?"^":"")+ce.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(de){return de.description}};function re(de){return de.charCodeAt(0).toString(16).toUpperCase()}function ne(de){return de.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ce){return"\\x0"+re(ce)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ce){return"\\x"+re(ce)})}function le(de){return de.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ce){return"\\x0"+re(ce)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ce){return"\\x"+re(ce)})}function ae(de){return K[de.type](de)}function se(de){var ce=de.map(ae),be,Le;if(ce.sort(),ce.length>0){for(be=1,Le=1;be<ce.length;be++)ce[be-1]!==ce[be]&&(ce[Le]=ce[be],Le++);ce.length=Le}switch(ce.length){case 1:return ce[0];case 2:return ce[0]+" or "+ce[1];default:return ce.slice(0,-1).join(", ")+", or "+ce[ce.length-1]}}function ue(de){return de?'"'+ne(de)+'"':"end of input"}return"Expected "+se(J)+" but "+ue(ie)+" found."};function te(J,ie){ie=ie!==void 0?ie:{};var K={},re=ie.grammarSource,ne={program:bn},le=bn,ae="{",se="}",ue="msc",de=",",ce=";",be="hscale",Le="width",ve="arcgradient",ye="=",Ae="wordwraparcs",Be="[",qe="]",Ue="*",Ke="|||",Je="...",mt="---",ht="--",pt="<->",bt="==",ct="<<=>>",We="<=>",Pe="..",_e="<<>>",xe="::",ge="<:>",ke="->",Ee="=>>",Me="=>",Oe=">>",pe=":>",Ce="-x",Re="<-",De="<<=",Ne="<=",He="<<",Ge="<:",it="x-",ut="note",tt="abox",lt="rbox",ot="box",dt="label",vt="idurl",St="id",Tt="url",$t="linecolor",It="linecolour",qt="textcolor",Vt="textcolour",ar="textbgcolor",sr="textbgcolour",fr="arclinecolor",nr="arclinecolour",lr="arctextcolor",cr="arctextcolour",dr="arctextbgcolor",Sr="arctextbgcolour",_t="arcskip",nt='"',rt='\\"',Xe="/*",at="*/",ft="//",Ct="#",Ht=".",Bt="true",Ut="false",Rt="on",Ft="off",Xt="0",Qt="1",Nt=/^[A-Za-z_0-9]/,Yt=/^[ \t]/,Jt=/^[\r\n]/,_r=/^[^\r\n]/,mr=/^[0-9]/,ur=ze("{",!1),or=ze("}",!1),pr=ze("msc",!0),ir=ze(",",!1),vr=ze(";",!1),xr=yr("option"),Ar=ze("hscale",!0),Lr=ze("width",!0),Zt=ze("arcgradient",!0),wt=ze("=",!1),et=ze("wordwraparcs",!0),xt=yr("entity"),Et=ze("[",!1),Kt=ze("]",!1),hr=ze("*",!1),gr=yr("empty row"),Er=ze("|||",!1),Ir=ze("...",!1),Dr=yr("---"),Cr=ze("---",!1),zr=yr("bi-directional arrow"),Gr=ze("--",!1),ci=ze("<->",!1),En=ze("==",!1),Tn=ze("<<=>>",!1),$n=ze("<=>",!1),ui=ze("..",!1),hi=ze("<<>>",!1),Fr=ze("::",!1),Vr=ze("<:>",!1),di=yr("left to right arrow"),fi=ze("->",!1),gi=ze("=>>",!1),Nr=ze("=>",!1),mi=ze(">>",!1),yi=ze(":>",!1),bi=ze("-x",!0),_i=yr("right to left arrow"),vi=ze("<-",!1),xi=ze("<<=",!1),Xr=ze("<=",!1),Kr=ze("<<",!1),dn=ze("<:",!1),Ci=ze("x-",!0),Si=yr("box"),Ei=ze("note",!0),Ti=ze("abox",!0),$i=ze("rbox",!0),wi=ze("box",!0),Ai=yr("attribute name"),ki=ze("label",!0),Pi=ze("idurl",!0),Ri=ze("id",!0),Li=ze("url",!0),Ii=ze("linecolor",!0),Oi=ze("linecolour",!0),Fi=ze("textcolor",!0),Mi=ze("textcolour",!0),Di=ze("textbgcolor",!0),Ni=ze("textbgcolour",!0),ji=ze("arclinecolor",!0),Bi=ze("arclinecolour",!0),Ui=ze("arctextcolor",!0),Hi=ze("arctextcolour",!0),Wi=ze("arctextbgcolor",!0),qi=ze("arctextbgcolour",!0),kr=ze("arcskip",!0),wn=yr("double quoted string"),wr=ze('"',!1),An=ze('\\"',!1),Yr=At(),zi=yr("identifier"),kn=Mr([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),Gi=yr("whitespace"),Vi=Mr([" ","	"],!1,!1),Xi=yr("lineend"),Pn=Mr(["\r",`
`],!1,!1),Ki=ze("/*",!1),Rn=ze("*/",!1),Yi=ze("//",!1),Ji=ze("#",!1),Qi=Mr(["\r",`
`],!0,!1),Ln=yr("comment"),Zi=yr("number"),es=yr("cardinal"),In=Mr([["0","9"]],!1,!1),ts=yr("real"),rs=ze(".",!1),ns=yr("boolean"),is=ze("true",!0),ss=ze("false",!0),as=ze("on",!0),os=ze("off",!0),ls=ze("0",!1),cs=ze("1",!1),On=function(oe,Fe){return Fe.entities=Fe.entities||[],$.checkForUndeclaredEntities(Fe.entities,Fe.arcs),Fe=T({meta:Sn()},Fe),oe.length>0&&(Fe=T({precomment:oe},Fe)),Fe},us=function(oe,Fe,Ze){var je={};return oe&&(je.options=oe),Fe&&(je.entities=Fe),Ze&&(je.arcs=Ze),je},Fn=function(oe){return oe},hs=function(oe){return oe},ds=function(oe){return oe[0].concat(oe[1]).reduce(T,{})},fs=function(oe,Fe){return $.nameValue2Option(oe,Fe)},ps=function(oe,Fe){return $.nameValue2Option(oe,$.flattenBoolean(Fe))},Mn=function(oe){return oe},gs=function(oe){return oe},Dn=function(oe){return oe[0].concat(oe[1])},ms=function(oe,Fe){return Fe},ys=function(oe,Fe){return T({name:oe},Fe)},bs=function(oe,Fe){return Fe},_s=function(oe,Fe){return $.isMscGenKeyword(oe)&&yn("Keywords aren't allowed as entity names (embed them in quotes if you need them)"),T({name:oe},Fe)},pn=function(oe){return oe},gn=function(oe){return oe},vs=function(oe){return oe},xs=function(oe){return oe[0].concat(oe[1])},Cs=function(oe){return oe},Ss=function(oe){return oe},Es=function(oe){return oe},Ts=function(oe,Fe){return Fe},Pr=function(oe,Fe){return T(oe,Fe)},Nn=function(oe){return{kind:oe}},mn=function(oe){return{kind:oe}},$s=function(oe,Fe,Ze){return{kind:Fe,from:oe,to:Ze}},jn=function(oe,Fe){return{kind:oe,from:"*",to:Fe}},ws=function(oe,Fe){return{kind:Fe,from:oe,to:"*"}},As=function(oe,Fe){return{kind:Fe,from:oe,to:"*"}},ks=function(oe){return oe.toLowerCase()},Bn=function(oe){return oe},Ps=function(oe){return oe},Un=function(oe){return oe[0].concat(oe[1]).reduce(T,{})},Rs=function(oe,Fe){var Ze={};return Ze[oe.toLowerCase().replace("colour","color")]=Fe,Ze},Hn=function(oe){return oe.join("")},Wn=function(oe){return oe},qn=function(oe){return oe.join("")},Ls=function(oe){return oe},zn=function(oe){return oe},Is=function(oe){return oe},Os=function(oe,Fe,Ze){return oe+Fe.join("")+Ze},Fs=function(oe,Fe){return oe+Fe.join("")},Ms=function(oe){return oe},Ds=function(oe){return oe.toString()},Ns=function(oe){return oe.toString()},js=function(oe){return parseInt(oe.join(""),10)},Bs=function(oe){return parseFloat(oe.join(""))},Us=function(oe){return oe},Hs=function(oe){return oe.toString()},Ws=function(oe){return oe},we=0,jt=0,Jr=[{line:1,column:1}],Rr=0,Se=[],st=0,Tr;if("startRule"in ie){if(!(ie.startRule in ne))throw new Error(`Can't start parsing from rule "`+ie.startRule+'".');le=ne[ie.startRule]}function yn(oe,Fe){throw Fe=Fe!==void 0?Fe:br(jt,we),Vn(oe,Fe)}function ze(oe,Fe){return{type:"literal",text:oe,ignoreCase:Fe}}function Mr(oe,Fe,Ze){return{type:"class",parts:oe,inverted:Fe,ignoreCase:Ze}}function At(){return{type:"any"}}function Ur(){return{type:"end"}}function yr(oe){return{type:"other",description:oe}}function Gn(oe){var Fe=Jr[oe],Ze;if(Fe)return Fe;for(Ze=oe-1;!Jr[Ze];)Ze--;for(Fe=Jr[Ze],Fe={line:Fe.line,column:Fe.column};Ze<oe;)J.charCodeAt(Ze)===10?(Fe.line++,Fe.column=1):Fe.column++,Ze++;return Jr[oe]=Fe,Fe}function br(oe,Fe){var Ze=Gn(oe),je=Gn(Fe);return{source:re,start:{offset:oe,line:Ze.line,column:Ze.column},end:{offset:Fe,line:je.line,column:je.column}}}function yt(oe){we<Rr||(we>Rr&&(Rr=we,Se=[]),Se.push(oe))}function Vn(oe,Fe){return new Y(oe,null,null,Fe)}function gt(oe,Fe,Ze){return new Y(Y.buildMessage(oe,Fe),oe,Fe,Ze)}function bn(){var oe,Fe,Ze,je,Ot,Wt;return oe=we,Fe=Gt(),Ze=Xn(),Ze!==K?(Gt(),J.charCodeAt(we)===123?(je=ae,we++):(je=K,st===0&&yt(ur)),je!==K?(Gt(),Ot=qs(),Gt(),J.charCodeAt(we)===125?(Wt=se,we++):(Wt=K,st===0&&yt(or)),Wt!==K?(Gt(),jt=oe,oe=On(Fe,Ot)):(we=oe,oe=K)):(we=oe,oe=K)):(we=oe,oe=K),oe}function Xn(){var oe;return J.substr(we,3).toLowerCase()===ue?(oe=J.substr(we,3),we+=3):(oe=K,st===0&&yt(pr)),oe}function qs(){var oe,Fe,Ze,je;return oe=we,Fe=zs(),Fe===K&&(Fe=null),Ze=Gs(),Ze===K&&(Ze=null),je=Kn(),je===K&&(je=null),jt=oe,oe=us(Fe,Ze,je),oe}function zs(){var oe,Fe,Ze,je,Ot,Wt;for(oe=we,Fe=we,Ze=[],je=we,Ot=Hr(),Ot!==K?(J.charCodeAt(we)===44?(Wt=de,we++):(Wt=K,st===0&&yt(ir)),Wt!==K?(jt=je,je=Fn(Ot)):(we=je,je=K)):(we=je,je=K);je!==K;)Ze.push(je),je=we,Ot=Hr(),Ot!==K?(J.charCodeAt(we)===44?(Wt=de,we++):(Wt=K,st===0&&yt(ir)),Wt!==K?(jt=je,je=Fn(Ot)):(we=je,je=K)):(we=je,je=K);return je=we,Ot=Hr(),Ot!==K?(J.charCodeAt(we)===59?(Wt=ce,we++):(Wt=K,st===0&&yt(vr)),Wt!==K?(jt=je,je=hs(Ot)):(we=je,je=K)):(we=je,je=K),je!==K?(Ze=[Ze,je],Fe=Ze):(we=Fe,Fe=K),Fe!==K&&(jt=oe,Fe=ds(Fe)),oe=Fe,oe}function Hr(){var oe,Fe,Ze,je;return st++,oe=we,Gt(),J.substr(we,6).toLowerCase()===be?(Fe=J.substr(we,6),we+=6):(Fe=K,st===0&&yt(Ar)),Fe===K&&(J.substr(we,5).toLowerCase()===Le?(Fe=J.substr(we,5),we+=5):(Fe=K,st===0&&yt(Lr)),Fe===K&&(J.substr(we,11).toLowerCase()===ve?(Fe=J.substr(we,11),we+=11):(Fe=K,st===0&&yt(Zt)))),Fe!==K?(Gt(),J.charCodeAt(we)===61?(Ze=ye,we++):(Ze=K,st===0&&yt(wt)),Ze!==K?(Gt(),je=ai(),je!==K?(Gt(),jt=oe,oe=fs(Fe,je)):(we=oe,oe=K)):(we=oe,oe=K)):(we=oe,oe=K),oe===K&&(oe=we,Gt(),J.substr(we,12).toLowerCase()===Ae?(Fe=J.substr(we,12),we+=12):(Fe=K,st===0&&yt(et)),Fe!==K?(Gt(),J.charCodeAt(we)===61?(Ze=ye,we++):(Ze=K,st===0&&yt(wt)),Ze!==K?(Gt(),je=Pt(),je!==K?(Gt(),jt=oe,oe=ps(Fe,je)):(we=oe,oe=K)):(we=oe,oe=K)):(we=oe,oe=K)),st--,oe===K&&st===0&&yt(xr),oe}function Gs(){var oe,Fe,Ze,je,Ot,Wt;for(oe=we,Fe=we,Ze=[],je=we,Ot=Wr(),Ot!==K?(J.charCodeAt(we)===44?(Wt=de,we++):(Wt=K,st===0&&yt(ir)),Wt!==K?(jt=je,je=Mn(Ot)):(we=je,je=K)):(we=je,je=K);je!==K;)Ze.push(je),je=we,Ot=Wr(),Ot!==K?(J.charCodeAt(we)===44?(Wt=de,we++):(Wt=K,st===0&&yt(ir)),Wt!==K?(jt=je,je=Mn(Ot)):(we=je,je=K)):(we=je,je=K);return je=we,Ot=Wr(),Ot!==K?(J.charCodeAt(we)===59?(Wt=ce,we++):(Wt=K,st===0&&yt(vr)),Wt!==K?(jt=je,je=gs(Ot)):(we=je,je=K)):(we=je,je=K),je!==K?(Ze=[Ze,je],Fe=Ze):(we=Fe,Fe=K),Fe!==K&&(jt=oe,Fe=Dn(Fe)),oe=Fe,oe}function Wr(){var oe,Fe,Ze,je,Ot,Wt;return st++,oe=we,Gt(),Fe=sn(),Fe!==K?(Gt(),Ze=we,J.charCodeAt(we)===91?(je=Be,we++):(je=K,st===0&&yt(Et)),je!==K?(Ot=Zr(),Ot!==K?(J.charCodeAt(we)===93?(Wt=qe,we++):(Wt=K,st===0&&yt(Kt)),Wt!==K?(jt=Ze,Ze=ms(Fe,Ot)):(we=Ze,Ze=K)):(we=Ze,Ze=K)):(we=Ze,Ze=K),Ze===K&&(Ze=null),je=Gt(),jt=oe,oe=ys(Fe,Ze)):(we=oe,oe=K),oe===K&&(oe=we,Gt(),Fe=Zn(),Fe!==K?(Gt(),Ze=we,J.charCodeAt(we)===91?(je=Be,we++):(je=K,st===0&&yt(Et)),je!==K?(Ot=Zr(),Ot!==K?(J.charCodeAt(we)===93?(Wt=qe,we++):(Wt=K,st===0&&yt(Kt)),Wt!==K?(jt=Ze,Ze=bs(Fe,Ot)):(we=Ze,Ze=K)):(we=Ze,Ze=K)):(we=Ze,Ze=K),Ze===K&&(Ze=null),je=Gt(),jt=oe,oe=_s(Fe,Ze)):(we=oe,oe=K)),st--,oe===K&&st===0&&yt(xt),oe}function Kn(){var oe,Fe,Ze,je;if(oe=[],Fe=we,Ze=_n(),Ze!==K?(Gt(),J.charCodeAt(we)===59?(je=ce,we++):(je=K,st===0&&yt(vr)),je!==K?(jt=Fe,Fe=pn(Ze)):(we=Fe,Fe=K)):(we=Fe,Fe=K),Fe!==K)for(;Fe!==K;)oe.push(Fe),Fe=we,Ze=_n(),Ze!==K?(Gt(),J.charCodeAt(we)===59?(je=ce,we++):(je=K,st===0&&yt(vr)),je!==K?(jt=Fe,Fe=pn(Ze)):(we=Fe,Fe=K)):(we=Fe,Fe=K);else oe=K;return oe}function _n(){var oe,Fe,Ze,je,Ot,Wt;for(oe=we,Fe=we,Ze=[],je=we,Ot=qr(),Ot!==K?(Gt(),J.charCodeAt(we)===44?(Wt=de,we++):(Wt=K,st===0&&yt(ir)),Wt!==K?(jt=je,je=gn(Ot)):(we=je,je=K)):(we=je,je=K);je!==K;)Ze.push(je),je=we,Ot=qr(),Ot!==K?(Gt(),J.charCodeAt(we)===44?(Wt=de,we++):(Wt=K,st===0&&yt(ir)),Wt!==K?(jt=je,je=gn(Ot)):(we=je,je=K)):(we=je,je=K);return je=we,Ot=qr(),Ot!==K&&(jt=je,Ot=vs(Ot)),je=Ot,je!==K?(Ze=[Ze,je],Fe=Ze):(we=Fe,Fe=K),Fe!==K&&(jt=oe,Fe=xs(Fe)),oe=Fe,oe}function qr(){var oe,Fe,Ze,je,Ot,Wt;return oe=we,Fe=we,Ze=Vs(),Ze!==K&&(jt=Fe,Ze=Cs(Ze)),Fe=Ze,Fe===K&&(Fe=we,Ze=Ks(),Ze!==K&&(jt=Fe,Ze=Ss(Ze)),Fe=Ze,Fe===K&&(Fe=we,Ze=Xs(),Ze!==K&&(jt=Fe,Ze=Es(Ze)),Fe=Ze)),Fe!==K?(Ze=we,J.charCodeAt(we)===91?(je=Be,we++):(je=K,st===0&&yt(Et)),je!==K?(Ot=Zr(),Ot!==K?(J.charCodeAt(we)===93?(Wt=qe,we++):(Wt=K,st===0&&yt(Kt)),Wt!==K?(jt=Ze,Ze=Ts(Fe,Ot)):(we=Ze,Ze=K)):(we=Ze,Ze=K)):(we=Ze,Ze=K),Ze===K&&(Ze=null),jt=oe,oe=Pr(Fe,Ze)):(we=oe,oe=K),oe}function Vs(){var oe,Fe;return oe=we,Gt(),Fe=Ys(),Fe!==K?(Gt(),jt=oe,oe=Nn(Fe)):(we=oe,oe=K),oe}function Xs(){var oe,Fe;return oe=we,Gt(),Fe=Js(),Fe!==K?(Gt(),jt=oe,oe=mn(Fe)):(we=oe,oe=K),oe}function Ks(){var oe,Fe,Ze,je;return oe=we,Gt(),Fe=jr(),Fe!==K?(Gt(),Ze=Qs(),Ze!==K?(Gt(),je=jr(),je!==K?(Gt(),jt=oe,oe=$s(Fe,Ze,je)):(we=oe,oe=K)):(we=oe,oe=K)):(we=oe,oe=K),oe===K&&(oe=we,Gt(),J.charCodeAt(we)===42?(Fe=Ue,we++):(Fe=K,st===0&&yt(hr)),Fe!==K?(Gt(),Ze=Qr(),Ze!==K?(Gt(),je=jr(),je!==K?(Gt(),jt=oe,oe=jn(Ze,je)):(we=oe,oe=K)):(we=oe,oe=K)):(we=oe,oe=K),oe===K&&(oe=we,Gt(),Fe=jr(),Fe!==K?(Gt(),Ze=Jn(),Ze!==K?(Gt(),J.charCodeAt(we)===42?(je=Ue,we++):(je=K,st===0&&yt(hr)),je!==K?(Gt(),jt=oe,oe=ws(Fe,Ze)):(we=oe,oe=K)):(we=oe,oe=K)):(we=oe,oe=K),oe===K&&(oe=we,Gt(),Fe=jr(),Fe!==K?(Gt(),Ze=Yn(),Ze!==K?(Gt(),J.charCodeAt(we)===42?(je=Ue,we++):(je=K,st===0&&yt(hr)),je!==K?(Gt(),jt=oe,oe=As(Fe,Ze)):(we=oe,oe=K)):(we=oe,oe=K)):(we=oe,oe=K)))),oe}function Ys(){var oe;return st++,J.substr(we,3)===Ke?(oe=Ke,we+=3):(oe=K,st===0&&yt(Er)),oe===K&&(J.substr(we,3)===Je?(oe=Je,we+=3):(oe=K,st===0&&yt(Ir))),st--,oe===K&&st===0&&yt(gr),oe}function Js(){var oe;return st++,J.substr(we,3)===mt?(oe=mt,we+=3):(oe=K,st===0&&yt(Cr)),st--,oe===K&&st===0&&yt(Dr),oe}function Qs(){var oe,Fe;return oe=we,Fe=Yn(),Fe===K&&(Fe=Jn(),Fe===K&&(Fe=Qr(),Fe===K&&(Fe=Qn()))),Fe!==K&&(jt=oe,Fe=ks(Fe)),oe=Fe,oe}function Yn(){var oe;return st++,J.substr(we,2)===ht?(oe=ht,we+=2):(oe=K,st===0&&yt(Gr)),oe===K&&(J.substr(we,3)===pt?(oe=pt,we+=3):(oe=K,st===0&&yt(ci)),oe===K&&(J.substr(we,2)===bt?(oe=bt,we+=2):(oe=K,st===0&&yt(En)),oe===K&&(J.substr(we,5)===ct?(oe=ct,we+=5):(oe=K,st===0&&yt(Tn)),oe===K&&(J.substr(we,3)===We?(oe=We,we+=3):(oe=K,st===0&&yt($n)),oe===K&&(J.substr(we,2)===Pe?(oe=Pe,we+=2):(oe=K,st===0&&yt(ui)),oe===K&&(J.substr(we,4)===_e?(oe=_e,we+=4):(oe=K,st===0&&yt(hi)),oe===K&&(J.substr(we,2)===xe?(oe=xe,we+=2):(oe=K,st===0&&yt(Fr)),oe===K&&(J.substr(we,3)===ge?(oe=ge,we+=3):(oe=K,st===0&&yt(Vr)))))))))),st--,oe===K&&st===0&&yt(zr),oe}function Jn(){var oe;return st++,J.substr(we,2)===ke?(oe=ke,we+=2):(oe=K,st===0&&yt(fi)),oe===K&&(J.substr(we,3)===Ee?(oe=Ee,we+=3):(oe=K,st===0&&yt(gi)),oe===K&&(J.substr(we,2)===Me?(oe=Me,we+=2):(oe=K,st===0&&yt(Nr)),oe===K&&(J.substr(we,2)===Oe?(oe=Oe,we+=2):(oe=K,st===0&&yt(mi)),oe===K&&(J.substr(we,2)===pe?(oe=pe,we+=2):(oe=K,st===0&&yt(yi)),oe===K&&(J.substr(we,2).toLowerCase()===Ce?(oe=J.substr(we,2),we+=2):(oe=K,st===0&&yt(bi))))))),st--,oe===K&&st===0&&yt(di),oe}function Qr(){var oe;return st++,J.substr(we,2)===Re?(oe=Re,we+=2):(oe=K,st===0&&yt(vi)),oe===K&&(J.substr(we,3)===De?(oe=De,we+=3):(oe=K,st===0&&yt(xi)),oe===K&&(J.substr(we,2)===Ne?(oe=Ne,we+=2):(oe=K,st===0&&yt(Xr)),oe===K&&(J.substr(we,2)===He?(oe=He,we+=2):(oe=K,st===0&&yt(Kr)),oe===K&&(J.substr(we,2)===Ge?(oe=Ge,we+=2):(oe=K,st===0&&yt(dn)),oe===K&&(J.substr(we,2).toLowerCase()===it?(oe=J.substr(we,2),we+=2):(oe=K,st===0&&yt(Ci))))))),st--,oe===K&&st===0&&yt(_i),oe}function Qn(){var oe;return st++,J.substr(we,4).toLowerCase()===ut?(oe=J.substr(we,4),we+=4):(oe=K,st===0&&yt(Ei)),oe===K&&(J.substr(we,4).toLowerCase()===tt?(oe=J.substr(we,4),we+=4):(oe=K,st===0&&yt(Ti)),oe===K&&(J.substr(we,4).toLowerCase()===lt?(oe=J.substr(we,4),we+=4):(oe=K,st===0&&yt($i)),oe===K&&(J.substr(we,3).toLowerCase()===ot?(oe=J.substr(we,3),we+=3):(oe=K,st===0&&yt(wi))))),st--,oe===K&&st===0&&yt(Si),oe}function Zr(){var oe,Fe,Ze,je,Ot,Wt;for(oe=we,Fe=we,Ze=[],je=we,Ot=vn(),Ot!==K?(J.charCodeAt(we)===44?(Wt=de,we++):(Wt=K,st===0&&yt(ir)),Wt!==K?(jt=je,je=Bn(Ot)):(we=je,je=K)):(we=je,je=K);je!==K;)Ze.push(je),je=we,Ot=vn(),Ot!==K?(J.charCodeAt(we)===44?(Wt=de,we++):(Wt=K,st===0&&yt(ir)),Wt!==K?(jt=je,je=Bn(Ot)):(we=je,je=K)):(we=je,je=K);return je=we,Ot=vn(),Ot!==K&&(jt=je,Ot=Ps(Ot)),je=Ot,je!==K?(Ze=[Ze,je],Fe=Ze):(we=Fe,Fe=K),Fe!==K&&(jt=oe,Fe=Un(Fe)),oe=Fe,oe}function vn(){var oe,Fe,Ze,je;return oe=we,Gt(),Fe=Zs(),Fe!==K?(Gt(),J.charCodeAt(we)===61?(Ze=ye,we++):(Ze=K,st===0&&yt(wt)),Ze!==K?(Gt(),je=jr(),je!==K?(Gt(),jt=oe,oe=Rs(Fe,je)):(we=oe,oe=K)):(we=oe,oe=K)):(we=oe,oe=K),oe}function Zs(){var oe;return st++,J.substr(we,5).toLowerCase()===dt?(oe=J.substr(we,5),we+=5):(oe=K,st===0&&yt(ki)),oe===K&&(J.substr(we,5).toLowerCase()===vt?(oe=J.substr(we,5),we+=5):(oe=K,st===0&&yt(Pi)),oe===K&&(J.substr(we,2).toLowerCase()===St?(oe=J.substr(we,2),we+=2):(oe=K,st===0&&yt(Ri)),oe===K&&(J.substr(we,3).toLowerCase()===Tt?(oe=J.substr(we,3),we+=3):(oe=K,st===0&&yt(Li)),oe===K&&(J.substr(we,9).toLowerCase()===$t?(oe=J.substr(we,9),we+=9):(oe=K,st===0&&yt(Ii)),oe===K&&(J.substr(we,10).toLowerCase()===It?(oe=J.substr(we,10),we+=10):(oe=K,st===0&&yt(Oi)),oe===K&&(J.substr(we,9).toLowerCase()===qt?(oe=J.substr(we,9),we+=9):(oe=K,st===0&&yt(Fi)),oe===K&&(J.substr(we,10).toLowerCase()===Vt?(oe=J.substr(we,10),we+=10):(oe=K,st===0&&yt(Mi)),oe===K&&(J.substr(we,11).toLowerCase()===ar?(oe=J.substr(we,11),we+=11):(oe=K,st===0&&yt(Di)),oe===K&&(J.substr(we,12).toLowerCase()===sr?(oe=J.substr(we,12),we+=12):(oe=K,st===0&&yt(Ni)),oe===K&&(J.substr(we,12).toLowerCase()===fr?(oe=J.substr(we,12),we+=12):(oe=K,st===0&&yt(ji)),oe===K&&(J.substr(we,13).toLowerCase()===nr?(oe=J.substr(we,13),we+=13):(oe=K,st===0&&yt(Bi)),oe===K&&(J.substr(we,12).toLowerCase()===lr?(oe=J.substr(we,12),we+=12):(oe=K,st===0&&yt(Ui)),oe===K&&(J.substr(we,13).toLowerCase()===cr?(oe=J.substr(we,13),we+=13):(oe=K,st===0&&yt(Hi)),oe===K&&(J.substr(we,14).toLowerCase()===dr?(oe=J.substr(we,14),we+=14):(oe=K,st===0&&yt(Wi)),oe===K&&(J.substr(we,15).toLowerCase()===Sr?(oe=J.substr(we,15),we+=15):(oe=K,st===0&&yt(qi)),oe===K&&(J.substr(we,7).toLowerCase()===_t?(oe=J.substr(we,7),we+=7):(oe=K,st===0&&yt(kr)))))))))))))))))),st--,oe===K&&st===0&&yt(Ai),oe}function sn(){var oe,Fe,Ze,je;return st++,oe=we,J.charCodeAt(we)===34?(Fe=nt,we++):(Fe=K,st===0&&yt(wr)),Fe!==K?(Ze=ln(),J.charCodeAt(we)===34?(je=nt,we++):(je=K,st===0&&yt(wr)),je!==K?(jt=oe,oe=Hn(Ze)):(we=oe,oe=K)):(we=oe,oe=K),st--,oe===K&&(Fe=K,st===0&&yt(wn)),oe}function ln(){var oe,Fe,Ze,je;for(oe=[],Fe=we,Ze=we,st++,J.charCodeAt(we)===34?(je=nt,we++):(je=K,st===0&&yt(wr)),st--,je===K?Ze=void 0:(we=Ze,Ze=K),Ze!==K?(J.substr(we,2)===rt?(je=rt,we+=2):(je=K,st===0&&yt(An)),je===K&&(J.length>we?(je=J.charAt(we),we++):(je=K,st===0&&yt(Yr))),je!==K?(jt=Fe,Fe=Wn(je)):(we=Fe,Fe=K)):(we=Fe,Fe=K);Fe!==K;)oe.push(Fe),Fe=we,Ze=we,st++,J.charCodeAt(we)===34?(je=nt,we++):(je=K,st===0&&yt(wr)),st--,je===K?Ze=void 0:(we=Ze,Ze=K),Ze!==K?(J.substr(we,2)===rt?(je=rt,we+=2):(je=K,st===0&&yt(An)),je===K&&(J.length>we?(je=J.charAt(we),we++):(je=K,st===0&&yt(Yr))),je!==K?(jt=Fe,Fe=Wn(je)):(we=Fe,Fe=K)):(we=Fe,Fe=K);return oe}function jr(){var oe;return st++,oe=Zn(),oe===K&&(oe=sn()),st--,oe===K&&st===0&&yt(zi),oe}function Zn(){var oe,Fe,Ze;if(oe=we,Fe=[],Nt.test(J.charAt(we))?(Ze=J.charAt(we),we++):(Ze=K,st===0&&yt(kn)),Ze!==K)for(;Ze!==K;)Fe.push(Ze),Nt.test(J.charAt(we))?(Ze=J.charAt(we),we++):(Ze=K,st===0&&yt(kn));else Fe=K;return Fe!==K&&(jt=oe,Fe=qn(Fe)),oe=Fe,oe}function ei(){var oe,Fe;return st++,oe=we,Yt.test(J.charAt(we))?(Fe=J.charAt(we),we++):(Fe=K,st===0&&yt(Vi)),Fe!==K&&(jt=oe,Fe=Ls(Fe)),oe=Fe,st--,oe===K&&(Fe=K,st===0&&yt(Gi)),oe}function Or(){var oe,Fe;return st++,oe=we,Jt.test(J.charAt(we))?(Fe=J.charAt(we),we++):(Fe=K,st===0&&yt(Pn)),Fe!==K&&(jt=oe,Fe=zn(Fe)),oe=Fe,st--,oe===K&&(Fe=K,st===0&&yt(Xi)),oe}function ti(){var oe;return J.substr(we,2)===Xe?(oe=Xe,we+=2):(oe=K,st===0&&yt(Ki)),oe}function ri(){var oe;return J.substr(we,2)===at?(oe=at,we+=2):(oe=K,st===0&&yt(Rn)),oe}function ni(){var oe,Fe,Ze;return oe=we,Fe=we,st++,J.substr(we,2)===at?(Ze=at,we+=2):(Ze=K,st===0&&yt(Rn)),st--,Ze===K?Fe=void 0:(we=Fe,Fe=K),Fe!==K?(J.length>we?(Ze=J.charAt(we),we++):(Ze=K,st===0&&yt(Yr)),Ze!==K?(jt=oe,oe=Is(Ze)):(we=oe,oe=K)):(we=oe,oe=K),oe}function ea(){var oe,Fe,Ze,je;if(oe=we,Fe=ti(),Fe!==K){for(Ze=[],je=ni();je!==K;)Ze.push(je),je=ni();je=ri(),je!==K?(jt=oe,oe=Os(Fe,Ze,je)):(we=oe,oe=K)}else we=oe,oe=K;return oe}function ii(){var oe;return J.substr(we,2)===ft?(oe=ft,we+=2):(oe=K,st===0&&yt(Yi)),oe===K&&(J.charCodeAt(we)===35?(oe=Ct,we++):(oe=K,st===0&&yt(Ji))),oe}function si(){var oe;return _r.test(J.charAt(we))?(oe=J.charAt(we),we++):(oe=K,st===0&&yt(Qi)),oe}function ta(){var oe,Fe,Ze,je;if(oe=we,Fe=ii(),Fe!==K){for(Ze=[],je=si();je!==K;)Ze.push(je),je=si();jt=oe,oe=Fs(Fe,Ze)}else we=oe,oe=K;return oe}function xn(){var oe;return st++,oe=ta(),oe===K&&(oe=ea()),st--,oe===K&&st===0&&yt(Ln),oe}function Gt(){var oe,Fe;for(oe=[],Fe=ei(),Fe===K&&(Fe=Or(),Fe===K&&(Fe=xn()));Fe!==K;)oe.push(Fe),Fe=ei(),Fe===K&&(Fe=Or(),Fe===K&&(Fe=xn()));return oe}function ai(){var oe,Fe;return st++,oe=we,Fe=Mt(),Fe!==K&&(jt=oe,Fe=Ms(Fe)),oe=Fe,oe===K&&(oe=we,Fe=oi(),Fe!==K&&(jt=oe,Fe=Ds(Fe)),oe=Fe),st--,oe===K&&(Fe=K,st===0&&yt(Zi)),oe}function Mt(){var oe,Fe,Ze,je;return oe=we,J.charCodeAt(we)===34?(Fe=nt,we++):(Fe=K,st===0&&yt(wr)),Fe!==K?(Ze=oi(),Ze!==K?(J.charCodeAt(we)===34?(je=nt,we++):(je=K,st===0&&yt(wr)),je!==K?(jt=oe,oe=Ns(Ze)):(we=oe,oe=K)):(we=oe,oe=K)):(we=oe,oe=K),oe}function oi(){var oe;return oe=me(),oe===K&&(oe=Cn()),oe}function Cn(){var oe,Fe,Ze;if(st++,oe=we,Fe=[],mr.test(J.charAt(we))?(Ze=J.charAt(we),we++):(Ze=K,st===0&&yt(In)),Ze!==K)for(;Ze!==K;)Fe.push(Ze),mr.test(J.charAt(we))?(Ze=J.charAt(we),we++):(Ze=K,st===0&&yt(In));else Fe=K;return Fe!==K&&(jt=oe,Fe=js(Fe)),oe=Fe,st--,oe===K&&(Fe=K,st===0&&yt(es)),oe}function me(){var oe,Fe,Ze,je,Ot;return st++,oe=we,Fe=we,Ze=Cn(),Ze!==K?(J.charCodeAt(we)===46?(je=Ht,we++):(je=K,st===0&&yt(rs)),je!==K?(Ot=Cn(),Ot!==K?(Ze=[Ze,je,Ot],Fe=Ze):(we=Fe,Fe=K)):(we=Fe,Fe=K)):(we=Fe,Fe=K),Fe!==K&&(jt=oe,Fe=Bs(Fe)),oe=Fe,st--,oe===K&&(Fe=K,st===0&&yt(ts)),oe}function Pt(){var oe,Fe;return st++,oe=we,Fe=cn(),Fe!==K&&(jt=oe,Fe=Us(Fe)),oe=Fe,oe===K&&(oe=we,Fe=$r(),Fe!==K&&(jt=oe,Fe=Hs(Fe)),oe=Fe),st--,oe===K&&(Fe=K,st===0&&yt(ns)),oe}function cn(){var oe,Fe,Ze,je;return oe=we,J.charCodeAt(we)===34?(Fe=nt,we++):(Fe=K,st===0&&yt(wr)),Fe!==K?(Ze=$r(),Ze!==K?(J.charCodeAt(we)===34?(je=nt,we++):(je=K,st===0&&yt(wr)),je!==K?(jt=oe,oe=Ws(Ze)):(we=oe,oe=K)):(we=oe,oe=K)):(we=oe,oe=K),oe}function $r(){var oe;return J.substr(we,4).toLowerCase()===Bt?(oe=J.substr(we,4),we+=4):(oe=K,st===0&&yt(is)),oe===K&&(J.substr(we,5).toLowerCase()===Ut?(oe=J.substr(we,5),we+=5):(oe=K,st===0&&yt(ss)),oe===K&&(J.substr(we,2).toLowerCase()===Rt?(oe=J.substr(we,2),we+=2):(oe=K,st===0&&yt(as)),oe===K&&(J.substr(we,3).toLowerCase()===Ft?(oe=J.substr(we,3),we+=3):(oe=K,st===0&&yt(os)),oe===K&&(J.charCodeAt(we)===48?(oe=Xt,we++):(oe=K,st===0&&yt(ls)),oe===K&&(J.charCodeAt(we)===49?(oe=Qt,we++):(oe=K,st===0&&yt(cs))))))),oe}function Sn(){return{extendedOptions:!1,extendedArcTypes:!1,extendedFeatures:!1}}if(Tr=le(),Tr!==K&&we===J.length)return Tr;throw Tr!==K&&we<J.length&&yt(Ur()),gt(Se,Rr<J.length?J.charAt(Rr):null,Rr<J.length?br(Rr,Rr+1):br(Rr,Rr))}return{SyntaxError:Y,parse:te}})})(mscgenparser$2);var mscgenparserExports=mscgenparser$2.exports;const mscgenparser=getDefaultExportFromCjs(mscgenparserExports),mscgenparser$1=_mergeNamespaces({__proto__:null,default:mscgenparser},[mscgenparserExports]);var msgennyparser$2={exports:{}};(function(C){(function(T,$){C.exports&&(C.exports=$(requireAssign(),require$$1))})(commonjsGlobal,function(T,$){function V(J,ie){function K(){this.constructor=J}K.prototype=ie.prototype,J.prototype=new K}function Y(J,ie,K,re){var ne=Error.call(this,J);return Object.setPrototypeOf&&Object.setPrototypeOf(ne,Y.prototype),ne.expected=ie,ne.found=K,ne.location=re,ne.name="SyntaxError",ne}V(Y,Error);function ee(J,ie,K){return K=K||" ",J.length>ie?J:(ie-=J.length,K+=K.repeat(ie),J+K.slice(0,ie))}Y.prototype.format=function(J){var ie="Error: "+this.message;if(this.location){var K=null,re;for(re=0;re<J.length;re++)if(J[re].source===this.location.source){K=J[re].text.split(/\r\n|\n|\r/g);break}var ne=this.location.start,le=this.location.source+":"+ne.line+":"+ne.column;if(K){var ae=this.location.end,se=ee("",ne.line.toString().length," "),ue=K[ne.line-1],de=ne.line===ae.line?ae.column:ue.length+1,ce=de-ne.column||1;ie+=`
 --> `+le+`
`+se+` |
`+ne.line+" | "+ue+`
`+se+" | "+ee("",ne.column-1," ")+ee("",ce,"^")}else ie+=`
 at `+le}return ie},Y.buildMessage=function(J,ie){var K={literal:function(de){return'"'+ne(de.text)+'"'},class:function(de){var ce=de.parts.map(function(be){return Array.isArray(be)?le(be[0])+"-"+le(be[1]):le(be)});return"["+(de.inverted?"^":"")+ce.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(de){return de.description}};function re(de){return de.charCodeAt(0).toString(16).toUpperCase()}function ne(de){return de.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ce){return"\\x0"+re(ce)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ce){return"\\x"+re(ce)})}function le(de){return de.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ce){return"\\x0"+re(ce)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ce){return"\\x"+re(ce)})}function ae(de){return K[de.type](de)}function se(de){var ce=de.map(ae),be,Le;if(ce.sort(),ce.length>0){for(be=1,Le=1;be<ce.length;be++)ce[be-1]!==ce[be]&&(ce[Le]=ce[be],Le++);ce.length=Le}switch(ce.length){case 1:return ce[0];case 2:return ce[0]+" or "+ce[1];default:return ce.slice(0,-1).join(", ")+", or "+ce[ce.length-1]}}function ue(de){return de?'"'+ne(de)+'"':"end of input"}return"Expected "+se(J)+" but "+ue(ie)+" found."};function te(J,ie){ie=ie!==void 0?ie:{};var K={},re=ie.grammarSource,ne={program:Xn},le=Xn,ae=",",se=";",ue="hscale",de="arcgradient",ce="=",be="width",Le="wordwraparcs",ve="wordwrapentities",ye="wordwrapboxes",Ae="watermark",Be=":",qe="*",Ue="{",Ke="}",Je="|||",mt="...",ht="---",pt="--",bt="<->",ct="==",We="<<=>>",Pe="<=>",_e="..",xe="<<>>",ge="::",ke="<:>",Ee="->",Me="=>>",Oe="=>",pe=">>",Ce=":>",Re="-x",De="<-",Ne="<<=",He="<=",Ge="<<",it="<:",ut="x-",tt="note",lt="abox",ot="rbox",dt="box",vt="alt",St="else",Tt="opt",$t="break",It="par",qt="seq",Vt="strict",ar="neg",sr="critical",fr="ignore",nr="consider",lr="assert",cr="loop",dr="ref",Sr="exc",_t='"',nt='\\"',rt="/*",Xe="*/",at="//",ft="#",Ct=".",Ht="true",Bt="false",Ut="on",Rt="off",Ft="0",Xt="1",Qt="auto",Nt=/^[^;, "\t\n\r=\-><:{*]/,Yt=/^[ \t]/,Jt=/^[\r\n]/,_r=/^[^\r\n]/,mr=/^[0-9]/,ur=At(",",!1),or=At(";",!1),pr=At("hscale",!0),ir=At("arcgradient",!0),vr=At("=",!1),xr=At("width",!0),Ar=At("wordwraparcs",!0),Lr=At("wordwrapentities",!0),Zt=At("wordwrapboxes",!0),wt=At("watermark",!0),et=br("entity"),xt=At(":",!1),Et=At("*",!1),Kt=At("{",!1),hr=At("}",!1),gr=br("empty row"),Er=At("|||",!1),Ir=At("...",!1),Dr=br("---"),Cr=At("---",!1),zr=br("bi-directional arrow"),Gr=At("--",!1),ci=At("<->",!1),En=At("==",!1),Tn=At("<<=>>",!1),$n=At("<=>",!1),ui=At("..",!1),hi=At("<<>>",!1),Fr=At("::",!1),Vr=At("<:>",!1),di=br("left to right arrow"),fi=At("->",!1),gi=At("=>>",!1),Nr=At("=>",!1),mi=At(">>",!1),yi=At(":>",!1),bi=At("-x",!0),_i=br("right to left arrow"),vi=At("<-",!1),xi=At("<<=",!1),Xr=At("<=",!1),Kr=At("<<",!1),dn=At("<:",!1),Ci=At("x-",!0),Si=br("box"),Ei=At("note",!0),Ti=At("abox",!0),$i=At("rbox",!0),wi=At("box",!0),Ai=br("inline expression"),ki=At("alt",!0),Pi=At("else",!0),Ri=At("opt",!0),Li=At("break",!0),Ii=At("par",!0),Oi=At("seq",!0),Fi=At("strict",!0),Mi=At("neg",!0),Di=At("critical",!0),Ni=At("ignore",!0),ji=At("consider",!0),Bi=At("assert",!0),Ui=At("loop",!0),Hi=At("ref",!0),Wi=At("exc",!0),qi=br("double quoted string"),kr=At('"',!1),wn=At('\\"',!1),wr=yr(),An=br("identifier"),Yr=Ur([";",","," ",'"',"	",`
`,"\r","=","-",">","<",":","{","*"],!0,!1),zi=br("whitespace"),kn=Ur([" ","	"],!1,!1),Gi=br("lineend"),Vi=Ur(["\r",`
`],!1,!1),Xi=At("/*",!1),Pn=At("*/",!1),Ki=At("//",!1),Rn=At("#",!1),Yi=Ur(["\r",`
`],!0,!1),Ji=br("comment"),Qi=br("number"),Ln=Ur([["0","9"]],!1,!1),Zi=At(".",!1),es=br("boolean"),In=At("true",!0),ts=At("false",!0),rs=At("on",!0),ns=At("off",!0),is=At("0",!1),ss=At("1",!1),as=br("size"),os=At("auto",!0),ls=function(fe,$e){return $e.entities=na($e.entities||[],$e.arcs),$e=T({meta:$.getMetaInfo($e.options,$e.arcs)},$e),fe.length>0&&($e=T({precomment:fe},$e)),$e},cs=function(fe,$e,Qe){var Ie={};return fe&&(Ie.options=fe),$e&&(Ie.entities=$e),Qe&&(Ie.arcs=Qe),Ie},On=function(fe){return fe},us=function(fe){return fe},Fn=function(fe){return fe[0].concat(fe[1]).reduce(T,{})},hs=function(fe,$e){return $.nameValue2Option(fe,$e)},ds=function(fe,$e){return $.nameValue2Option(fe,$e)},fs=function(fe,$e){return $.nameValue2Option(fe,$.flattenBoolean($e))},ps=function(fe,$e){return $.nameValue2Option(fe,$.flattenBoolean($e))},Mn=function(fe,$e){return $.nameValue2Option(fe,$.flattenBoolean($e))},gs=function(fe,$e){return $.nameValue2Option(fe,$e)},Dn=function(fe){return fe},ms=function(fe){return fe},ys=function(fe){return fe[0].concat(fe[1])},bs=function(fe,$e){return $e},_s=function(fe,$e){var Qe=Wt(fe);return $e&&(Qe.label=$e),Qe},pn=function(fe){return fe},gn=function(fe){return fe},vs=function(fe){return fe},xs=function(fe){return fe[0].concat(fe[1])},Cs=function(fe){return fe},Ss=function(fe){return fe},Es=function(fe){return fe},Ts=function(fe,$e){return $e},Pr=function(fe,$e){return $e&&(fe.label=$e),fe},Nn=function(fe){return{kind:fe}},mn=function(fe){return{kind:fe}},$s=function(fe,$e,Qe){return{kind:$e,from:fe,to:Qe}},jn=function(fe,$e){return{kind:fe,from:"*",to:$e}},ws=function(fe,$e){return{kind:$e,from:fe,to:"*"}},As=function(fe,$e){return{kind:$e,from:fe,to:"*"}},ks=function(fe,$e,Qe,Ie){return Ie},Bn=function(fe,$e,Qe,Ie,Dt){var rr={kind:$e,from:fe,to:Qe,arcs:Dt};return Ie&&(rr.label=Ie),rr},Ps=function(fe){return fe.toLowerCase()},Un=function(fe){return fe.toLowerCase()},Rs=function(fe){return fe.join("")},Hn=function(fe){return fe},Wn=function(fe){return fe.join("").trim()},qn=function(fe){return fe},Ls=function(fe){return fe.join("")},zn=function(fe){return fe},Is=function(fe){return fe},Os=function(fe){return fe},Fs=function(fe,$e,Qe){return fe+$e.join("")+Qe},Ms=function(fe,$e){return fe+$e.join("")},Ds=function(fe){return fe},Ns=function(fe){return fe.toString()},js=function(fe){return fe.toString()},Bs=function(fe){return parseInt(fe.join(""),10)},Us=function(fe){return parseFloat(fe.join(""))},Hs=function(fe){return fe},Ws=function(fe){return fe.toString()},we=function(fe){return fe},jt=function(fe){return fe},Jr=function(fe){return fe.toString()},Rr=function(fe){return fe.toLowerCase()},Se=0,st=[{line:1,column:1}],Tr=0,yn=[],ze=0,Mr;if("startRule"in ie){if(!(ie.startRule in ne))throw new Error(`Can't start parsing from rule "`+ie.startRule+'".');le=ne[ie.startRule]}function At(fe,$e){return{type:"literal",text:fe,ignoreCase:$e}}function Ur(fe,$e,Qe){return{type:"class",parts:fe,inverted:$e,ignoreCase:Qe}}function yr(){return{type:"any"}}function Gn(){return{type:"end"}}function br(fe){return{type:"other",description:fe}}function yt(fe){var $e=st[fe],Qe;if($e)return $e;for(Qe=fe-1;!st[Qe];)Qe--;for($e=st[Qe],$e={line:$e.line,column:$e.column};Qe<fe;)J.charCodeAt(Qe)===10?($e.line++,$e.column=1):$e.column++,Qe++;return st[fe]=$e,$e}function Vn(fe,$e){var Qe=yt(fe),Ie=yt($e);return{source:re,start:{offset:fe,line:Qe.line,column:Qe.column},end:{offset:$e,line:Ie.line,column:Ie.column}}}function gt(fe){Se<Tr||(Se>Tr&&(Tr=Se,yn=[]),yn.push(fe))}function bn(fe,$e,Qe){return new Y(Y.buildMessage(fe,$e),fe,$e,Qe)}function Xn(){var fe,$e,Qe;return fe=Se,$e=Mt(),Qe=qs(),Mt(),fe=ls($e,Qe),fe}function qs(){var fe,$e,Qe,Ie;return fe=Se,$e=zs(),$e===K&&($e=null),Qe=Gs(),Qe===K&&(Qe=null),Ie=Kn(),Ie===K&&(Ie=null),fe=cs($e,Qe,Ie),fe}function zs(){var fe,$e,Qe,Ie,Dt,rr;for(fe=Se,$e=Se,Qe=[],Ie=Se,Dt=Hr(),Dt!==K?(J.charCodeAt(Se)===44?(rr=ae,Se++):(rr=K,ze===0&&gt(ur)),rr!==K?Ie=On(Dt):(Se=Ie,Ie=K)):(Se=Ie,Ie=K);Ie!==K;)Qe.push(Ie),Ie=Se,Dt=Hr(),Dt!==K?(J.charCodeAt(Se)===44?(rr=ae,Se++):(rr=K,ze===0&&gt(ur)),rr!==K?Ie=On(Dt):(Se=Ie,Ie=K)):(Se=Ie,Ie=K);return Ie=Se,Dt=Hr(),Dt!==K?(J.charCodeAt(Se)===59?(rr=se,Se++):(rr=K,ze===0&&gt(or)),rr!==K?Ie=us(Dt):(Se=Ie,Ie=K)):(Se=Ie,Ie=K),Ie!==K?(Qe=[Qe,Ie],$e=Qe):(Se=$e,$e=K),$e!==K&&($e=Fn($e)),fe=$e,fe}function Hr(){var fe,$e,Qe,Ie;return fe=Se,Mt(),J.substr(Se,6).toLowerCase()===ue?($e=J.substr(Se,6),Se+=6):($e=K,ze===0&&gt(pr)),$e===K&&(J.substr(Se,11).toLowerCase()===de?($e=J.substr(Se,11),Se+=11):($e=K,ze===0&&gt(ir))),$e!==K?(Mt(),J.charCodeAt(Se)===61?(Qe=ce,Se++):(Qe=K,ze===0&&gt(vr)),Qe!==K?(Mt(),Ie=oi(),Ie!==K?(Mt(),fe=hs($e,Ie)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K),fe===K&&(fe=Se,Mt(),J.substr(Se,5).toLowerCase()===be?($e=J.substr(Se,5),Se+=5):($e=K,ze===0&&gt(xr)),$e!==K?(Mt(),J.charCodeAt(Se)===61?(Qe=ce,Se++):(Qe=K,ze===0&&gt(vr)),Qe!==K?(Mt(),Ie=Fe(),Ie!==K?(Mt(),fe=ds($e,Ie)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K),fe===K&&(fe=Se,Mt(),J.substr(Se,12).toLowerCase()===Le?($e=J.substr(Se,12),Se+=12):($e=K,ze===0&&gt(Ar)),$e!==K?(Mt(),J.charCodeAt(Se)===61?(Qe=ce,Se++):(Qe=K,ze===0&&gt(vr)),Qe!==K?(Mt(),Ie=$r(),Ie!==K?(Mt(),fe=fs($e,Ie)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K),fe===K&&(fe=Se,Mt(),J.substr(Se,16).toLowerCase()===ve?($e=J.substr(Se,16),Se+=16):($e=K,ze===0&&gt(Lr)),$e!==K?(Mt(),J.charCodeAt(Se)===61?(Qe=ce,Se++):(Qe=K,ze===0&&gt(vr)),Qe!==K?(Mt(),Ie=$r(),Ie!==K?(Mt(),fe=ps($e,Ie)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K),fe===K&&(fe=Se,Mt(),J.substr(Se,13).toLowerCase()===ye?($e=J.substr(Se,13),Se+=13):($e=K,ze===0&&gt(Zt)),$e!==K?(Mt(),J.charCodeAt(Se)===61?(Qe=ce,Se++):(Qe=K,ze===0&&gt(vr)),Qe!==K?(Mt(),Ie=$r(),Ie!==K?(Mt(),fe=Mn($e,Ie)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K),fe===K&&(fe=Se,Mt(),J.substr(Se,9).toLowerCase()===Ae?($e=J.substr(Se,9),Se+=9):($e=K,ze===0&&gt(wt)),$e!==K?(Mt(),J.charCodeAt(Se)===61?(Qe=ce,Se++):(Qe=K,ze===0&&gt(vr)),Qe!==K?(Mt(),Ie=ln(),Ie!==K?(Mt(),fe=gs($e,Ie)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K)))))),fe}function Gs(){var fe,$e,Qe,Ie,Dt,rr;for(fe=Se,$e=Se,Qe=[],Ie=Se,Dt=Wr(),Dt!==K?(J.charCodeAt(Se)===44?(rr=ae,Se++):(rr=K,ze===0&&gt(ur)),rr!==K?Ie=Dn(Dt):(Se=Ie,Ie=K)):(Se=Ie,Ie=K);Ie!==K;)Qe.push(Ie),Ie=Se,Dt=Wr(),Dt!==K?(J.charCodeAt(Se)===44?(rr=ae,Se++):(rr=K,ze===0&&gt(ur)),rr!==K?Ie=Dn(Dt):(Se=Ie,Ie=K)):(Se=Ie,Ie=K);return Ie=Se,Dt=Wr(),Dt!==K?(J.charCodeAt(Se)===59?(rr=se,Se++):(rr=K,ze===0&&gt(or)),rr!==K?Ie=ms(Dt):(Se=Ie,Ie=K)):(Se=Ie,Ie=K),Ie!==K?(Qe=[Qe,Ie],$e=Qe):(Se=$e,$e=K),$e!==K&&($e=ys($e)),fe=$e,fe}function Wr(){var fe,$e,Qe,Ie,Dt;return ze++,fe=Se,Mt(),$e=Or(),$e!==K?(Mt(),Qe=Se,J.charCodeAt(Se)===58?(Ie=Be,Se++):(Ie=K,ze===0&&gt(xt)),Ie!==K?(Mt(),Dt=sn(),Dt!==K?(Mt(),Qe=bs($e,Dt)):(Se=Qe,Qe=K)):(Se=Qe,Qe=K),Qe===K&&(Qe=null),fe=_s($e,Qe)):(Se=fe,fe=K),ze--,fe===K&&ze===0&&gt(et),fe}function Kn(){var fe,$e,Qe,Ie;if(fe=[],$e=Se,Qe=_n(),Qe!==K?(Mt(),J.charCodeAt(Se)===59?(Ie=se,Se++):(Ie=K,ze===0&&gt(or)),Ie!==K?$e=pn(Qe):(Se=$e,$e=K)):(Se=$e,$e=K),$e!==K)for(;$e!==K;)fe.push($e),$e=Se,Qe=_n(),Qe!==K?(Mt(),J.charCodeAt(Se)===59?(Ie=se,Se++):(Ie=K,ze===0&&gt(or)),Ie!==K?$e=pn(Qe):(Se=$e,$e=K)):(Se=$e,$e=K);else fe=K;return fe}function _n(){var fe,$e,Qe,Ie,Dt,rr;for(fe=Se,$e=Se,Qe=[],Ie=Se,Dt=qr(),Dt!==K?(J.charCodeAt(Se)===44?(rr=ae,Se++):(rr=K,ze===0&&gt(ur)),rr!==K?Ie=gn(Dt):(Se=Ie,Ie=K)):(Se=Ie,Ie=K);Ie!==K;)Qe.push(Ie),Ie=Se,Dt=qr(),Dt!==K?(J.charCodeAt(Se)===44?(rr=ae,Se++):(rr=K,ze===0&&gt(ur)),rr!==K?Ie=gn(Dt):(Se=Ie,Ie=K)):(Se=Ie,Ie=K);return Ie=Se,Dt=qr(),Dt!==K&&(Dt=vs(Dt)),Ie=Dt,Ie!==K?(Qe=[Qe,Ie],$e=Qe):(Se=$e,$e=K),$e!==K&&($e=xs($e)),fe=$e,fe}function qr(){var fe;return fe=Vs(),fe===K&&(fe=Js()),fe}function Vs(){var fe,$e,Qe,Ie,Dt;return fe=Se,$e=Se,Qe=Xs(),Qe!==K&&(Qe=Cs(Qe)),$e=Qe,$e===K&&($e=Se,Qe=Ys(),Qe!==K&&(Qe=Ss(Qe)),$e=Qe,$e===K&&($e=Se,Qe=Ks(),Qe!==K&&(Qe=Es(Qe)),$e=Qe)),$e!==K?(Qe=Se,J.charCodeAt(Se)===58?(Ie=Be,Se++):(Ie=K,ze===0&&gt(xt)),Ie!==K?(Mt(),Dt=sn(),Dt!==K?(Mt(),Qe=Ts($e,Dt)):(Se=Qe,Qe=K)):(Se=Qe,Qe=K),Qe===K&&(Qe=null),fe=Pr($e,Qe)):(Se=fe,fe=K),fe}function Xs(){var fe,$e;return fe=Se,Mt(),$e=Qs(),$e!==K?(Mt(),fe=Nn($e)):(Se=fe,fe=K),fe}function Ks(){var fe,$e;return fe=Se,Mt(),$e=Yn(),$e!==K?(Mt(),fe=mn($e)):(Se=fe,fe=K),fe}function Ys(){var fe,$e,Qe,Ie;return fe=Se,Mt(),$e=Or(),$e!==K?(Mt(),Qe=Jn(),Qe!==K?(Mt(),Ie=Or(),Ie!==K?(Mt(),fe=$s($e,Qe,Ie)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K),fe===K&&(fe=Se,Mt(),J.charCodeAt(Se)===42?($e=qe,Se++):($e=K,ze===0&&gt(Et)),$e!==K?(Mt(),Qe=Zr(),Qe!==K?(Mt(),Ie=Or(),Ie!==K?(Mt(),fe=jn(Qe,Ie)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K),fe===K&&(fe=Se,Mt(),$e=Or(),$e!==K?(Mt(),Qe=Qn(),Qe!==K?(Mt(),J.charCodeAt(Se)===42?(Ie=qe,Se++):(Ie=K,ze===0&&gt(Et)),Ie!==K?(Mt(),fe=ws($e,Qe)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K),fe===K&&(fe=Se,Mt(),$e=Or(),$e!==K?(Mt(),Qe=Qr(),Qe!==K?(Mt(),J.charCodeAt(Se)===42?(Ie=qe,Se++):(Ie=K,ze===0&&gt(Et)),Ie!==K?(Mt(),fe=As($e,Qe)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K)))),fe}function Js(){var fe,$e,Qe,Ie,Dt,rr,Br,ra;return fe=Se,Mt(),$e=Or(),$e!==K?(Mt(),Qe=Zs(),Qe!==K?(Mt(),Ie=Or(),Ie!==K?(Mt(),Dt=Se,J.charCodeAt(Se)===58?(rr=Be,Se++):(rr=K,ze===0&&gt(xt)),rr!==K?(Mt(),Br=sn(),Br!==K?(Mt(),Dt=ks($e,Qe,Ie,Br)):(Se=Dt,Dt=K)):(Se=Dt,Dt=K),Dt===K&&(Dt=null),J.charCodeAt(Se)===123?(rr=Ue,Se++):(rr=K,ze===0&&gt(Kt)),rr!==K?(Mt(),Br=Kn(),Br===K&&(Br=null),Mt(),J.charCodeAt(Se)===125?(ra=Ke,Se++):(ra=K,ze===0&&gt(hr)),ra!==K?(Mt(),fe=Bn($e,Qe,Ie,Dt,Br)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K),fe}function Qs(){var fe;return ze++,J.substr(Se,3)===Je?(fe=Je,Se+=3):(fe=K,ze===0&&gt(Er)),fe===K&&(J.substr(Se,3)===mt?(fe=mt,Se+=3):(fe=K,ze===0&&gt(Ir))),ze--,fe===K&&ze===0&&gt(gr),fe}function Yn(){var fe;return ze++,J.substr(Se,3)===ht?(fe=ht,Se+=3):(fe=K,ze===0&&gt(Cr)),ze--,fe===K&&ze===0&&gt(Dr),fe}function Jn(){var fe,$e;return fe=Se,$e=Qr(),$e===K&&($e=Qn(),$e===K&&($e=Zr(),$e===K&&($e=vn()))),$e!==K&&($e=Ps($e)),fe=$e,fe}function Qr(){var fe;return ze++,J.substr(Se,2)===pt?(fe=pt,Se+=2):(fe=K,ze===0&&gt(Gr)),fe===K&&(J.substr(Se,3)===bt?(fe=bt,Se+=3):(fe=K,ze===0&&gt(ci)),fe===K&&(J.substr(Se,2)===ct?(fe=ct,Se+=2):(fe=K,ze===0&&gt(En)),fe===K&&(J.substr(Se,5)===We?(fe=We,Se+=5):(fe=K,ze===0&&gt(Tn)),fe===K&&(J.substr(Se,3)===Pe?(fe=Pe,Se+=3):(fe=K,ze===0&&gt($n)),fe===K&&(J.substr(Se,2)===_e?(fe=_e,Se+=2):(fe=K,ze===0&&gt(ui)),fe===K&&(J.substr(Se,4)===xe?(fe=xe,Se+=4):(fe=K,ze===0&&gt(hi)),fe===K&&(J.substr(Se,2)===ge?(fe=ge,Se+=2):(fe=K,ze===0&&gt(Fr)),fe===K&&(J.substr(Se,3)===ke?(fe=ke,Se+=3):(fe=K,ze===0&&gt(Vr)))))))))),ze--,fe===K&&ze===0&&gt(zr),fe}function Qn(){var fe;return ze++,J.substr(Se,2)===Ee?(fe=Ee,Se+=2):(fe=K,ze===0&&gt(fi)),fe===K&&(J.substr(Se,3)===Me?(fe=Me,Se+=3):(fe=K,ze===0&&gt(gi)),fe===K&&(J.substr(Se,2)===Oe?(fe=Oe,Se+=2):(fe=K,ze===0&&gt(Nr)),fe===K&&(J.substr(Se,2)===pe?(fe=pe,Se+=2):(fe=K,ze===0&&gt(mi)),fe===K&&(J.substr(Se,2)===Ce?(fe=Ce,Se+=2):(fe=K,ze===0&&gt(yi)),fe===K&&(J.substr(Se,2).toLowerCase()===Re?(fe=J.substr(Se,2),Se+=2):(fe=K,ze===0&&gt(bi))))))),ze--,fe===K&&ze===0&&gt(di),fe}function Zr(){var fe;return ze++,J.substr(Se,2)===De?(fe=De,Se+=2):(fe=K,ze===0&&gt(vi)),fe===K&&(J.substr(Se,3)===Ne?(fe=Ne,Se+=3):(fe=K,ze===0&&gt(xi)),fe===K&&(J.substr(Se,2)===He?(fe=He,Se+=2):(fe=K,ze===0&&gt(Xr)),fe===K&&(J.substr(Se,2)===Ge?(fe=Ge,Se+=2):(fe=K,ze===0&&gt(Kr)),fe===K&&(J.substr(Se,2)===it?(fe=it,Se+=2):(fe=K,ze===0&&gt(dn)),fe===K&&(J.substr(Se,2).toLowerCase()===ut?(fe=J.substr(Se,2),Se+=2):(fe=K,ze===0&&gt(Ci))))))),ze--,fe===K&&ze===0&&gt(_i),fe}function vn(){var fe;return ze++,J.substr(Se,4).toLowerCase()===tt?(fe=J.substr(Se,4),Se+=4):(fe=K,ze===0&&gt(Ei)),fe===K&&(J.substr(Se,4).toLowerCase()===lt?(fe=J.substr(Se,4),Se+=4):(fe=K,ze===0&&gt(Ti)),fe===K&&(J.substr(Se,4).toLowerCase()===ot?(fe=J.substr(Se,4),Se+=4):(fe=K,ze===0&&gt($i)),fe===K&&(J.substr(Se,3).toLowerCase()===dt?(fe=J.substr(Se,3),Se+=3):(fe=K,ze===0&&gt(wi))))),ze--,fe===K&&ze===0&&gt(Si),fe}function Zs(){var fe,$e;return ze++,fe=Se,J.substr(Se,3).toLowerCase()===vt?($e=J.substr(Se,3),Se+=3):($e=K,ze===0&&gt(ki)),$e===K&&(J.substr(Se,4).toLowerCase()===St?($e=J.substr(Se,4),Se+=4):($e=K,ze===0&&gt(Pi)),$e===K&&(J.substr(Se,3).toLowerCase()===Tt?($e=J.substr(Se,3),Se+=3):($e=K,ze===0&&gt(Ri)),$e===K&&(J.substr(Se,5).toLowerCase()===$t?($e=J.substr(Se,5),Se+=5):($e=K,ze===0&&gt(Li)),$e===K&&(J.substr(Se,3).toLowerCase()===It?($e=J.substr(Se,3),Se+=3):($e=K,ze===0&&gt(Ii)),$e===K&&(J.substr(Se,3).toLowerCase()===qt?($e=J.substr(Se,3),Se+=3):($e=K,ze===0&&gt(Oi)),$e===K&&(J.substr(Se,6).toLowerCase()===Vt?($e=J.substr(Se,6),Se+=6):($e=K,ze===0&&gt(Fi)),$e===K&&(J.substr(Se,3).toLowerCase()===ar?($e=J.substr(Se,3),Se+=3):($e=K,ze===0&&gt(Mi)),$e===K&&(J.substr(Se,8).toLowerCase()===sr?($e=J.substr(Se,8),Se+=8):($e=K,ze===0&&gt(Di)),$e===K&&(J.substr(Se,6).toLowerCase()===fr?($e=J.substr(Se,6),Se+=6):($e=K,ze===0&&gt(Ni)),$e===K&&(J.substr(Se,8).toLowerCase()===nr?($e=J.substr(Se,8),Se+=8):($e=K,ze===0&&gt(ji)),$e===K&&(J.substr(Se,6).toLowerCase()===lr?($e=J.substr(Se,6),Se+=6):($e=K,ze===0&&gt(Bi)),$e===K&&(J.substr(Se,4).toLowerCase()===cr?($e=J.substr(Se,4),Se+=4):($e=K,ze===0&&gt(Ui)),$e===K&&(J.substr(Se,3).toLowerCase()===dr?($e=J.substr(Se,3),Se+=3):($e=K,ze===0&&gt(Hi)),$e===K&&(J.substr(Se,3).toLowerCase()===Sr?($e=J.substr(Se,3),Se+=3):($e=K,ze===0&&gt(Wi)))))))))))))))),$e!==K&&($e=Un($e)),fe=$e,ze--,fe===K&&($e=K,ze===0&&gt(Ai)),fe}function sn(){var fe;return fe=ln(),fe===K&&(fe=Zn()),fe}function ln(){var fe,$e,Qe,Ie;return ze++,fe=Se,J.charCodeAt(Se)===34?($e=_t,Se++):($e=K,ze===0&&gt(kr)),$e!==K?(Qe=jr(),J.charCodeAt(Se)===34?(Ie=_t,Se++):(Ie=K,ze===0&&gt(kr)),Ie!==K?fe=Rs(Qe):(Se=fe,fe=K)):(Se=fe,fe=K),ze--,fe===K&&($e=K,ze===0&&gt(qi)),fe}function jr(){var fe,$e,Qe,Ie;for(fe=[],$e=Se,Qe=Se,ze++,J.charCodeAt(Se)===34?(Ie=_t,Se++):(Ie=K,ze===0&&gt(kr)),ze--,Ie===K?Qe=void 0:(Se=Qe,Qe=K),Qe!==K?(J.substr(Se,2)===nt?(Ie=nt,Se+=2):(Ie=K,ze===0&&gt(wn)),Ie===K&&(J.length>Se?(Ie=J.charAt(Se),Se++):(Ie=K,ze===0&&gt(wr))),Ie!==K?$e=Hn(Ie):(Se=$e,$e=K)):(Se=$e,$e=K);$e!==K;)fe.push($e),$e=Se,Qe=Se,ze++,J.charCodeAt(Se)===34?(Ie=_t,Se++):(Ie=K,ze===0&&gt(kr)),ze--,Ie===K?Qe=void 0:(Se=Qe,Qe=K),Qe!==K?(J.substr(Se,2)===nt?(Ie=nt,Se+=2):(Ie=K,ze===0&&gt(wn)),Ie===K&&(J.length>Se?(Ie=J.charAt(Se),Se++):(Ie=K,ze===0&&gt(wr))),Ie!==K?$e=Hn(Ie):(Se=$e,$e=K)):(Se=$e,$e=K);return fe}function Zn(){var fe,$e;return fe=Se,$e=ei(),$e=Wn($e),fe=$e,fe}function ei(){var fe,$e,Qe,Ie;for(fe=[],$e=Se,Qe=Se,ze++,J.charCodeAt(Se)===44?(Ie=ae,Se++):(Ie=K,ze===0&&gt(ur)),Ie===K&&(J.charCodeAt(Se)===59?(Ie=se,Se++):(Ie=K,ze===0&&gt(or)),Ie===K&&(J.charCodeAt(Se)===123?(Ie=Ue,Se++):(Ie=K,ze===0&&gt(Kt)))),ze--,Ie===K?Qe=void 0:(Se=Qe,Qe=K),Qe!==K?(J.length>Se?(Ie=J.charAt(Se),Se++):(Ie=K,ze===0&&gt(wr)),Ie!==K?$e=qn(Ie):(Se=$e,$e=K)):(Se=$e,$e=K);$e!==K;)fe.push($e),$e=Se,Qe=Se,ze++,J.charCodeAt(Se)===44?(Ie=ae,Se++):(Ie=K,ze===0&&gt(ur)),Ie===K&&(J.charCodeAt(Se)===59?(Ie=se,Se++):(Ie=K,ze===0&&gt(or)),Ie===K&&(J.charCodeAt(Se)===123?(Ie=Ue,Se++):(Ie=K,ze===0&&gt(Kt)))),ze--,Ie===K?Qe=void 0:(Se=Qe,Qe=K),Qe!==K?(J.length>Se?(Ie=J.charAt(Se),Se++):(Ie=K,ze===0&&gt(wr)),Ie!==K?$e=qn(Ie):(Se=$e,$e=K)):(Se=$e,$e=K);return fe}function Or(){var fe,$e,Qe;if(ze++,fe=Se,$e=[],Nt.test(J.charAt(Se))?(Qe=J.charAt(Se),Se++):(Qe=K,ze===0&&gt(Yr)),Qe!==K)for(;Qe!==K;)$e.push(Qe),Nt.test(J.charAt(Se))?(Qe=J.charAt(Se),Se++):(Qe=K,ze===0&&gt(Yr));else $e=K;return $e!==K&&($e=Ls($e)),fe=$e,fe===K&&(fe=ln()),ze--,fe===K&&($e=K,ze===0&&gt(An)),fe}function ti(){var fe,$e;return ze++,fe=Se,Yt.test(J.charAt(Se))?($e=J.charAt(Se),Se++):($e=K,ze===0&&gt(kn)),$e!==K&&($e=zn($e)),fe=$e,ze--,fe===K&&($e=K,ze===0&&gt(zi)),fe}function ri(){var fe,$e;return ze++,fe=Se,Jt.test(J.charAt(Se))?($e=J.charAt(Se),Se++):($e=K,ze===0&&gt(Vi)),$e!==K&&($e=Is($e)),fe=$e,ze--,fe===K&&($e=K,ze===0&&gt(Gi)),fe}function ni(){var fe;return J.substr(Se,2)===rt?(fe=rt,Se+=2):(fe=K,ze===0&&gt(Xi)),fe}function ea(){var fe;return J.substr(Se,2)===Xe?(fe=Xe,Se+=2):(fe=K,ze===0&&gt(Pn)),fe}function ii(){var fe,$e,Qe;return fe=Se,$e=Se,ze++,J.substr(Se,2)===Xe?(Qe=Xe,Se+=2):(Qe=K,ze===0&&gt(Pn)),ze--,Qe===K?$e=void 0:(Se=$e,$e=K),$e!==K?(J.length>Se?(Qe=J.charAt(Se),Se++):(Qe=K,ze===0&&gt(wr)),Qe!==K?fe=Os(Qe):(Se=fe,fe=K)):(Se=fe,fe=K),fe}function si(){var fe,$e,Qe,Ie;if(fe=Se,$e=ni(),$e!==K){for(Qe=[],Ie=ii();Ie!==K;)Qe.push(Ie),Ie=ii();Ie=ea(),Ie!==K?fe=Fs($e,Qe,Ie):(Se=fe,fe=K)}else Se=fe,fe=K;return fe}function ta(){var fe;return J.substr(Se,2)===at?(fe=at,Se+=2):(fe=K,ze===0&&gt(Ki)),fe===K&&(J.charCodeAt(Se)===35?(fe=ft,Se++):(fe=K,ze===0&&gt(Rn))),fe}function xn(){var fe;return _r.test(J.charAt(Se))?(fe=J.charAt(Se),Se++):(fe=K,ze===0&&gt(Yi)),fe}function Gt(){var fe,$e,Qe,Ie;if(fe=Se,$e=ta(),$e!==K){for(Qe=[],Ie=xn();Ie!==K;)Qe.push(Ie),Ie=xn();fe=Ms($e,Qe)}else Se=fe,fe=K;return fe}function ai(){var fe;return ze++,fe=Gt(),fe===K&&(fe=si()),ze--,fe===K&&ze===0&&gt(Ji),fe}function Mt(){var fe,$e;for(fe=[],$e=ti(),$e===K&&($e=ri(),$e===K&&($e=ai()));$e!==K;)fe.push($e),$e=ti(),$e===K&&($e=ri(),$e===K&&($e=ai()));return fe}function oi(){var fe,$e;return ze++,fe=Se,$e=Cn(),$e!==K&&($e=Ds($e)),fe=$e,fe===K&&(fe=Se,$e=me(),$e!==K&&($e=Ns($e)),fe=$e),ze--,fe===K&&($e=K,ze===0&&gt(Qi)),fe}function Cn(){var fe,$e,Qe,Ie;return fe=Se,J.charCodeAt(Se)===34?($e=_t,Se++):($e=K,ze===0&&gt(kr)),$e!==K?(Qe=me(),Qe!==K?(J.charCodeAt(Se)===34?(Ie=_t,Se++):(Ie=K,ze===0&&gt(kr)),Ie!==K?fe=js(Qe):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K),fe}function me(){var fe;return fe=cn(),fe===K&&(fe=Pt()),fe}function Pt(){var fe,$e,Qe;if(fe=Se,$e=[],mr.test(J.charAt(Se))?(Qe=J.charAt(Se),Se++):(Qe=K,ze===0&&gt(Ln)),Qe!==K)for(;Qe!==K;)$e.push(Qe),mr.test(J.charAt(Se))?(Qe=J.charAt(Se),Se++):(Qe=K,ze===0&&gt(Ln));else $e=K;return $e!==K&&($e=Bs($e)),fe=$e,fe}function cn(){var fe,$e,Qe,Ie,Dt;return fe=Se,$e=Se,Qe=Pt(),Qe!==K?(J.charCodeAt(Se)===46?(Ie=Ct,Se++):(Ie=K,ze===0&&gt(Zi)),Ie!==K?(Dt=Pt(),Dt!==K?(Qe=[Qe,Ie,Dt],$e=Qe):(Se=$e,$e=K)):(Se=$e,$e=K)):(Se=$e,$e=K),$e!==K&&($e=Us($e)),fe=$e,fe}function $r(){var fe,$e;return ze++,fe=Se,$e=Sn(),$e!==K&&($e=Hs($e)),fe=$e,fe===K&&(fe=Se,$e=oe(),$e!==K&&($e=Ws($e)),fe=$e),ze--,fe===K&&($e=K,ze===0&&gt(es)),fe}function Sn(){var fe,$e,Qe,Ie;return fe=Se,J.charCodeAt(Se)===34?($e=_t,Se++):($e=K,ze===0&&gt(kr)),$e!==K?(Qe=oe(),Qe!==K?(J.charCodeAt(Se)===34?(Ie=_t,Se++):(Ie=K,ze===0&&gt(kr)),Ie!==K?fe=we(Qe):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K),fe}function oe(){var fe;return J.substr(Se,4).toLowerCase()===Ht?(fe=J.substr(Se,4),Se+=4):(fe=K,ze===0&&gt(In)),fe===K&&(J.substr(Se,5).toLowerCase()===Bt?(fe=J.substr(Se,5),Se+=5):(fe=K,ze===0&&gt(ts)),fe===K&&(J.substr(Se,2).toLowerCase()===Ut?(fe=J.substr(Se,2),Se+=2):(fe=K,ze===0&&gt(rs)),fe===K&&(J.substr(Se,3).toLowerCase()===Rt?(fe=J.substr(Se,3),Se+=3):(fe=K,ze===0&&gt(ns)),fe===K&&(J.charCodeAt(Se)===48?(fe=Ft,Se++):(fe=K,ze===0&&gt(is)),fe===K&&(J.charCodeAt(Se)===49?(fe=Xt,Se++):(fe=K,ze===0&&gt(ss))))))),fe}function Fe(){var fe;return ze++,fe=Ze(),fe===K&&(fe=je()),ze--,fe===K&&ze===0&&gt(as),fe}function Ze(){var fe,$e,Qe,Ie;return fe=Se,J.charCodeAt(Se)===34?($e=_t,Se++):($e=K,ze===0&&gt(kr)),$e!==K?(Qe=je(),Qe!==K?(J.charCodeAt(Se)===34?(Ie=_t,Se++):(Ie=K,ze===0&&gt(kr)),Ie!==K?fe=jt(Qe):(Se=fe,fe=K)):(Se=fe,fe=K)):(Se=fe,fe=K),fe}function je(){var fe,$e;return fe=Se,$e=me(),$e!==K&&($e=Jr($e)),fe=$e,fe===K&&(fe=Se,J.substr(Se,4).toLowerCase()===Qt?($e=J.substr(Se,4),Se+=4):($e=K,ze===0&&gt(os)),$e!==K&&($e=Rr($e)),fe=$e),fe}function Ot(fe,$e,Qe){return!($.entityExists(fe,$e)||Qe[$e]===!0)}function Wt(fe){return{name:fe}}function na(fe,$e,Qe){return Qe||(Qe={}),($e||[]).forEach(function(Ie){Ie.forEach(function(Dt){Ot(fe,Dt.from,Qe)&&fe.push(Wt(Dt.from)),Dt.arcs&&(Qe[Dt.to]=!0,T(fe,na(fe,Dt.arcs,Qe)),delete Qe[Dt.to]),Ot(fe,Dt.to,Qe)&&fe.push(Wt(Dt.to))})}),fe}if(Mr=le(),Mr!==K&&Se===J.length)return Mr;throw Mr!==K&&Se<J.length&&gt(Gn()),bn(yn,Tr<J.length?J.charAt(Tr):null,Tr<J.length?Vn(Tr,Tr+1):Vn(Tr,Tr))}return{SyntaxError:Y,parse:te}})})(msgennyparser$2);var msgennyparserExports=msgennyparser$2.exports;const msgennyparser=getDefaultExportFromCjs(msgennyparserExports),msgennyparser$1=_mergeNamespaces({__proto__:null,default:msgennyparser},[msgennyparserExports]);var xuparser$2={exports:{}};(function(C){(function(T,$){C.exports&&(C.exports=$(requireAssign(),require$$1))})(commonjsGlobal,function(T,$){function V(J,ie){function K(){this.constructor=J}K.prototype=ie.prototype,J.prototype=new K}function Y(J,ie,K,re){var ne=Error.call(this,J);return Object.setPrototypeOf&&Object.setPrototypeOf(ne,Y.prototype),ne.expected=ie,ne.found=K,ne.location=re,ne.name="SyntaxError",ne}V(Y,Error);function ee(J,ie,K){return K=K||" ",J.length>ie?J:(ie-=J.length,K+=K.repeat(ie),J+K.slice(0,ie))}Y.prototype.format=function(J){var ie="Error: "+this.message;if(this.location){var K=null,re;for(re=0;re<J.length;re++)if(J[re].source===this.location.source){K=J[re].text.split(/\r\n|\n|\r/g);break}var ne=this.location.start,le=this.location.source+":"+ne.line+":"+ne.column;if(K){var ae=this.location.end,se=ee("",ne.line.toString().length," "),ue=K[ne.line-1],de=ne.line===ae.line?ae.column:ue.length+1,ce=de-ne.column||1;ie+=`
 --> `+le+`
`+se+` |
`+ne.line+" | "+ue+`
`+se+" | "+ee("",ne.column-1," ")+ee("",ce,"^")}else ie+=`
 at `+le}return ie},Y.buildMessage=function(J,ie){var K={literal:function(de){return'"'+ne(de.text)+'"'},class:function(de){var ce=de.parts.map(function(be){return Array.isArray(be)?le(be[0])+"-"+le(be[1]):le(be)});return"["+(de.inverted?"^":"")+ce.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(de){return de.description}};function re(de){return de.charCodeAt(0).toString(16).toUpperCase()}function ne(de){return de.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ce){return"\\x0"+re(ce)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ce){return"\\x"+re(ce)})}function le(de){return de.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ce){return"\\x0"+re(ce)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ce){return"\\x"+re(ce)})}function ae(de){return K[de.type](de)}function se(de){var ce=de.map(ae),be,Le;if(ce.sort(),ce.length>0){for(be=1,Le=1;be<ce.length;be++)ce[be-1]!==ce[be]&&(ce[Le]=ce[be],Le++);ce.length=Le}switch(ce.length){case 1:return ce[0];case 2:return ce[0]+" or "+ce[1];default:return ce.slice(0,-1).join(", ")+", or "+ce[ce.length-1]}}function ue(de){return de?'"'+ne(de)+'"':"end of input"}return"Expected "+se(J)+" but "+ue(ie)+" found."};function te(J,ie){ie=ie!==void 0?ie:{};var K={},re=ie.grammarSource,ne={program:Br},le=Br,ae="{",se="}",ue="msc",de="xu",ce=",",be=";",Le="hscale",ve="arcgradient",ye="=",Ae="width",Be="wordwraparcs",qe="wordwrapentities",Ue="wordwrapboxes",Ke="watermark",Je="[",mt="]",ht="*",pt="|||",bt="...",ct="---",We="--",Pe="<->",_e="==",xe="<<=>>",ge="<=>",ke="..",Ee="<<>>",Me="::",Oe="<:>",pe="->",Ce="=>>",Re="=>",De=">>",Ne=":>",He="-x",Ge="<-",it="<<=",ut="<=",tt="<<",lt="<:",ot="x-",dt="note",vt="abox",St="rbox",Tt="box",$t="alt",It="else",qt="opt",Vt="break",ar="par",sr="seq",fr="strict",nr="neg",lr="critical",cr="ignore",dr="consider",Sr="assert",_t="loop",nt="ref",rt="exc",Xe="activate",at="deactivate",ft="label",Ct="idurl",Ht="id",Bt="url",Ut="linecolor",Rt="linecolour",Ft="textcolor",Xt="textcolour",Qt="textbgcolor",Nt="textbgcolour",Yt="arclinecolor",Jt="arclinecolour",_r="arctextcolor",mr="arctextcolour",ur="arctextbgcolor",or="arctextbgcolour",pr="arcskip",ir="title",vr="activation",xr='"',Ar='\\"',Lr="/*",Zt="*/",wt="//",et="#",xt=".",Et="true",Kt="false",hr="on",gr="off",Er="0",Ir="1",Dr="auto",Cr=/^[A-Za-z_0-9]/,zr=/^[ \t]/,Gr=/^[\r\n]/,ci=/^[^\r\n]/,En=/^[0-9]/,Tn=je("{",!1),$n=je("}",!1),ui=je("msc",!0),hi=je("xu",!0),Fr=je(",",!1),Vr=je(";",!1),di=fe("option"),fi=je("hscale",!0),gi=je("arcgradient",!0),Nr=je("=",!1),mi=je("width",!0),yi=je("wordwraparcs",!0),bi=je("wordwrapentities",!0),_i=je("wordwrapboxes",!0),vi=je("watermark",!0),xi=fe("entity"),Xr=je("[",!1),Kr=je("]",!1),dn=je("*",!1),Ci=fe("empty row"),Si=je("|||",!1),Ei=je("...",!1),Ti=fe("---"),$i=je("---",!1),wi=fe("bi-directional arrow"),Ai=je("--",!1),ki=je("<->",!1),Pi=je("==",!1),Ri=je("<<=>>",!1),Li=je("<=>",!1),Ii=je("..",!1),Oi=je("<<>>",!1),Fi=je("::",!1),Mi=je("<:>",!1),Di=fe("left to right arrow"),Ni=je("->",!1),ji=je("=>>",!1),Bi=je("=>",!1),Ui=je(">>",!1),Hi=je(":>",!1),Wi=je("-x",!0),qi=fe("right to left arrow"),kr=je("<-",!1),wn=je("<<=",!1),wr=je("<=",!1),An=je("<<",!1),Yr=je("<:",!1),zi=je("x-",!0),kn=fe("box"),Gi=je("note",!0),Vi=je("abox",!0),Xi=je("rbox",!0),Pn=je("box",!0),Ki=fe("inline expression"),Rn=je("alt",!0),Yi=je("else",!0),Ji=je("opt",!0),Qi=je("break",!0),Ln=je("par",!0),Zi=je("seq",!0),es=je("strict",!0),In=je("neg",!0),ts=je("critical",!0),rs=je("ignore",!0),ns=je("consider",!0),is=je("assert",!0),ss=je("loop",!0),as=je("ref",!0),os=je("exc",!0),ls=fe("activate or deactivate"),cs=je("activate",!0),On=je("deactivate",!0),us=fe("attribute name"),Fn=je("label",!0),hs=je("idurl",!0),ds=je("id",!0),fs=je("url",!0),ps=je("linecolor",!0),Mn=je("linecolour",!0),gs=je("textcolor",!0),Dn=je("textcolour",!0),ms=je("textbgcolor",!0),ys=je("textbgcolour",!0),bs=je("arclinecolor",!0),_s=je("arclinecolour",!0),pn=je("arctextcolor",!0),gn=je("arctextcolour",!0),vs=je("arctextbgcolor",!0),xs=je("arctextbgcolour",!0),Cs=je("arcskip",!0),Ss=je("title",!0),Es=je("activation",!0),Ts=fe("double quoted string"),Pr=je('"',!1),Nn=je('\\"',!1),mn=Wt(),$s=fe("identifier"),jn=Ot([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),ws=fe("whitespace"),As=Ot([" ","	"],!1,!1),ks=fe("lineend"),Bn=Ot(["\r",`
`],!1,!1),Ps=je("/*",!1),Un=je("*/",!1),Rs=je("//",!1),Hn=je("#",!1),Wn=Ot(["\r",`
`],!0,!1),qn=fe("comment"),Ls=fe("number"),zn=Ot([["0","9"]],!1,!1),Is=je(".",!1),Os=fe("boolean"),Fs=je("true",!0),Ms=je("false",!0),Ds=je("on",!0),Ns=je("off",!0),js=je("0",!1),Bs=je("1",!1),Us=fe("size"),Hs=je("auto",!0),Ws=function(he,Te){return Te.entities=Te.entities||[],$.checkForUndeclaredEntities(Te.entities,Te.arcs),Te=T({meta:$.getMetaInfo(Te.options,Te.arcs)},Te),he.length>0&&(Te=T({precomment:he},Te)),Te},we=function(he,Te,Ye){var Ve={};return he&&(Ve.options=he),Te&&(Ve.entities=Te),Ye&&(Ve.arcs=Ye),Ve},jt=function(he){return he},Jr=function(he){return he},Rr=function(he){return he[0].concat(he[1]).reduce(T,{})},Se=function(he,Te){return $.nameValue2Option(he,Te)},st=function(he,Te){return $.nameValue2Option(he,Te)},Tr=function(he,Te){return $.nameValue2Option(he,$.flattenBoolean(Te))},yn=function(he,Te){return $.nameValue2Option(he,$.flattenBoolean(Te))},ze=function(he,Te){return $.nameValue2Option(he,$.flattenBoolean(Te))},Mr=function(he,Te){return $.nameValue2Option(he,Te)},At=function(he){return he},Ur=function(he){return he},yr=function(he){return he[0].concat(he[1])},Gn=function(he,Te){return Te},br=function(he,Te){return T({name:he},Te)},yt=function(he,Te){return Te},Vn=function(he,Te){return $.isMscGenKeyword(he)&&Ze("MscGen keywords aren't allowed as entity names (embed them in quotes if you need them)"),T({name:he},Te)},gt=function(he){return he},bn=function(he){return he},Xn=function(he){return he},qs=function(he){return he[0].concat(he[1])},zs=function(he){return he},Hr=function(he){return he},Gs=function(he){return he},Wr=function(he,Te){return Te},Kn=function(he,Te){return T(he,Te)},_n=function(he){return{kind:he}},qr=function(he){return{kind:he}},Vs=function(he,Te,Ye){return{kind:Te,from:he,to:Ye}},Xs=function(he,Te){return{kind:he,from:"*",to:Te}},Ks=function(he,Te){return{kind:Te,from:he,to:"*"}},Ys=function(he,Te){return{kind:Te,from:he,to:"*"}},Js=function(he,Te,Ye,Ve){return Ve},Qs=function(he,Te,Ye,Ve,kt){return T({kind:Te,from:he,to:Ye,arcs:kt},Ve)},Yn=function(he){return he.toLowerCase()},Jn=function(he){return he.toLowerCase()},Qr=function(he){return he},Qn=function(he){return he},Zr=function(he){return he[0].concat(he[1]).reduce(T,{})},vn=function(he){return{activation:he.toLowerCase()==="activate"}},Zs=function(he,Te){var Ye={};return he.toLowerCase()==="activation"?Ye.activation=$.flattenBoolean(Te):Ye[he.toLowerCase().replace("colour","color")]=Te,Ye},sn=function(he){return he.join("")},ln=function(he){return he},jr=function(he){return he.join("")},Zn=function(he){return he},ei=function(he){return he},Or=function(he){return he},ti=function(he,Te,Ye){return he+Te.join("")+Ye},ri=function(he,Te){return he+Te.join("")},ni=function(he){return he},ea=function(he){return he.toString()},ii=function(he){return he.toString()},si=function(he){return parseInt(he.join(""),10)},ta=function(he){return parseFloat(he.join(""))},xn=function(he){return he},Gt=function(he){return he.toString()},ai=function(he){return he},Mt=function(he){return he},oi=function(he){return he.toString()},Cn=function(he){return he.toLowerCase()},me=0,Pt=0,cn=[{line:1,column:1}],$r=0,Sn=[],oe=0,Fe;if("startRule"in ie){if(!(ie.startRule in ne))throw new Error(`Can't start parsing from rule "`+ie.startRule+'".');le=ne[ie.startRule]}function Ze(he,Te){throw Te=Te!==void 0?Te:Qe(Pt,me),Dt(he,Te)}function je(he,Te){return{type:"literal",text:he,ignoreCase:Te}}function Ot(he,Te,Ye){return{type:"class",parts:he,inverted:Te,ignoreCase:Ye}}function Wt(){return{type:"any"}}function na(){return{type:"end"}}function fe(he){return{type:"other",description:he}}function $e(he){var Te=cn[he],Ye;if(Te)return Te;for(Ye=he-1;!cn[Ye];)Ye--;for(Te=cn[Ye],Te={line:Te.line,column:Te.column};Ye<he;)J.charCodeAt(Ye)===10?(Te.line++,Te.column=1):Te.column++,Ye++;return cn[he]=Te,Te}function Qe(he,Te){var Ye=$e(he),Ve=$e(Te);return{source:re,start:{offset:he,line:Ye.line,column:Ye.column},end:{offset:Te,line:Ve.line,column:Ve.column}}}function Ie(he){me<$r||(me>$r&&($r=me,Sn=[]),Sn.push(he))}function Dt(he,Te){return new Y(he,null,null,Te)}function rr(he,Te,Ye){return new Y(Y.buildMessage(he,Te),he,Te,Ye)}function Br(){var he,Te,Ye,Ve,kt,zt;return he=me,Te=Lt(),Ye=ra(),Ye!==K?(Lt(),J.charCodeAt(me)===123?(Ve=ae,me++):(Ve=K,oe===0&&Ie(Tn)),Ve!==K?(Lt(),kt=ka(),Lt(),J.charCodeAt(me)===125?(zt=se,me++):(zt=K,oe===0&&Ie($n)),zt!==K?(Lt(),Pt=he,he=Ws(Te,kt)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he}function ra(){var he;return J.substr(me,3).toLowerCase()===ue?(he=J.substr(me,3),me+=3):(he=K,oe===0&&Ie(ui)),he===K&&(J.substr(me,2).toLowerCase()===de?(he=J.substr(me,2),me+=2):(he=K,oe===0&&Ie(hi))),he}function ka(){var he,Te,Ye,Ve;return he=me,Te=Pa(),Te===K&&(Te=null),Ye=Ra(),Ye===K&&(Ye=null),Ve=ma(),Ve===K&&(Ve=null),Pt=he,he=we(Te,Ye,Ve),he}function Pa(){var he,Te,Ye,Ve,kt,zt;for(he=me,Te=me,Ye=[],Ve=me,kt=oa(),kt!==K?(J.charCodeAt(me)===44?(zt=ce,me++):(zt=K,oe===0&&Ie(Fr)),zt!==K?(Pt=Ve,Ve=jt(kt)):(me=Ve,Ve=K)):(me=Ve,Ve=K);Ve!==K;)Ye.push(Ve),Ve=me,kt=oa(),kt!==K?(J.charCodeAt(me)===44?(zt=ce,me++):(zt=K,oe===0&&Ie(Fr)),zt!==K?(Pt=Ve,Ve=jt(kt)):(me=Ve,Ve=K)):(me=Ve,Ve=K);return Ve=me,kt=oa(),kt!==K?(J.charCodeAt(me)===59?(zt=be,me++):(zt=K,oe===0&&Ie(Vr)),zt!==K?(Pt=Ve,Ve=Jr(kt)):(me=Ve,Ve=K)):(me=Ve,Ve=K),Ve!==K?(Ye=[Ye,Ve],Te=Ye):(me=Te,Te=K),Te!==K&&(Pt=he,Te=Rr(Te)),he=Te,he}function oa(){var he,Te,Ye,Ve;return oe++,he=me,Lt(),J.substr(me,6).toLowerCase()===Le?(Te=J.substr(me,6),me+=6):(Te=K,oe===0&&Ie(fi)),Te===K&&(J.substr(me,11).toLowerCase()===ve?(Te=J.substr(me,11),me+=11):(Te=K,oe===0&&Ie(gi))),Te!==K?(Lt(),J.charCodeAt(me)===61?(Ye=ye,me++):(Ye=K,oe===0&&Ie(Nr)),Ye!==K?(Lt(),Ve=Ja(),Ve!==K?(Lt(),Pt=he,he=Se(Te,Ve)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he===K&&(he=me,Lt(),J.substr(me,5).toLowerCase()===Ae?(Te=J.substr(me,5),me+=5):(Te=K,oe===0&&Ie(mi)),Te!==K?(Lt(),J.charCodeAt(me)===61?(Ye=ye,me++):(Ye=K,oe===0&&Ie(Nr)),Ye!==K?(Lt(),Ve=to(),Ve!==K?(Lt(),Pt=he,he=st(Te,Ve)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he===K&&(he=me,Lt(),J.substr(me,12).toLowerCase()===Be?(Te=J.substr(me,12),me+=12):(Te=K,oe===0&&Ie(yi)),Te!==K?(Lt(),J.charCodeAt(me)===61?(Ye=ye,me++):(Ye=K,oe===0&&Ie(Nr)),Ye!==K?(Lt(),Ve=pa(),Ve!==K?(Lt(),Pt=he,he=Tr(Te,Ve)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he===K&&(he=me,Lt(),J.substr(me,16).toLowerCase()===qe?(Te=J.substr(me,16),me+=16):(Te=K,oe===0&&Ie(bi)),Te!==K?(Lt(),J.charCodeAt(me)===61?(Ye=ye,me++):(Ye=K,oe===0&&Ie(Nr)),Ye!==K?(Lt(),Ve=pa(),Ve!==K?(Lt(),Pt=he,he=yn(Te,Ve)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he===K&&(he=me,Lt(),J.substr(me,13).toLowerCase()===Ue?(Te=J.substr(me,13),me+=13):(Te=K,oe===0&&Ie(_i)),Te!==K?(Lt(),J.charCodeAt(me)===61?(Ye=ye,me++):(Ye=K,oe===0&&Ie(Nr)),Ye!==K?(Lt(),Ve=pa(),Ve!==K?(Lt(),Pt=he,he=ze(Te,Ve)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he===K&&(he=me,Lt(),J.substr(me,9).toLowerCase()===Ke?(Te=J.substr(me,9),me+=9):(Te=K,oe===0&&Ie(vi)),Te!==K?(Lt(),J.charCodeAt(me)===61?(Ye=ye,me++):(Ye=K,oe===0&&Ie(Nr)),Ye!==K?(Lt(),Ve=ha(),Ve!==K?(Lt(),Pt=he,he=Mr(Te,Ve)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K)))))),oe--,he===K&&oe===0&&Ie(di),he}function Ra(){var he,Te,Ye,Ve,kt,zt;for(he=me,Te=me,Ye=[],Ve=me,kt=la(),kt!==K?(J.charCodeAt(me)===44?(zt=ce,me++):(zt=K,oe===0&&Ie(Fr)),zt!==K?(Pt=Ve,Ve=At(kt)):(me=Ve,Ve=K)):(me=Ve,Ve=K);Ve!==K;)Ye.push(Ve),Ve=me,kt=la(),kt!==K?(J.charCodeAt(me)===44?(zt=ce,me++):(zt=K,oe===0&&Ie(Fr)),zt!==K?(Pt=Ve,Ve=At(kt)):(me=Ve,Ve=K)):(me=Ve,Ve=K);return Ve=me,kt=la(),kt!==K?(J.charCodeAt(me)===59?(zt=be,me++):(zt=K,oe===0&&Ie(Vr)),zt!==K?(Pt=Ve,Ve=Ur(kt)):(me=Ve,Ve=K)):(me=Ve,Ve=K),Ve!==K?(Ye=[Ye,Ve],Te=Ye):(me=Te,Te=K),Te!==K&&(Pt=he,Te=yr(Te)),he=Te,he}function la(){var he,Te,Ye,Ve,kt,zt;return oe++,he=me,Lt(),Te=ha(),Te!==K?(Lt(),Ye=me,J.charCodeAt(me)===91?(Ve=Je,me++):(Ve=K,oe===0&&Ie(Xr)),Ve!==K?(kt=ia(),kt!==K?(J.charCodeAt(me)===93?(zt=mt,me++):(zt=K,oe===0&&Ie(Kr)),zt!==K?(Pt=Ye,Ye=Gn(Te,kt)):(me=Ye,Ye=K)):(me=Ye,Ye=K)):(me=Ye,Ye=K),Ye===K&&(Ye=null),Ve=Lt(),Pt=he,he=br(Te,Ye)):(me=he,he=K),he===K&&(he=me,Lt(),Te=xa(),Te!==K?(Lt(),Ye=me,J.charCodeAt(me)===91?(Ve=Je,me++):(Ve=K,oe===0&&Ie(Xr)),Ve!==K?(kt=ia(),kt!==K?(J.charCodeAt(me)===93?(zt=mt,me++):(zt=K,oe===0&&Ie(Kr)),zt!==K?(Pt=Ye,Ye=yt(Te,kt)):(me=Ye,Ye=K)):(me=Ye,Ye=K)):(me=Ye,Ye=K),Ye===K&&(Ye=null),Ve=Lt(),Pt=he,he=Vn(Te,Ye)):(me=he,he=K)),oe--,he===K&&oe===0&&Ie(xi),he}function ma(){var he,Te,Ye,Ve;if(he=[],Te=me,Ye=ya(),Ye!==K?(Lt(),J.charCodeAt(me)===59?(Ve=be,me++):(Ve=K,oe===0&&Ie(Vr)),Ve!==K?(Pt=Te,Te=gt(Ye)):(me=Te,Te=K)):(me=Te,Te=K),Te!==K)for(;Te!==K;)he.push(Te),Te=me,Ye=ya(),Ye!==K?(Lt(),J.charCodeAt(me)===59?(Ve=be,me++):(Ve=K,oe===0&&Ie(Vr)),Ve!==K?(Pt=Te,Te=gt(Ye)):(me=Te,Te=K)):(me=Te,Te=K);else he=K;return he}function ya(){var he,Te,Ye,Ve,kt,zt;for(he=me,Te=me,Ye=[],Ve=me,kt=ca(),kt!==K?(Lt(),J.charCodeAt(me)===44?(zt=ce,me++):(zt=K,oe===0&&Ie(Fr)),zt!==K?(Pt=Ve,Ve=bn(kt)):(me=Ve,Ve=K)):(me=Ve,Ve=K);Ve!==K;)Ye.push(Ve),Ve=me,kt=ca(),kt!==K?(Lt(),J.charCodeAt(me)===44?(zt=ce,me++):(zt=K,oe===0&&Ie(Fr)),zt!==K?(Pt=Ve,Ve=bn(kt)):(me=Ve,Ve=K)):(me=Ve,Ve=K);return Ve=me,kt=ca(),kt!==K&&(Pt=Ve,kt=Xn(kt)),Ve=kt,Ve!==K?(Ye=[Ye,Ve],Te=Ye):(me=Te,Te=K),Te!==K&&(Pt=he,Te=qs(Te)),he=Te,he}function ca(){var he;return he=La(),he===K&&(he=Ma()),he}function La(){var he,Te,Ye,Ve,kt,zt;return he=me,Te=me,Ye=Ia(),Ye!==K&&(Pt=Te,Ye=zs(Ye)),Te=Ye,Te===K&&(Te=me,Ye=Fa(),Ye!==K&&(Pt=Te,Ye=Hr(Ye)),Te=Ye,Te===K&&(Te=me,Ye=Oa(),Ye!==K&&(Pt=Te,Ye=Gs(Ye)),Te=Ye)),Te!==K?(Ye=me,J.charCodeAt(me)===91?(Ve=Je,me++):(Ve=K,oe===0&&Ie(Xr)),Ve!==K?(kt=ia(),kt!==K?(J.charCodeAt(me)===93?(zt=mt,me++):(zt=K,oe===0&&Ie(Kr)),zt!==K?(Pt=Ye,Ye=Wr(Te,kt)):(me=Ye,Ye=K)):(me=Ye,Ye=K)):(me=Ye,Ye=K),Ye===K&&(Ye=null),Pt=he,he=Kn(Te,Ye)):(me=he,he=K),he}function Ia(){var he,Te;return he=me,Lt(),Te=Da(),Te!==K?(Lt(),Pt=he,he=_n(Te)):(me=he,he=K),he}function Oa(){var he,Te;return he=me,Lt(),Te=Na(),Te!==K?(Lt(),Pt=he,he=qr(Te)):(me=he,he=K),he}function Fa(){var he,Te,Ye,Ve;return he=me,Lt(),Te=hn(),Te!==K?(Lt(),Ye=ja(),Ye!==K?(Lt(),Ve=hn(),Ve!==K?(Lt(),Pt=he,he=Vs(Te,Ye,Ve)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he===K&&(he=me,Lt(),J.charCodeAt(me)===42?(Te=ht,me++):(Te=K,oe===0&&Ie(dn)),Te!==K?(Lt(),Ye=va(),Ye!==K?(Lt(),Ve=hn(),Ve!==K?(Lt(),Pt=he,he=Xs(Ye,Ve)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he===K&&(he=me,Lt(),Te=hn(),Te!==K?(Lt(),Ye=_a(),Ye!==K?(Lt(),J.charCodeAt(me)===42?(Ve=ht,me++):(Ve=K,oe===0&&Ie(dn)),Ve!==K?(Lt(),Pt=he,he=Ks(Te,Ye)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he===K&&(he=me,Lt(),Te=hn(),Te!==K?(Lt(),Ye=ba(),Ye!==K?(Lt(),J.charCodeAt(me)===42?(Ve=ht,me++):(Ve=K,oe===0&&Ie(dn)),Ve!==K?(Lt(),Pt=he,he=Ys(Te,Ye)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K)))),he}function Ma(){var he,Te,Ye,Ve,kt,zt,li,sa,aa,ga;return he=me,Lt(),Te=hn(),Te!==K?(Lt(),Ye=Ua(),Ye!==K?(Lt(),Ve=hn(),Ve!==K?(Lt(),kt=me,J.charCodeAt(me)===91?(zt=Je,me++):(zt=K,oe===0&&Ie(Xr)),zt!==K?(li=ia(),li!==K?(J.charCodeAt(me)===93?(sa=mt,me++):(sa=K,oe===0&&Ie(Kr)),sa!==K?(Pt=kt,kt=Js(Te,Ye,Ve,li)):(me=kt,kt=K)):(me=kt,kt=K)):(me=kt,kt=K),kt===K&&(kt=null),zt=Lt(),J.charCodeAt(me)===123?(li=ae,me++):(li=K,oe===0&&Ie(Tn)),li!==K?(sa=Lt(),aa=ma(),aa===K&&(aa=null),Lt(),J.charCodeAt(me)===125?(ga=se,me++):(ga=K,oe===0&&Ie($n)),ga!==K?(Lt(),Pt=he,he=Qs(Te,Ye,Ve,kt,aa)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he}function Da(){var he;return oe++,J.substr(me,3)===pt?(he=pt,me+=3):(he=K,oe===0&&Ie(Si)),he===K&&(J.substr(me,3)===bt?(he=bt,me+=3):(he=K,oe===0&&Ie(Ei))),oe--,he===K&&oe===0&&Ie(Ci),he}function Na(){var he;return oe++,J.substr(me,3)===ct?(he=ct,me+=3):(he=K,oe===0&&Ie($i)),oe--,he===K&&oe===0&&Ie(Ti),he}function ja(){var he,Te;return he=me,Te=ba(),Te===K&&(Te=_a(),Te===K&&(Te=va(),Te===K&&(Te=Ba()))),Te!==K&&(Pt=he,Te=Yn(Te)),he=Te,he}function ba(){var he;return oe++,J.substr(me,2)===We?(he=We,me+=2):(he=K,oe===0&&Ie(Ai)),he===K&&(J.substr(me,3)===Pe?(he=Pe,me+=3):(he=K,oe===0&&Ie(ki)),he===K&&(J.substr(me,2)===_e?(he=_e,me+=2):(he=K,oe===0&&Ie(Pi)),he===K&&(J.substr(me,5)===xe?(he=xe,me+=5):(he=K,oe===0&&Ie(Ri)),he===K&&(J.substr(me,3)===ge?(he=ge,me+=3):(he=K,oe===0&&Ie(Li)),he===K&&(J.substr(me,2)===ke?(he=ke,me+=2):(he=K,oe===0&&Ie(Ii)),he===K&&(J.substr(me,4)===Ee?(he=Ee,me+=4):(he=K,oe===0&&Ie(Oi)),he===K&&(J.substr(me,2)===Me?(he=Me,me+=2):(he=K,oe===0&&Ie(Fi)),he===K&&(J.substr(me,3)===Oe?(he=Oe,me+=3):(he=K,oe===0&&Ie(Mi)))))))))),oe--,he===K&&oe===0&&Ie(wi),he}function _a(){var he;return oe++,J.substr(me,2)===pe?(he=pe,me+=2):(he=K,oe===0&&Ie(Ni)),he===K&&(J.substr(me,3)===Ce?(he=Ce,me+=3):(he=K,oe===0&&Ie(ji)),he===K&&(J.substr(me,2)===Re?(he=Re,me+=2):(he=K,oe===0&&Ie(Bi)),he===K&&(J.substr(me,2)===De?(he=De,me+=2):(he=K,oe===0&&Ie(Ui)),he===K&&(J.substr(me,2)===Ne?(he=Ne,me+=2):(he=K,oe===0&&Ie(Hi)),he===K&&(J.substr(me,2).toLowerCase()===He?(he=J.substr(me,2),me+=2):(he=K,oe===0&&Ie(Wi))))))),oe--,he===K&&oe===0&&Ie(Di),he}function va(){var he;return oe++,J.substr(me,2)===Ge?(he=Ge,me+=2):(he=K,oe===0&&Ie(kr)),he===K&&(J.substr(me,3)===it?(he=it,me+=3):(he=K,oe===0&&Ie(wn)),he===K&&(J.substr(me,2)===ut?(he=ut,me+=2):(he=K,oe===0&&Ie(wr)),he===K&&(J.substr(me,2)===tt?(he=tt,me+=2):(he=K,oe===0&&Ie(An)),he===K&&(J.substr(me,2)===lt?(he=lt,me+=2):(he=K,oe===0&&Ie(Yr)),he===K&&(J.substr(me,2).toLowerCase()===ot?(he=J.substr(me,2),me+=2):(he=K,oe===0&&Ie(zi))))))),oe--,he===K&&oe===0&&Ie(qi),he}function Ba(){var he;return oe++,J.substr(me,4).toLowerCase()===dt?(he=J.substr(me,4),me+=4):(he=K,oe===0&&Ie(Gi)),he===K&&(J.substr(me,4).toLowerCase()===vt?(he=J.substr(me,4),me+=4):(he=K,oe===0&&Ie(Vi)),he===K&&(J.substr(me,4).toLowerCase()===St?(he=J.substr(me,4),me+=4):(he=K,oe===0&&Ie(Xi)),he===K&&(J.substr(me,3).toLowerCase()===Tt?(he=J.substr(me,3),me+=3):(he=K,oe===0&&Ie(Pn))))),oe--,he===K&&oe===0&&Ie(kn),he}function Ua(){var he,Te;return oe++,he=me,J.substr(me,3).toLowerCase()===$t?(Te=J.substr(me,3),me+=3):(Te=K,oe===0&&Ie(Rn)),Te===K&&(J.substr(me,4).toLowerCase()===It?(Te=J.substr(me,4),me+=4):(Te=K,oe===0&&Ie(Yi)),Te===K&&(J.substr(me,3).toLowerCase()===qt?(Te=J.substr(me,3),me+=3):(Te=K,oe===0&&Ie(Ji)),Te===K&&(J.substr(me,5).toLowerCase()===Vt?(Te=J.substr(me,5),me+=5):(Te=K,oe===0&&Ie(Qi)),Te===K&&(J.substr(me,3).toLowerCase()===ar?(Te=J.substr(me,3),me+=3):(Te=K,oe===0&&Ie(Ln)),Te===K&&(J.substr(me,3).toLowerCase()===sr?(Te=J.substr(me,3),me+=3):(Te=K,oe===0&&Ie(Zi)),Te===K&&(J.substr(me,6).toLowerCase()===fr?(Te=J.substr(me,6),me+=6):(Te=K,oe===0&&Ie(es)),Te===K&&(J.substr(me,3).toLowerCase()===nr?(Te=J.substr(me,3),me+=3):(Te=K,oe===0&&Ie(In)),Te===K&&(J.substr(me,8).toLowerCase()===lr?(Te=J.substr(me,8),me+=8):(Te=K,oe===0&&Ie(ts)),Te===K&&(J.substr(me,6).toLowerCase()===cr?(Te=J.substr(me,6),me+=6):(Te=K,oe===0&&Ie(rs)),Te===K&&(J.substr(me,8).toLowerCase()===dr?(Te=J.substr(me,8),me+=8):(Te=K,oe===0&&Ie(ns)),Te===K&&(J.substr(me,6).toLowerCase()===Sr?(Te=J.substr(me,6),me+=6):(Te=K,oe===0&&Ie(is)),Te===K&&(J.substr(me,4).toLowerCase()===_t?(Te=J.substr(me,4),me+=4):(Te=K,oe===0&&Ie(ss)),Te===K&&(J.substr(me,3).toLowerCase()===nt?(Te=J.substr(me,3),me+=3):(Te=K,oe===0&&Ie(as)),Te===K&&(J.substr(me,3).toLowerCase()===rt?(Te=J.substr(me,3),me+=3):(Te=K,oe===0&&Ie(os)))))))))))))))),Te!==K&&(Pt=he,Te=Jn(Te)),he=Te,oe--,he===K&&(Te=K,oe===0&&Ie(Ki)),he}function ia(){var he,Te,Ye,Ve,kt,zt;for(he=me,Te=me,Ye=[],Ve=me,kt=ua(),kt!==K?(J.charCodeAt(me)===44?(zt=ce,me++):(zt=K,oe===0&&Ie(Fr)),zt!==K?(Pt=Ve,Ve=Qr(kt)):(me=Ve,Ve=K)):(me=Ve,Ve=K);Ve!==K;)Ye.push(Ve),Ve=me,kt=ua(),kt!==K?(J.charCodeAt(me)===44?(zt=ce,me++):(zt=K,oe===0&&Ie(Fr)),zt!==K?(Pt=Ve,Ve=Qr(kt)):(me=Ve,Ve=K)):(me=Ve,Ve=K);return Ve=me,kt=ua(),kt!==K&&(Pt=Ve,kt=Qn(kt)),Ve=kt,Ve!==K?(Ye=[Ye,Ve],Te=Ye):(me=Te,Te=K),Te!==K&&(Pt=he,Te=Zr(Te)),he=Te,he}function ua(){var he;return he=Wa(),he===K&&(he=Ha()),he}function Ha(){var he,Te;return oe++,he=me,Lt(),J.substr(me,8).toLowerCase()===Xe?(Te=J.substr(me,8),me+=8):(Te=K,oe===0&&Ie(cs)),Te===K&&(J.substr(me,10).toLowerCase()===at?(Te=J.substr(me,10),me+=10):(Te=K,oe===0&&Ie(On))),Te!==K?(Lt(),Pt=he,he=vn(Te)):(me=he,he=K),oe--,he===K&&oe===0&&Ie(ls),he}function Wa(){var he,Te,Ye,Ve;return he=me,Lt(),Te=qa(),Te!==K?(Lt(),J.charCodeAt(me)===61?(Ye=ye,me++):(Ye=K,oe===0&&Ie(Nr)),Ye!==K?(Lt(),Ve=hn(),Ve!==K?(Lt(),Pt=he,he=Zs(Te,Ve)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he}function qa(){var he;return oe++,J.substr(me,5).toLowerCase()===ft?(he=J.substr(me,5),me+=5):(he=K,oe===0&&Ie(Fn)),he===K&&(J.substr(me,5).toLowerCase()===Ct?(he=J.substr(me,5),me+=5):(he=K,oe===0&&Ie(hs)),he===K&&(J.substr(me,2).toLowerCase()===Ht?(he=J.substr(me,2),me+=2):(he=K,oe===0&&Ie(ds)),he===K&&(J.substr(me,3).toLowerCase()===Bt?(he=J.substr(me,3),me+=3):(he=K,oe===0&&Ie(fs)),he===K&&(J.substr(me,9).toLowerCase()===Ut?(he=J.substr(me,9),me+=9):(he=K,oe===0&&Ie(ps)),he===K&&(J.substr(me,10).toLowerCase()===Rt?(he=J.substr(me,10),me+=10):(he=K,oe===0&&Ie(Mn)),he===K&&(J.substr(me,9).toLowerCase()===Ft?(he=J.substr(me,9),me+=9):(he=K,oe===0&&Ie(gs)),he===K&&(J.substr(me,10).toLowerCase()===Xt?(he=J.substr(me,10),me+=10):(he=K,oe===0&&Ie(Dn)),he===K&&(J.substr(me,11).toLowerCase()===Qt?(he=J.substr(me,11),me+=11):(he=K,oe===0&&Ie(ms)),he===K&&(J.substr(me,12).toLowerCase()===Nt?(he=J.substr(me,12),me+=12):(he=K,oe===0&&Ie(ys)),he===K&&(J.substr(me,12).toLowerCase()===Yt?(he=J.substr(me,12),me+=12):(he=K,oe===0&&Ie(bs)),he===K&&(J.substr(me,13).toLowerCase()===Jt?(he=J.substr(me,13),me+=13):(he=K,oe===0&&Ie(_s)),he===K&&(J.substr(me,12).toLowerCase()===_r?(he=J.substr(me,12),me+=12):(he=K,oe===0&&Ie(pn)),he===K&&(J.substr(me,13).toLowerCase()===mr?(he=J.substr(me,13),me+=13):(he=K,oe===0&&Ie(gn)),he===K&&(J.substr(me,14).toLowerCase()===ur?(he=J.substr(me,14),me+=14):(he=K,oe===0&&Ie(vs)),he===K&&(J.substr(me,15).toLowerCase()===or?(he=J.substr(me,15),me+=15):(he=K,oe===0&&Ie(xs)),he===K&&(J.substr(me,7).toLowerCase()===pr?(he=J.substr(me,7),me+=7):(he=K,oe===0&&Ie(Cs)),he===K&&(J.substr(me,5).toLowerCase()===ir?(he=J.substr(me,5),me+=5):(he=K,oe===0&&Ie(Ss)),he===K&&(J.substr(me,10).toLowerCase()===vr?(he=J.substr(me,10),me+=10):(he=K,oe===0&&Ie(Es)))))))))))))))))))),oe--,he===K&&oe===0&&Ie(us),he}function ha(){var he,Te,Ye,Ve;return oe++,he=me,J.charCodeAt(me)===34?(Te=xr,me++):(Te=K,oe===0&&Ie(Pr)),Te!==K?(Ye=za(),J.charCodeAt(me)===34?(Ve=xr,me++):(Ve=K,oe===0&&Ie(Pr)),Ve!==K?(Pt=he,he=sn(Ye)):(me=he,he=K)):(me=he,he=K),oe--,he===K&&(Te=K,oe===0&&Ie(Ts)),he}function za(){var he,Te,Ye,Ve;for(he=[],Te=me,Ye=me,oe++,J.charCodeAt(me)===34?(Ve=xr,me++):(Ve=K,oe===0&&Ie(Pr)),oe--,Ve===K?Ye=void 0:(me=Ye,Ye=K),Ye!==K?(J.substr(me,2)===Ar?(Ve=Ar,me+=2):(Ve=K,oe===0&&Ie(Nn)),Ve===K&&(J.length>me?(Ve=J.charAt(me),me++):(Ve=K,oe===0&&Ie(mn))),Ve!==K?(Pt=Te,Te=ln(Ve)):(me=Te,Te=K)):(me=Te,Te=K);Te!==K;)he.push(Te),Te=me,Ye=me,oe++,J.charCodeAt(me)===34?(Ve=xr,me++):(Ve=K,oe===0&&Ie(Pr)),oe--,Ve===K?Ye=void 0:(me=Ye,Ye=K),Ye!==K?(J.substr(me,2)===Ar?(Ve=Ar,me+=2):(Ve=K,oe===0&&Ie(Nn)),Ve===K&&(J.length>me?(Ve=J.charAt(me),me++):(Ve=K,oe===0&&Ie(mn))),Ve!==K?(Pt=Te,Te=ln(Ve)):(me=Te,Te=K)):(me=Te,Te=K);return he}function hn(){var he;return oe++,he=xa(),he===K&&(he=ha()),oe--,he===K&&oe===0&&Ie($s),he}function xa(){var he,Te,Ye;if(he=me,Te=[],Cr.test(J.charAt(me))?(Ye=J.charAt(me),me++):(Ye=K,oe===0&&Ie(jn)),Ye!==K)for(;Ye!==K;)Te.push(Ye),Cr.test(J.charAt(me))?(Ye=J.charAt(me),me++):(Ye=K,oe===0&&Ie(jn));else Te=K;return Te!==K&&(Pt=he,Te=jr(Te)),he=Te,he}function Ca(){var he,Te;return oe++,he=me,zr.test(J.charAt(me))?(Te=J.charAt(me),me++):(Te=K,oe===0&&Ie(As)),Te!==K&&(Pt=he,Te=Zn(Te)),he=Te,oe--,he===K&&(Te=K,oe===0&&Ie(ws)),he}function Sa(){var he,Te;return oe++,he=me,Gr.test(J.charAt(me))?(Te=J.charAt(me),me++):(Te=K,oe===0&&Ie(Bn)),Te!==K&&(Pt=he,Te=ei(Te)),he=Te,oe--,he===K&&(Te=K,oe===0&&Ie(ks)),he}function Ga(){var he;return J.substr(me,2)===Lr?(he=Lr,me+=2):(he=K,oe===0&&Ie(Ps)),he}function Va(){var he;return J.substr(me,2)===Zt?(he=Zt,me+=2):(he=K,oe===0&&Ie(Un)),he}function Ea(){var he,Te,Ye;return he=me,Te=me,oe++,J.substr(me,2)===Zt?(Ye=Zt,me+=2):(Ye=K,oe===0&&Ie(Un)),oe--,Ye===K?Te=void 0:(me=Te,Te=K),Te!==K?(J.length>me?(Ye=J.charAt(me),me++):(Ye=K,oe===0&&Ie(mn)),Ye!==K?(Pt=he,he=Or(Ye)):(me=he,he=K)):(me=he,he=K),he}function Xa(){var he,Te,Ye,Ve;if(he=me,Te=Ga(),Te!==K){for(Ye=[],Ve=Ea();Ve!==K;)Ye.push(Ve),Ve=Ea();Ve=Va(),Ve!==K?(Pt=he,he=ti(Te,Ye,Ve)):(me=he,he=K)}else me=he,he=K;return he}function Ka(){var he;return J.substr(me,2)===wt?(he=wt,me+=2):(he=K,oe===0&&Ie(Rs)),he===K&&(J.charCodeAt(me)===35?(he=et,me++):(he=K,oe===0&&Ie(Hn))),he}function Ta(){var he;return ci.test(J.charAt(me))?(he=J.charAt(me),me++):(he=K,oe===0&&Ie(Wn)),he}function Ya(){var he,Te,Ye,Ve;if(he=me,Te=Ka(),Te!==K){for(Ye=[],Ve=Ta();Ve!==K;)Ye.push(Ve),Ve=Ta();Pt=he,he=ri(Te,Ye)}else me=he,he=K;return he}function $a(){var he;return oe++,he=Ya(),he===K&&(he=Xa()),oe--,he===K&&oe===0&&Ie(qn),he}function Lt(){var he,Te;for(he=[],Te=Ca(),Te===K&&(Te=Sa(),Te===K&&(Te=$a()));Te!==K;)he.push(Te),Te=Ca(),Te===K&&(Te=Sa(),Te===K&&(Te=$a()));return he}function Ja(){var he,Te;return oe++,he=me,Te=Qa(),Te!==K&&(Pt=he,Te=ni(Te)),he=Te,he===K&&(he=me,Te=da(),Te!==K&&(Pt=he,Te=ea(Te)),he=Te),oe--,he===K&&(Te=K,oe===0&&Ie(Ls)),he}function Qa(){var he,Te,Ye,Ve;return he=me,J.charCodeAt(me)===34?(Te=xr,me++):(Te=K,oe===0&&Ie(Pr)),Te!==K?(Ye=da(),Ye!==K?(J.charCodeAt(me)===34?(Ve=xr,me++):(Ve=K,oe===0&&Ie(Pr)),Ve!==K?(Pt=he,he=ii(Ye)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he}function da(){var he;return he=Za(),he===K&&(he=fa()),he}function fa(){var he,Te,Ye;if(he=me,Te=[],En.test(J.charAt(me))?(Ye=J.charAt(me),me++):(Ye=K,oe===0&&Ie(zn)),Ye!==K)for(;Ye!==K;)Te.push(Ye),En.test(J.charAt(me))?(Ye=J.charAt(me),me++):(Ye=K,oe===0&&Ie(zn));else Te=K;return Te!==K&&(Pt=he,Te=si(Te)),he=Te,he}function Za(){var he,Te,Ye,Ve,kt;return he=me,Te=me,Ye=fa(),Ye!==K?(J.charCodeAt(me)===46?(Ve=xt,me++):(Ve=K,oe===0&&Ie(Is)),Ve!==K?(kt=fa(),kt!==K?(Ye=[Ye,Ve,kt],Te=Ye):(me=Te,Te=K)):(me=Te,Te=K)):(me=Te,Te=K),Te!==K&&(Pt=he,Te=ta(Te)),he=Te,he}function pa(){var he,Te;return oe++,he=me,Te=eo(),Te!==K&&(Pt=he,Te=xn(Te)),he=Te,he===K&&(he=me,Te=wa(),Te!==K&&(Pt=he,Te=Gt(Te)),he=Te),oe--,he===K&&(Te=K,oe===0&&Ie(Os)),he}function eo(){var he,Te,Ye,Ve;return he=me,J.charCodeAt(me)===34?(Te=xr,me++):(Te=K,oe===0&&Ie(Pr)),Te!==K?(Ye=wa(),Ye!==K?(J.charCodeAt(me)===34?(Ve=xr,me++):(Ve=K,oe===0&&Ie(Pr)),Ve!==K?(Pt=he,he=ai(Ye)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he}function wa(){var he;return J.substr(me,4).toLowerCase()===Et?(he=J.substr(me,4),me+=4):(he=K,oe===0&&Ie(Fs)),he===K&&(J.substr(me,5).toLowerCase()===Kt?(he=J.substr(me,5),me+=5):(he=K,oe===0&&Ie(Ms)),he===K&&(J.substr(me,2).toLowerCase()===hr?(he=J.substr(me,2),me+=2):(he=K,oe===0&&Ie(Ds)),he===K&&(J.substr(me,3).toLowerCase()===gr?(he=J.substr(me,3),me+=3):(he=K,oe===0&&Ie(Ns)),he===K&&(J.charCodeAt(me)===48?(he=Er,me++):(he=K,oe===0&&Ie(js)),he===K&&(J.charCodeAt(me)===49?(he=Ir,me++):(he=K,oe===0&&Ie(Bs))))))),he}function to(){var he;return oe++,he=ro(),he===K&&(he=Aa()),oe--,he===K&&oe===0&&Ie(Us),he}function ro(){var he,Te,Ye,Ve;return he=me,J.charCodeAt(me)===34?(Te=xr,me++):(Te=K,oe===0&&Ie(Pr)),Te!==K?(Ye=Aa(),Ye!==K?(J.charCodeAt(me)===34?(Ve=xr,me++):(Ve=K,oe===0&&Ie(Pr)),Ve!==K?(Pt=he,he=Mt(Ye)):(me=he,he=K)):(me=he,he=K)):(me=he,he=K),he}function Aa(){var he,Te;return he=me,Te=da(),Te!==K&&(Pt=he,Te=oi(Te)),he=Te,he===K&&(he=me,J.substr(me,4).toLowerCase()===Dr?(Te=J.substr(me,4),me+=4):(Te=K,oe===0&&Ie(Hs)),Te!==K&&(Pt=he,Te=Cn(Te)),he=Te),he}if(Fe=le(),Fe!==K&&me===J.length)return Fe;throw Fe!==K&&me<J.length&&Ie(na()),rr(Sn,$r<J.length?J.charAt($r):null,$r<J.length?Qe($r,$r+1):Qe($r,$r))}return{SyntaxError:Y,parse:te}})})(xuparser$2);var xuparserExports=xuparser$2.exports;const xuparser=getDefaultExportFromCjs(xuparserExports),xuparser$1=_mergeNamespaces({__proto__:null,default:xuparser},[xuparserExports]);function arrayEach$1(C,T){for(var $=-1,V=C==null?0:C.length;++$<V&&T(C[$],$,C)!==!1;);return C}var _arrayEach=arrayEach$1,copyObject$3=require_copyObject(),keys$1=requireKeys();function baseAssign$1(C,T){return C&&copyObject$3(T,keys$1(T),C)}var _baseAssign=baseAssign$1;function nativeKeysIn$1(C){var T=[];if(C!=null)for(var $ in Object(C))T.push($);return T}var _nativeKeysIn=nativeKeysIn$1,isObject$2=isObject_1$1,isPrototype$1=require_isPrototype(),nativeKeysIn=_nativeKeysIn,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseKeysIn$1(C){if(!isObject$2(C))return nativeKeysIn(C);var T=isPrototype$1(C),$=[];for(var V in C)V=="constructor"&&(T||!hasOwnProperty$1.call(C,V))||$.push(V);return $}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=require_arrayLikeKeys(),baseKeysIn=_baseKeysIn,isArrayLike=requireIsArrayLike();function keysIn$3(C){return isArrayLike(C)?arrayLikeKeys(C,!0):baseKeysIn(C)}var keysIn_1=keysIn$3,copyObject$2=require_copyObject(),keysIn$2=keysIn_1;function baseAssignIn$1(C,T){return C&&copyObject$2(T,keysIn$2(T),C)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}};_cloneBuffer.exports;(function(C,T){var $=_root,V=T&&!T.nodeType&&T,Y=V&&!0&&C&&!C.nodeType&&C,ee=Y&&Y.exports===V,te=ee?$.Buffer:void 0,J=te?te.allocUnsafe:void 0;function ie(K,re){if(re)return K.slice();var ne=K.length,le=J?J(ne):new K.constructor(ne);return K.copy(le),le}C.exports=ie})(_cloneBuffer,_cloneBuffer.exports);var _cloneBufferExports=_cloneBuffer.exports;function copyArray$1(C,T){var $=-1,V=C.length;for(T||(T=Array(V));++$<V;)T[$]=C[$];return T}var _copyArray=copyArray$1,copyObject$1=require_copyObject(),getSymbols$1=_getSymbols;function copySymbols$1(C,T){return copyObject$1(C,getSymbols$1(C),T)}var _copySymbols=copySymbols$1,arrayPush$1=_arrayPush,getPrototype$1=_getPrototype,getSymbols=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(C){for(var T=[];C;)arrayPush$1(T,getSymbols(C)),C=getPrototype$1(C);return T}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject=require_copyObject(),getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(C,T){return copyObject(C,getSymbolsIn$1(C),T)}var _copySymbolsIn=copySymbolsIn$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$1=keysIn_1;function getAllKeysIn$1(C){return baseGetAllKeys(C,keysIn$1,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function initCloneArray$1(C){var T=C.length,$=new C.constructor(T);return T&&typeof C[0]=="string"&&hasOwnProperty.call(C,"index")&&($.index=C.index,$.input=C.input),$}var _initCloneArray=initCloneArray$1,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$3(C){var T=new C.constructor(C.byteLength);return new Uint8Array$1(T).set(new Uint8Array$1(C)),T}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(C,T){var $=T?cloneArrayBuffer$2(C.buffer):C.buffer;return new C.constructor($,C.byteOffset,C.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(C){var T=new C.constructor(C.source,reFlags.exec(C));return T.lastIndex=C.lastIndex,T}var _cloneRegExp=cloneRegExp$1,Symbol$2=_Symbol,symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol$1(C){return symbolValueOf?Object(symbolValueOf.call(C)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$1(C,T){var $=T?cloneArrayBuffer$1(C.buffer):C.buffer;return new C.constructor($,C.byteOffset,C.length)}var _cloneTypedArray=cloneTypedArray$1,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray=_cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(C,T,$){var V=C.constructor;switch(T){case arrayBufferTag$1:return cloneArrayBuffer(C);case boolTag$1:case dateTag$1:return new V(+C);case dataViewTag$1:return cloneDataView(C,$);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(C,$);case mapTag$2:return new V;case numberTag$1:case stringTag$1:return new V(C);case regexpTag$1:return cloneRegExp(C);case setTag$2:return new V;case symbolTag$1:return cloneSymbol(C)}}var _initCloneByTag=initCloneByTag$1,isObject$1=isObject_1$1,objectCreate=Object.create,baseCreate$1=function(){function C(){}return function(T){if(!isObject$1(T))return{};if(objectCreate)return objectCreate(T);C.prototype=T;var $=new C;return C.prototype=void 0,$}}(),_baseCreate=baseCreate$1,baseCreate=_baseCreate,getPrototype=_getPrototype,isPrototype=require_isPrototype();function initCloneObject$1(C){return typeof C.constructor=="function"&&!isPrototype(C)?baseCreate(getPrototype(C)):{}}var _initCloneObject=initCloneObject$1,getTag$2=_getTag,isObjectLike$1=isObjectLike_1,mapTag$1="[object Map]";function baseIsMap$1(C){return isObjectLike$1(C)&&getTag$2(C)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike=isObjectLike_1,setTag$1="[object Set]";function baseIsSet$1(C){return isObjectLike(C)&&getTag$1(C)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack=_Stack,arrayEach=_arrayEach,assignValue=require_assignValue(),baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer=_cloneBufferExports,copyArray=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject=_initCloneObject,isArray$2=isArray_1,isBuffer=isBufferExports,isMap=isMap_1,isObject=isObject_1$1,isSet=isSet_1,keys=requireKeys(),keysIn=keysIn_1,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone$1(C,T,$,V,Y,ee){var te,J=T&CLONE_DEEP_FLAG$1,ie=T&CLONE_FLAT_FLAG,K=T&CLONE_SYMBOLS_FLAG$1;if($&&(te=Y?$(C,V,Y,ee):$(C)),te!==void 0)return te;if(!isObject(C))return C;var re=isArray$2(C);if(re){if(te=initCloneArray(C),!J)return copyArray(C,te)}else{var ne=getTag(C),le=ne==funcTag||ne==genTag;if(isBuffer(C))return cloneBuffer(C,J);if(ne==objectTag||ne==argsTag||le&&!Y){if(te=ie||le?{}:initCloneObject(C),!J)return ie?copySymbolsIn(C,baseAssignIn(te,C)):copySymbols(C,baseAssign(te,C))}else{if(!cloneableTags[ne])return Y?C:{};te=initCloneByTag(C,ne,J)}}ee||(ee=new Stack);var ae=ee.get(C);if(ae)return ae;ee.set(C,te),isSet(C)?C.forEach(function(de){te.add(baseClone$1(de,T,$,de,C,ee))}):isMap(C)&&C.forEach(function(de,ce){te.set(ce,baseClone$1(de,T,$,ce,C,ee))});var se=K?ie?getAllKeysIn:getAllKeys:ie?keysIn:keys,ue=re?void 0:se(C);return arrayEach(ue||C,function(de,ce){ue&&(ce=de,de=C[ce]),assignValue(te,ce,baseClone$1(de,T,$,ce,C,ee))}),te}var _baseClone=baseClone$1,baseClone=_baseClone,CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(C){return baseClone(C,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var cloneDeep_1=cloneDeep;const cloneDeep$1=getDefaultExportFromCjs(cloneDeep_1),KIND2AGGREGATE=Object.freeze({"|||":"empty","...":"empty","---":"empty","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression",else:"inline_expression",opt:"inline_expression",break:"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"}),aggregatekind=C=>KIND2AGGREGATE[C];function transformEntities(C,T){C.forEach($=>{T.forEach(V=>{V($)})})}function transformArc(C,T,$,V){V.forEach(Y=>{Y($,C,T)})}function transformArcRow(C,T,$){T.forEach(V=>{transformArc(C,T,V,$),V.arcs&&transformArcRows(C,V.arcs,$)})}function transformArcRows(C,T,$){T.forEach(V=>{transformArcRow(C,V,$)})}const asttransform=(C,T,$)=>(transformEntities(C.entities,T),C.arcs&&transformArcRows(C.entities,C.arcs,$),C);function unescapeString(C){return C.replace(/\\"/g,'"')}const KIND2NORMALIZEDKIND=Object.freeze({"<-":"->","<=":"=>","<<=":"=>>","<<":">>","<:":":>","x-":"-x"}),normalizekind=C=>KIND2NORMALIZEDKIND[C]||C,normalizeoptions=C=>Object.assign({wordwraparcs:!1,wordwrapentities:!0,wordwrapboxes:!0},C||{});let gMaxDepth=0;function nameAsLabel(C){typeof C.label>"u"&&(C.label=C.name)}function unescapeLabels(C){C.label&&(C.label=unescapeString(C.label)),C.id&&(C.id=unescapeString(C.id))}function emptyStringForNoLabel(C){C.label=C.label?C.label:""}function swapRTLArc(C){if(normalizekind(C.kind)!==C.kind){C.kind=normalizekind(C.kind);const T=C.from;C.from=C.to,C.to=T}}function overrideColorsFromThing(C,T){!C.linecolor&&T.arclinecolor&&(C.linecolor=T.arclinecolor),!C.textcolor&&T.arctextcolor&&(C.textcolor=T.arctextcolor),!C.textbgcolor&&T.arctextbgcolor&&(C.textbgcolor=T.arctextbgcolor)}function overrideColors(C,T=[]){if(C&&C.from){const $=T.find(V=>V.name===C.from);$&&overrideColorsFromThing(C,$)}}function calcNumberOfRows(C){return C.arcs.reduce((T,$)=>T+($[0].arcs?calcNumberOfRows($[0])+1:0),C.arcs.length)}function unwindArcRow(C,T,$,V){const Y=[],ee=[];let te=[];return C.forEach(J=>{if(J.isVirtual=!1,aggregatekind(J.kind)==="inline_expression"){if(J.depth=T,J.isVirtual=!0,J.arcs){const ie=cloneDeep$1(J);ie.numberofrows=calcNumberOfRows(ie),delete ie.arcs,ee.push(ie),J.arcs.forEach(K=>{te=te.concat(unwindArcRow(K,T+1,ie.from,ie.to)),K.forEach(re=>{overrideColorsFromThing(re,ie)})}),T>gMaxDepth&&(gMaxDepth=T)}else ee.push(J);te.push([{kind:"|||",from:J.from,to:J.to,isVirtual:!0}])}else $&&V&&aggregatekind(J.kind)==="empty"&&(J.from=$,J.to=V,J.depth=T),ee.push(J)}),Y.push(ee),Y.concat(te)}function unwind(C){return C?C.reduce((T,$)=>T.concat(unwindArcRow($,0)),[]):[]}function normalize(C){return gMaxDepth=0,{options:normalizeoptions(C.options),entities:cloneDeep$1(C.entities),arcs:unwind(C.arcs),depth:gMaxDepth+1}}function flatten$2(C){return normalize(asttransform(C,[nameAsLabel,unescapeLabels],[swapRTLArc,overrideColors,unescapeLabels,emptyStringForNoLabel]))}const constants={LINE_WIDTH:2,FONT_SIZE:12},wrap=(C,T)=>{let $=0;const V=[];let Y=0,ee=0,te=0,J=0;const ie=C.replace(/[\t\n]+/g," ").replace(/\\n/g,`
`);for(;J<=ie.length;)J>=ie.length?V.push(ie.substring(Y,J)):ie[J]===`
`?($=0,te=J,V.push(ie.substring(Y,te)),Y=te+1):$++>=T&&(te=ie.substring(0,J).lastIndexOf(" "),te===-1||te<Y?($=1,te=J,ee=J):($=0,ee=te+1),V.push(ie.substring(Y,te)),Y=ee),J++;return V},KIND2CLASS=Object.freeze({"|||":"empty-row","...":"omitted-row","---":"comment-row","->":"signal","=>":"method","=>>":"callback",">>":"return",":>":"emphasised","-x":"lost","<-":"signal","<=":"method","<<=":"callback","<<":"return","<:":"emphasised","x-":"lost","<->":"signal","<=>":"method","<<=>>":"callback","<<>>":"return","<:>":"emphasised","--":"signal","==":"method","..":"return","::":"emphasised"});function getClass(C){return KIND2CLASS[C]||C}function getAggregateClass(C){return aggregatekind(C)||C}const SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink";let gDocument$2={};function setAttribute(C,T,$){return $&&C.setAttribute(T,$),C}function setAttributeNS(C,T,$,V){return V&&C.setAttributeNS(T,$,V),C}function setAttributes(C,T){return Object.keys(T||{}).forEach($=>{setAttribute(C,$,T[$])}),C}function setAttributesNS(C,T,$){return Object.keys($||{}).forEach(V=>{setAttributeNS(C,T,V,$[V])}),C}function createElement$1(C,T){return setAttributes(gDocument$2.createElementNS(SVGNS,C),T)}function createTextNode(C){return gDocument$2.createTextNode(C)}function init$4(C){gDocument$2=C}function rad2deg(C){return C*360/(2*Math.PI)}const getDiagonalAngle=C=>0-rad2deg(Math.atan(C.height/C.width)),round=(C,T)=>T?Math.round(C*Math.pow(10,T))/Math.pow(10,T):Math.round(C),PRECISION$1=2;function point2String(C){return`${round(C.x,PRECISION$1).toString()},${round(C.y,PRECISION$1).toString()} `}function pathPoint2String(C,T,$){return C+point2String({x:T,y:$})}function createMarker(C,T,$,V){return createElement$1("marker",{orient:$,id:C,class:T,viewBox:V||"0 0 10 10",refX:"9",refY:"3",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10"})}function createLink(C,T){const $=createElement$1("a");return setAttributesNS($,XLINKNS,{"xlink:href":C,"xlink:title":C}),$.appendChild(T),$}let lSuperscriptStyle="vertical-align:text-top;";lSuperscriptStyle+="font-size:0.7em;text-anchor:start;";function createTSpan(C,T){const $=createElement$1("tspan"),V=createTextNode(C);return $.appendChild(V),T?createLink(T,$):$}function createText$1(C,T,$){const V=Object.assign({class:null,url:null,id:null,idurl:null},$),Y=createElement$1("text",{x:round(T.x,PRECISION$1).toString(),y:round(T.y,PRECISION$1).toString(),class:V.class});if(Y.appendChild(createTSpan(C,V.url)),V.id){const ee=createTSpan(` [${V.id}]`,V.idurl);ee.setAttribute("style",lSuperscriptStyle),Y.appendChild(ee)}return Y}function createPath(C,T){const $=Object.assign({class:null,style:null,color:null,bgColor:null},T);return colorBox(createElement$1("path",{d:C,class:$.class,style:$.style}),$.color,$.bgColor)}function colorBox(C,T,$){let V="";return $&&(V+=`fill:${$};`),T&&(V+=`stroke:${T};`),setAttribute(C,"style",V)}function createSingleLine$2(C,T){return createElement$1("line",{x1:round(C.xFrom,PRECISION$1).toString(),y1:round(C.yFrom,PRECISION$1).toString(),x2:round(C.xTo,PRECISION$1).toString(),y2:round(C.yTo,PRECISION$1).toString(),class:T?T.class:null})}function createRect$3(C,T){const $=Object.assign({class:null,color:null,bgColor:null,rx:null,ry:null},T);return colorBox(createElement$1("rect",{width:round(C.width,PRECISION$1),height:round(C.height,PRECISION$1),x:round(C.x,PRECISION$1),y:round(C.y,PRECISION$1),rx:round($.rx||0,PRECISION$1),ry:round($.ry||0,PRECISION$1),class:$.class}),$.color,$.bgColor)}function createUTurn$1(C,T,$){const V=Object.assign({class:null,dontHitHome:!1,lineWidth:1},$),Y=V.dontHitHome?C.x+7.5*(V.lineWidth||1):C.x;return createPath(pathPoint2String("M",C.x,C.y-C.height/2)+pathPoint2String("C",C.x+C.width,C.y-7.5*(V.lineWidth||1)/2)+point2String({x:C.x+C.width,y:T+0})+point2String({x:Y,y:T}),{class:V.class})}function createGroup$1(C,T){return createElement$1("g",{id:C,class:T})}function createMarkerPath$1(C,T,$){const V=createMarker(C,"arrow-marker","auto");return V.appendChild(createPath(T,{class:"arrow-style",style:`stroke-dasharray:100,1;stroke:${$}`||"black"})),V}function createMarkerPolygon$1(C,T,$){const V=createMarker(C,"arrow-marker","auto");return V.appendChild(createElement$1("polygon",{points:T,class:"arrow-style",stroke:$||"black",fill:$||"black"})),V}function createTitle$1(C){const T=createElement$1("title"),$=createTextNode(C);return T.appendChild($),T}function createDiagonalText$1(C,T,$){return setAttributes(createText$1(C,{x:T.width/2,y:T.height/2},{class:$}),{transform:`rotate(${round(getDiagonalAngle(T),PRECISION$1).toString()} ${round(T.width/2,PRECISION$1).toString()} ${round(T.height/2,PRECISION$1).toString()})`})}function createDesc$1(){return createElement$1("desc")}function createDefs$1(){return createElement$1("defs")}function createSVG$1(C,T){return createElement$1("svg",{version:"1.1",id:C,class:T,xmlns:SVGNS,"xmlns:xlink":XLINKNS,width:"0",height:"0"})}const init$3=init$4,updateSVG$1=setAttributes;function determineStartCorrection(C,T,$){let V=0;return!T.includes("nodi")&&T.includes("bidi")&&(C.xTo>C.xFrom?V=7.5*$:V=-7.5*$),V}function determineEndCorrection(C,T,$){let V=0;return T.includes("nodi")||(V=C.xTo>C.xFrom?-7.5*$:7.5*$),V}function getDirection(C){const T=C.xTo>C.xFrom?1:-1;return{signX:T,signY:C.yTo>C.yFrom?1:-1,dy:T*(C.yTo-C.yFrom)/(C.xTo-C.xFrom)}}function createDoubleLine$1(C,T){const $=T.lineWidth||1,V=$,Y=T?T.class:"",ee=getDirection(C),te=determineEndCorrection(C,Y,$),J=determineStartCorrection(C,Y,$),ie=(C.xTo-C.xFrom+te-J).toString(),K=(C.yTo-C.yFrom).toString(),re=pathPoint2String("l",ee.signX,ee.dy),ne=pathPoint2String("l",ie,K);return createPath(pathPoint2String("M",C.xFrom,C.yFrom-7.5*$*ee.dy)+re+pathPoint2String("M",C.xFrom+J,C.yFrom-V)+ne+pathPoint2String("M",C.xFrom+J,C.yFrom+V)+ne+pathPoint2String("M",C.xTo-ee.signX,C.yTo+7.5*$*ee.dy)+re,T)}function createNote$2(C,T){const $=T&&T.lineWidth||1,V=Math.max(9,Math.min(4.5*$,C.height/2)),Y=V.toString(10);return createPath(pathPoint2String("M",C.x,C.y)+pathPoint2String("l",C.width-V,0)+pathPoint2String("l",0,Y)+pathPoint2String("l",Y,0)+pathPoint2String("m",-Y,-Y)+pathPoint2String("l",Y,Y)+pathPoint2String("l",0,C.height-V)+pathPoint2String("l",-C.width,0)+pathPoint2String("l",0,-C.height)+"z",T)}function createRBox$2(C,T){const V=Object.assign({rx:6,ry:6},T);return createRect$3(C,V)}function createABox$2(C,T){return createPath(pathPoint2String("M",C.x,C.y+C.height/2)+pathPoint2String("l",3,-(C.height/2))+pathPoint2String("l",C.width-2*3,0)+pathPoint2String("l",3,C.height/2)+pathPoint2String("l",-3,C.height/2)+pathPoint2String("l",-(C.width-2*3),0)+"z",T)}function createEdgeRemark$2(C,T){const $=T&&T.foldSize?T.foldSize:7,V=Object.assign({class:null,color:null,bgColor:null},T);return createPath(pathPoint2String("M",C.x,C.y)+pathPoint2String("l",C.width,0)+pathPoint2String("l",0,C.height-$)+pathPoint2String("l",-$,$)+pathPoint2String("l",-(C.width-$),0),V)}const createSingleLine$1=createSingleLine$2,createRect$2=createRect$3,straight=Object.freeze(Object.defineProperty({__proto__:null,createABox:createABox$2,createDoubleLine:createDoubleLine$1,createEdgeRemark:createEdgeRemark$2,createNote:createNote$2,createRBox:createRBox$2,createRect:createRect$2,createSingleLine:createSingleLine$1},Symbol.toStringTag,{value:"Module"})),SEGMENT_LENGTH=70,WOBBLE_FACTOR=3;function points2CurveString(C){return C.map(T=>`${pathPoint2String("S",T.controlX,T.controlY)} ${point2String(T)}`).join(" ")}function line2CurveString(C){return points2CurveString(getBetweenPoints(C,SEGMENT_LENGTH,WOBBLE_FACTOR))}function getLineLength(C){const T=Math.abs(C.xTo-C.xFrom),$=Math.abs(C.yTo-C.yFrom);return Math.sqrt(T*T+$*$)}function getNumberOfSegments(C,T){const $=getLineLength(C);return $>0?Math.floor($/T):0}function getRandomDeviation(C){return Math.round(Math.random()*2*C)-C}function normalizeInterval(C,T){if(C<=0)throw new Error("pInterval must be > 0");return Math.min(getLineLength(T),C)}const PRECISION=2;function getBetweenPoints(C,T,$){T=normalizeInterval(T,C);const V=[],Y=getNumberOfSegments(C,T),ee=getDirection(C),te=ee.signX*Math.sqrt(Math.pow(T,2)/(1+Math.pow(ee.dy,2))),J=ee.signY*(Math.abs(ee.dy)===1/0?T:Math.sqrt(Math.pow(ee.dy,2)*Math.pow(T,2)/(1+Math.pow(ee.dy,2))));let ie;for(let K=1;K<=Y;K++)ie={controlX:round(C.xFrom+(K-.5)*te+getRandomDeviation($),PRECISION),controlY:round(C.yFrom+(K-.5)*J+getRandomDeviation($),PRECISION),x:round(C.xFrom+K*te,PRECISION),y:round(C.yFrom+K*J,PRECISION)},T>getLineLength({xFrom:ie.x,yFrom:ie.y,xTo:C.xTo,yTo:C.yTo})&&(ie.x=C.xTo,ie.y=C.yTo),V.push(ie);return V}function renderNotePathString(C,T){return pathPoint2String("M",C.x,C.y)+line2CurveString({xFrom:C.x,yFrom:C.y,xTo:C.x+C.width-T,yTo:C.y})+pathPoint2String("L",C.x+C.width-T,C.y)+line2CurveString({xFrom:C.x+C.width-T,yFrom:C.y,xTo:C.x+C.width,yTo:C.y+T})+pathPoint2String("L",C.x+C.width,C.y+T)+line2CurveString({xFrom:C.x+C.width,yFrom:C.y+T,xTo:C.x+C.width,yTo:C.y+C.height})+pathPoint2String("L",C.x+C.width,C.y+C.height)+line2CurveString({xFrom:C.x+C.width,yFrom:C.y+C.height,xTo:C.x,yTo:C.y+C.height})+pathPoint2String("L",C.x,C.y+C.height)+line2CurveString({xFrom:C.x,yFrom:C.y+C.height,xTo:C.x,yTo:C.y})+pathPoint2String("L",C.x,C.y)+"z"}function renderNoteCornerString(C,T){return pathPoint2String("M",C.x+C.width-T,C.y)+line2CurveString({xFrom:C.x+C.width-T,yFrom:C.y,xTo:C.x+C.width-T,yTo:C.y+T})+pathPoint2String("L",C.x+C.width-T,C.y+T)+line2CurveString({xFrom:C.x+C.width-T,yFrom:C.y+T,xTo:C.x+C.width,yTo:C.y+T})+pathPoint2String("L",C.x+C.width,C.y+T)}function abox2CurveString(C,T){return pathPoint2String("M",C.x,C.y+C.height/2)+line2CurveString({xFrom:C.x,yFrom:C.y+C.height/2,xTo:C.x+T,yTo:C.y})+pathPoint2String("L",C.x+T,C.y)+line2CurveString({xFrom:C.x+T,yFrom:C.y,xTo:C.x+C.width-T,yTo:C.y})+pathPoint2String("L",C.x+C.width-T,C.y)+line2CurveString({xFrom:C.x+C.width-T,yFrom:C.y,xTo:C.x+C.width,yTo:C.y+C.height/2})+pathPoint2String("L",C.x+C.width,C.y+C.height/2)+line2CurveString({xFrom:C.x+C.width,yFrom:C.y+C.height/2,xTo:C.x+C.width-T,yTo:C.y+C.height})+pathPoint2String("L",C.x+C.width-T,C.y+C.height)+line2CurveString({xFrom:C.x+C.width-T,yFrom:C.y+C.height,xTo:C.x+T,yTo:C.y+C.height})+pathPoint2String("L",C.x+T,C.y+C.height)+line2CurveString({xFrom:C.x+T,yFrom:C.y+C.height,xTo:C.x,yTo:C.y+C.height/2})+"z"}function rbox2CurveString(C,T){return pathPoint2String("M",C.x,C.y+T)+points2CurveString([{controlX:C.x,controlY:C.y,x:C.x+T,y:C.y}])+line2CurveString({xFrom:C.x+T,yFrom:C.y,xTo:C.x+C.width-T,yTo:C.y})+pathPoint2String("L",C.x+C.width-T,C.y)+points2CurveString([{controlX:C.x+C.width,controlY:C.y,x:C.x+C.width,y:C.y+T}])+line2CurveString({xFrom:C.x+C.width,yFrom:C.y+T,xTo:C.x+C.width,yTo:C.y+C.height-T})+pathPoint2String("L",C.x+C.width,C.y+C.height-T)+points2CurveString([{controlX:C.x+C.width,controlY:C.y+C.height,x:C.x+C.width-T,y:C.y+C.height}])+line2CurveString({xFrom:C.x+C.width-T,yFrom:C.y+C.height,xTo:C.x+T,yTo:C.y+C.height})+pathPoint2String("L",C.x+T,C.y+C.height)+points2CurveString([{controlX:C.x,controlY:C.y+C.height,x:C.x,y:C.y+C.height-T}])+line2CurveString({xFrom:C.x,yFrom:C.y+C.height-T,xTo:C.x,yTo:C.y+T})+"z"}function doubleLine2CurveString(C,T){const $=T.lineWidth||1,V=$,Y=T?T.class:"",ee=getDirection(C),te=determineEndCorrection(C,Y,$),J=determineStartCorrection(C,Y,$);return pathPoint2String("M",C.xFrom,C.yFrom-7.5*$*ee.dy)+pathPoint2String("l",ee.signX,ee.dy)+pathPoint2String("M",C.xFrom+J,C.yFrom-V)+line2CurveString({xFrom:C.xFrom+J,yFrom:C.yFrom-V,xTo:C.xTo+te,yTo:C.yTo-V})+pathPoint2String("M",C.xFrom+J,C.yFrom+V)+line2CurveString({xFrom:C.xFrom+J,yFrom:C.yFrom+V,xTo:C.xTo+te,yTo:C.yTo+V})+pathPoint2String("M",C.xTo-ee.signX,C.yTo+7.5*$*ee.dy)+pathPoint2String("l",ee.signX,ee.dy)}function edgeRemark2CurveString(C,T){return pathPoint2String("M",C.x+C.width,C.y)+line2CurveString({xFrom:C.x+C.width,yFrom:C.y,xTo:C.x+C.width,yTo:C.y+C.height-T})+pathPoint2String("L",C.x+C.width,C.y+C.height-T)+line2CurveString({xFrom:C.x+C.width,yFrom:C.y+C.height-T,xTo:C.x+C.width-T,yTo:C.y+C.height})+pathPoint2String("L",C.x+C.width-T,C.y+C.height)+line2CurveString({xFrom:C.x+C.width-T,yFrom:C.y+C.height,xTo:C.x-1,yTo:C.y+C.height})+pathPoint2String("L",C.x-1,C.y+C.height)}function createSingleLine(C,T={}){const $=getDirection(C);return createPath(pathPoint2String("M",C.xFrom,C.yFrom)+pathPoint2String("L",round(C.xFrom+$.signX*Math.sqrt(1/(1+Math.pow($.dy,2))),2),C.yFrom+$.signY*(Math.abs($.dy)===1/0?1:round(Math.sqrt(Math.pow($.dy,2)/(1+Math.pow($.dy,2))),2)))+line2CurveString(C),T)}function createNote$1(C,T){const $=T&&T.lineWidth||1,V=Math.max(9,Math.min(4.5*$,C.height/2)),Y=createGroup$1();return Y.appendChild(createPath(renderNotePathString(C,V),T)),T.bgColor="transparent",Y.appendChild(createPath(renderNoteCornerString(C,V),T)),Y}function createRect$1(C,T){return createPath(rbox2CurveString(C,0),T)}function createABox$1(C,T){return createPath(abox2CurveString(C,3),T)}function createRBox$1(C,T){return createPath(rbox2CurveString(C,6),T)}function createEdgeRemark$1(C,T){const $=T&&T.lineWidth||1,V=createGroup$1(),Y=T&&T.foldSize?T.foldSize:7,ee=T&&T.color?T.color:"black";T.color="transparent!important";const te=createPath(pathPoint2String("M",C.x,C.y+$/2)+pathPoint2String("L",C.x+C.width,C.y+$/2)+pathPoint2String("L",C.x+C.width,C.y+C.height-Y)+pathPoint2String("L",C.x+C.width-Y,C.y+C.height)+pathPoint2String("L",C.x,C.y+C.height)+"z",T);T.bgColor="transparent",T.color=ee;const J=createPath(edgeRemark2CurveString(C,Y),T);return V.appendChild(te),V.appendChild(J),V}function createDoubleLine(C,T){return createPath(doubleLine2CurveString(C,T),{class:T.class})}const wobbly=Object.freeze(Object.defineProperty({__proto__:null,createABox:createABox$1,createDoubleLine,createEdgeRemark:createEdgeRemark$1,createNote:createNote$1,createRBox:createRBox$1,createRect:createRect$1,createSingleLine},Symbol.toStringTag,{value:"Module"}));let gRenderMagic=straight,gOptions={};function determineRenderMagic(C){return C?C==="wobbly"?wobbly:straight:gRenderMagic}function init$2(C,T){init$3(C),gOptions=Object.assign({LINE_WIDTH:2,FONT_SIZE:12},T)}function createSVG(C,T,$){return gRenderMagic=determineRenderMagic($),createSVG$1(C,T)}const updateSVG=updateSVG$1,createTitle=createTitle$1,createDesc=createDesc$1,createDefs=createDefs$1,createRect=(C,T)=>gRenderMagic.createRect(C,T),createRBox=(C,T)=>gRenderMagic.createRBox(C,T),createABox=(C,T)=>gRenderMagic.createABox(C,T),createNote=(C,T)=>gRenderMagic.createNote(C,T);function createEdgeRemark(C,T){return gRenderMagic.createEdgeRemark(C,{class:T.class,color:T.color,bgColor:T.bgColor,foldSize:T.foldSize,lineWidth:gOptions.LINE_WIDTH})}const createText=createText$1,createDiagonalText=createDiagonalText$1;function createLine(C,T){return T&&T.doubleLine?(T.lineWidth||(T.lineWidth=gOptions.LINE_WIDTH),gRenderMagic.createDoubleLine(C,T)):gRenderMagic.createSingleLine(C,T)}const createUTurn=createUTurn$1,createGroup=createGroup$1,createMarkerPath=createMarkerPath$1,createMarkerPolygon=createMarkerPolygon$1;var MapCache=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize(C,T){if(typeof C!="function"||T!=null&&typeof T!="function")throw new TypeError(FUNC_ERROR_TEXT);var $=function(){var V=arguments,Y=T?T.apply(this,V):V[0],ee=$.cache;if(ee.has(Y))return ee.get(Y);var te=C.apply(this,V);return $.cache=ee.set(Y,te)||ee,te};return $.cache=new(memoize.Cache||MapCache),$}memoize.Cache=MapCache;var memoize_1=memoize;const memoize$1=getDefaultExportFromCjs(memoize_1),INNERELEMENTPREFIX="mscgenjs";let gInnerElementId=INNERELEMENTPREFIX;function setPrefix(C){gInnerElementId=INNERELEMENTPREFIX+C}function get$1(C){return gInnerElementId+(C||"")}let gDocument$1={};const gSvgBBoxerId=get$1("bboxer");function _createBBoxerSVG(C){const T=createSVG(C,get$1());return gDocument$1.body.appendChild(T),T}function getNativeBBox(C){let T=gDocument$1.getElementById(gSvgBBoxerId);T=T||_createBBoxerSVG(gSvgBBoxerId),T.appendChild(C);const $=C.getBBox();return T.removeChild(C),$}function sanitizeBBox(C){return Math.abs(C.height)>1e5||Math.abs(C.width)>1e5?{height:0,width:0,x:0,y:0}:C}function getBBox(C){return typeof C.getBBox=="function"?sanitizeBBox(getNativeBBox(C)):{height:15,width:15,x:2,y:2}}function _calculateTextHeight(){return getBBox(createText("jy9@",{x:0,y:0})).height}function removeRenderedSVGFromElement(C){setPrefix(C);const T=gDocument$1.getElementById(get$1());if(T){const $=gDocument$1.getElementById(C);$?$.removeChild(T):gDocument$1.body.removeChild(T)}}const init$1=C=>{gDocument$1=C},calculateTextHeight=memoize$1(_calculateTextHeight),webkitNamespaceBugWorkaround=C=>C.replace(/ xlink=/g," xmlns:xlink=").replace(/ href=/g," xlink:href=");function colorText(C,T){return T&&C.setAttribute("style",`fill:${T};`),C}function colorLink(C,T,$){return colorText(C,T&&!$?"blue":$)}function renderArcLabelLineBackground(C,T){const $=createRect(getBBox(C),{class:"label-text-background"});return T&&$.setAttribute("style",`fill:${T}; stroke:${T};`),$}function renderLabelText(C,T,$,V,Y){const ee=T===0?{class:V,url:Y.url,id:Y.id,idurl:Y.idurl}:{class:V,url:Y.url};return createText(C,$,ee)}function determineClasses(C,T){const $=C,V=getClass($),Y=getAggregateClass($);return V===Y?V+T:Y+T+V+T}function createLabelLine(C,T,$,V,Y,ee){let te=$+(Y+.25)*calculateTextHeight(),J=determineClasses(V.kind,"-text ");return ee.alignLeft&&(J+="anchor-start "),ee.alignAround&&(te=$+(Y+1/4)*(calculateTextHeight()+constants.LINE_WIDTH)),colorLink(colorText(renderLabelText(C,Y,{x:T,y:te},J,V),V.textcolor),V.url,V.textcolor)}function insertEmptyLines(C,T){return T.alignAbove&&C.forEach(()=>{C.push("")}),T.alignAround&&C.length===1&&C.push(""),C}function determineLabelTop(C,T,$){return $.alignAround?T.y-(C.length-1)/2*(calculateTextHeight()+constants.LINE_WIDTH+1):T.y-(C.length-1)/2*(calculateTextHeight()+1)}function createLabel(C,T,$,V){const Y=createGroup(V);if($=$||{},C.label){const ee=T.x+T.width/2,te=insertEmptyLines(splitLabel(C.label,C.kind,T.width,constants.FONT_SIZE,$),$);let J=determineLabelTop(te,T,$);te.forEach((ie,K)=>{if(ie!==""){const re=createLabelLine(ie,ee,J,C,K,$);$.ownBackground&&Y.appendChild(renderArcLabelLineBackground(re,C.textbgcolor)),Y.appendChild(re)}J++})}return Y}function _determineMaxTextWidthInChars(C,T){const $=Math.abs(C),V=12;return $<=160?$/(T/V*8):$<=320?$/(T/V*6.4):$<=480?$/(T/V*5.9):$/(T/V*5.6)}function isWrappableBox(C,T){return aggregatekind(C)==="box"&&T}function isWrappableEntity(C,T){return C==="entity"&&T}function isWrappableArc(C,T){return aggregatekind(C)!=="box"&&C!=="entity"&&T}function labelIsWrappable(C,T){return isWrappableBox(C,T.wordwrapboxes)||isWrappableEntity(C,T.wordwrapentities)||isWrappableArc(C,T.wordwraparcs)||typeof C>"u"}function splitLabel(C,T,$,V,Y){return labelIsWrappable(T,Y)?wrap(C,_determineMaxTextWidthInChars($,V)):C.split("\\n")}const DEFAULT_INTER_ENTITY_SPACING=160,DEFAULT_ENTITY_WIDTH=100,DEFAULT_ENTITY_HEIGHT=34;class Thing{constructor(T){this.interEntitySpacing=DEFAULT_INTER_ENTITY_SPACING,this.height=DEFAULT_ENTITY_HEIGHT,this.width=DEFAULT_ENTITY_WIDTH,this.entityXHWM=0,this.entity2x={},T&&(this.interEntitySpacing=T*DEFAULT_INTER_ENTITY_SPACING,this.width=T*DEFAULT_ENTITY_WIDTH)}getX(T){return this.entity2x[T]}getDims(){return{interEntitySpacing:this.interEntitySpacing,height:this.height,width:this.width,entityXHWM:this.entityXHWM}}getOAndD(T,$){return{from:this.getX(T)<this.getX($)?this.getX(T):this.getX($),to:this.getX($)>this.getX(T)?this.getX($):this.getX(T)}}renderEntities(T,$,V){const Y=createGroup();return this.entityXHWM=0,this.height=this.getMaxEntityHeight(T,V)+constants.LINE_WIDTH*2,T.forEach(ee=>{Y.appendChild(this.renderEntity(ee,this.entityXHWM,$,V)),this.setX(ee,this.entityXHWM),this.entityXHWM+=this.interEntitySpacing}),Y}setX(T,$){this.entity2x[T.name]=$+this.width/2}getNoEntityLines(T,$,V){return splitLabel(T,"entity",this.width,$,V).length}sizeEntityBoxToLabel(T,$){const V=Math.min(getBBox(T).width+4*constants.LINE_WIDTH,this.interEntitySpacing/3+$.width);return V>=$.width&&($.x-=(V-$.width)/2,$.width=V),$}renderEntity(T,$,V,Y){const ee=createGroup(),te={x:$||0,y:V||0,width:this.width,height:this.height},J=createLabel(Object.assign({kind:"entity"},T),Object.assign({},te,{y:te.y+te.height/2}),Y);return ee.appendChild(createRect(this.sizeEntityBoxToLabel(J,te),{class:"entity",color:T.linecolor,bgColor:T.textbgcolor})),ee.appendChild(J),ee}getMaxEntityHeight(T,$){let V=T[0],Y=2;return T.forEach(ee=>{const te=this.getNoEntityLines(ee.label,constants.FONT_SIZE,$);te>Y&&(Y=te,V=ee)}),Y>2?Math.max(this.height,getBBox(this.renderEntity(V,0,0,$)).height):this.height}}var Symbol$1=_Symbol,isArguments=requireIsArguments(),isArray$1=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(C){return isArray$1(C)||isArguments(C)||!!(spreadableSymbol&&C&&C[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$1(C,T,$,V,Y){var ee=-1,te=C.length;for($||($=isFlattenable),Y||(Y=[]);++ee<te;){var J=C[ee];T>0&&$(J)?T>1?baseFlatten$1(J,T-1,$,V,Y):arrayPush(Y,J):V||(Y[Y.length]=J)}return Y}var _baseFlatten=baseFlatten$1,baseFlatten=_baseFlatten;function flatten(C){var T=C==null?0:C.length;return T?baseFlatten(C,1):[]}var flatten_1=flatten;const flatten$1=getDefaultExportFromCjs(flatten_1),KINDS={"->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"}],marker:{name:"signal"}},"<->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"},{name:"marker-start",value:"url(#{{id}}{{signal-marker-start}}-{{color}})"}],marker:{name:"signal"}},"=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},">>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},"..":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"--":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"==":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"::":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},":>":{attributes:[{name:"style",value:"stroke:{{color}};"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<:>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},"-x":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}lost-{{color}})"}],marker:{name:"lost",end:""}}},MARKERPATHS={signal:{variants:[{name:"",path:"M9,3 l-8, 2"},{name:"-u",path:"M9,3 l-8,-2"},{name:"-l",path:"M9,3 l 8, 2"},{name:"-lu",path:"M9,3 l 8,-2"}]},method:{variants:[{name:"",path:"1,1  9,3  1,5"},{name:"-l",path:"17,1 9,3 17,5"}]},callback:{variants:[{name:"",path:"M 1,1 l 8,2 l-8,2"},{name:"-l",path:"M17,1 l-8,2 l 8,2"}]},lost:{variants:[{name:"",path:"M7,0 l5,6 M7,6 l5,-6"}]}};function getSignalend(C,T,$){return T&&$&&["<->","->"].includes(C)?T<$?"signal":"signal-u":""}function getSignalstart(C,T,$){return C==="<->"&&T<=$?"signal-l":"signal-lu"}function getAttributes(C,T,$,V,Y){let ee=[];return KINDS[T]&&KINDS[T].attributes&&(ee=KINDS[T].attributes.map(te=>({name:te.name,value:te.value.replace(/\{\{signal-marker-end\}\}/g,getSignalend(T,V,Y)).replace(/\{\{signal-marker-start\}\}/g,getSignalstart(T,V,Y)).replace(/\{\{id\}\}/g,C).replace(/\{\{color\}\}/g,$||"black")}))),ee}function makeKindColorCombi(C,T){return KINDS[normalizekind(C)].marker.name+(T?" "+T:" black")}function extractKindColorCombisFromArc(C,T){function $(V){extractKindColorCombisFromArc(C,V)}return Array.isArray(T)&&T.forEach($),T.arcs&&T.arcs.forEach($),T.kind&&KINDS[normalizekind(T.kind)]&&KINDS[normalizekind(T.kind)].marker&&!C.includes(makeKindColorCombi(T.kind,T.linecolor))&&C.push(makeKindColorCombi(T.kind,T.linecolor)),C}function toColorCombiObject(C){return{kind:C.split(" ")[0],color:C.split(" ")[1]}}function extractKindColorCombis(C){return C.arcs.reduce(extractKindColorCombisFromArc,[]).sort().map(toColorCombiObject)}function getMarkerDefs(C,T){return flatten$1(extractKindColorCombis(T).map($=>MARKERPATHS[$.kind].variants.map(V=>({name:`${C+$.kind+V.name}-${$.color}`,path:V.path,color:$.color,type:$.kind}))))}const csstemplates=require$$0;let gDocument={};function setupMarkers(C,T){return T.forEach($=>{$.type==="method"?C.appendChild(createMarkerPolygon($.name,$.path,$.color)):C.appendChild(createMarkerPath($.name,$.path,$.color))}),C}function setupStyle(C,T){const $=gDocument.createElement("style");return $.setAttribute("type","text/css"),$.appendChild(gDocument.createTextNode(setupStyleElement(C,T))),$}function setupDefs(C,T,$){let V=createDefs();return V.appendChild(setupStyle($,C)),V=setupMarkers(V,T),V}function setupBody(C){const T=createGroup(`${C}_body`);return T.appendChild(createGroup(`${C}_background`)),T.appendChild(createGroup(`${C}_arcspans`)),T.appendChild(createGroup(`${C}_lifelines`)),T.appendChild(createGroup(`${C}_sequence`)),T.appendChild(createGroup(`${C}_notes`)),T.appendChild(createGroup(`${C}_watermark`)),T}function init(C){return init$2(C.document,{LINE_WIDTH:constants.LINE_WIDTH,FONT_SIZE:constants.FONT_SIZE}),C.document}function bootstrap(C,T,$,V,Y){gDocument=init(C);const ee=createSVG($,$,distillRenderMagic(Y));return Y.source&&ee.appendChild(setupDesc(C,Y.source)),ee.appendChild(setupDefs($,V,Y)),ee.appendChild(setupBody($)),T.appendChild(ee),gDocument}function setupDesc(C,T){const $=createDesc();return $.appendChild(C.document.createTextNode(`

# Generated by mscgen_js - https://sverweij.github.io/mscgen_js
${T}`)),$}function findNamedStyle(C){return csstemplates.namedStyles.find(T=>T.name===C)}function distillRenderMagic(C){let T="";const $=findNamedStyle(C.additionalTemplate);return $&&(T=$.renderMagic),T}function composeStyleSheetTemplate(C,T){return(C.cssBefore||"")+csstemplates.baseTemplate+(C.cssAfter||"")+(T||"")}function setupStyleElement(C,T){const $=findNamedStyle(C.additionalTemplate)||{};return composeStyleSheetTemplate($,C.styleAdditions).replace(/<%=fontSize%>/g,constants.FONT_SIZE).replace(/<%=lineWidth%>/g,constants.LINE_WIDTH).replace(/<%=id%>/g,T)}function scaleCanvasToWidth(C,T){const $=cloneDeep$1(T);return $.scale=C/$.width,$.width*=$.scale,$.height*=$.scale,$.horizontaltransform*=$.scale,$.verticaltransform*=$.scale,$.x=0-$.horizontaltransform,$.y=0-$.verticaltransform,$}function determineDepthCorrection(C,T){return C?2*((C+1)*2*T):0}function determineArcXTo(C,T,$){return C==="-x"?T+($-T)*(3/4):$}let gRowInfoArray=[],gDefaultEntityHeight=0,gDefaultArcRowHeight=0;function get(C){return gRowInfoArray[C]?gRowInfoArray[C]:{y:gDefaultEntityHeight+1.5*gDefaultArcRowHeight+C*gDefaultArcRowHeight,height:gDefaultArcRowHeight,realRowNumber:gRowInfoArray.length-1}}function getLast(){return get(gRowInfoArray.length-1)}function clear(C,T){gRowInfoArray=[],gDefaultEntityHeight=C,gDefaultArcRowHeight=T}function getByRealRowNumber(C){let T=gRowInfoArray.find($=>$.realRowNumber===C);return typeof T>"u"&&(T=getLast()),T}function set(C,T,$=-1){const V=get(C-1);gRowInfoArray[C]={y:V.y+(V.height+T)/2,height:T,realRowNumber:$}}let entities=new Thing(0);const PAD_VERTICAL=3,DEFAULT_ARCROW_HEIGHT=38,DEFAULT_ARC_GRADIENT=0,gChart=Object.seal({arcRowHeight:DEFAULT_ARCROW_HEIGHT,arcGradient:DEFAULT_ARC_GRADIENT,arcEndX:0,wordWrapArcs:!1,mirrorEntitiesOnBottom:!1,regularArcTextVerticalAlignment:"middle",maxDepth:0,document:{},layers:{lifeline:{},sequence:{},notes:{},inline:{},watermark:{}}});let gInlineExpressionMemory=[];function getParentElement(C,T){return C.document.getElementById(T)||C.document.body}function renderASTPre(C,T,$,V){gChart.document=bootstrap(T,$,get$1(),getMarkerDefs(get$1(),C),V),gChart.mirrorEntitiesOnBottom=V.mirrorEntitiesOnBottom,gChart.regularArcTextVerticalAlignment=V.regularArcTextVerticalAlignment,init$1(gChart.document),gChart.layers=createLayerShortcuts(gChart.document),gChart.maxDepth=C.depth,preProcessOptions(gChart,C.options)}function renderASTMain(C){renderEntities(C.entities,0,C.options),clear(entities.getDims().height,gChart.arcRowHeight),renderArcRows(C.arcs,C.entities,C.options),gChart.mirrorEntitiesOnBottom&&renderEntitiesOnBottom(C.entities,C.options)}function renderASTPost(C){let T=calculateCanvasDimensions(C);renderBackground(T),T=postProcessOptions(C.options,T),renderSvgElement(T)}function createLayerShortcuts(C){return{lifeline:C.getElementById(get$1("_lifelines")),sequence:C.getElementById(get$1("_sequence")),notes:C.getElementById(get$1("_notes")),inline:C.getElementById(get$1("_arcspans")),watermark:C.getElementById(get$1("_watermark"))}}function preProcessOptionsArcs(C,T){C.arcRowHeight=DEFAULT_ARCROW_HEIGHT,C.arcGradient=DEFAULT_ARC_GRADIENT,C.wordWrapArcs=!1,T.arcgradient&&(C.arcRowHeight=parseInt(T.arcgradient,10)+DEFAULT_ARCROW_HEIGHT,C.arcGradient=parseInt(T.arcgradient,10)+DEFAULT_ARC_GRADIENT),C.wordWrapArcs=!!T.wordwraparcs}function preProcessOptions(C,T){entities=new Thing(T&&T.hscale),preProcessOptionsArcs(C,T)}function calculateCanvasDimensions(C){const T=determineDepthCorrection(C.depth,constants.LINE_WIDTH),$=getLast(),V={width:C.entities.length*entities.getDims().interEntitySpacing+T,height:gChart.mirrorEntitiesOnBottom?2*entities.getDims().height+$.y+$.height+2*PAD_VERTICAL:$.y+$.height/2+2*PAD_VERTICAL,horizontaltransform:(entities.getDims().interEntitySpacing+T-entities.getDims().width)/2,autoscale:!!C.options&&!!C.options.width&&C.options.width==="auto",verticaltransform:PAD_VERTICAL,scale:1};return V.x=0-V.horizontaltransform,V.y=0-V.verticaltransform,V}function renderBackground(C){const T=gChart.document.getElementById(get$1("_background"));T&&T.appendChild(createRect(C,{class:"bglayer"}))}function renderWatermark(C,T){gChart.layers.watermark.appendChild(createDiagonalText(C,T,"watermark"))}function postProcessOptions(C,T){return C.watermark&&renderWatermark(C.watermark,T),C.width&&C.width!=="auto"&&(T=scaleCanvasToWidth(C.width,T)),T}function renderSvgElement(C){const T=gChart.document.getElementById(get$1()),$=gChart.document.getElementById(get$1("_body"));$&&T&&($.setAttribute("transform",`translate(${C.horizontaltransform},${C.verticaltransform}) scale(${C.scale},${C.scale})`),C.autoscale&&C.autoscale===!0?updateSVG(T,{width:"100%",height:"100%",viewBox:`0 0 ${C.width.toString()} ${C.height.toString()}`}):updateSVG(T,{width:C.width.toString(),height:C.height.toString(),viewBox:`0 0 ${C.width.toString()} ${C.height.toString()}`}))}function renderEntitiesOnBottom(C,T){const $=getLast().y+(getLast().height+gChart.arcRowHeight)/2;createLifeLines(C,"arcrow",gChart.arcRowHeight,$).forEach(V=>{gChart.layers.lifeline.appendChild(V)}),renderEntities(C,$+gChart.arcRowHeight/2,T)}function renderEntities(C,T,$){gChart.layers.sequence.appendChild(entities.renderEntities(C,T,$)),gChart.arcEndX=entities.getDims().entityXHWM-entities.getDims().interEntitySpacing+entities.getDims().width}function renderBroadcastArc(C,T,$,V,Y){let ee=0;const te=C.label,J=entities.getX(C.from);C.label="",T.forEach(ie=>{let K={};ie.name!==C.from&&(ee=entities.getX(ie.name),K=createArc(C,J,ee,V,Y),$.push({layer:gChart.layers.sequence,element:K}))}),C.label=te}function renderRegularArc(C,T,$,V,Y){let ee=createGroup();return C.from&&C.to&&(C.to==="*"?(renderBroadcastArc(C,T,$,V,Y),ee=createLabel(C,{x:0,y:get(V).y,width:gChart.arcEndX},Object.assign({alignAround:!0,ownBackground:!0},cloneDeep$1(Y))),$.push({title:C.title,layer:gChart.layers.sequence,element:ee})):(ee=createArc(C,entities.getX(C.from),entities.getX(C.to),V,Y),$.push({title:C.title,layer:gChart.layers.sequence,element:ee}))),ee}function getArcRowHeight(C,T,$){let V=0;return C.forEach(Y=>{let ee;switch(aggregatekind(Y.kind)){case"empty":ee=renderEmptyArc(Y,0);break;case"box":ee=createBox(entities.getOAndD(Y.from,Y.to),Y,0,$);break;case"inline_expression":ee=renderInlineExpressionLabel(Y,0);break;default:const te=cloneDeep$1(Y);te.arcskip=0,ee=renderRegularArc(te,T,[],0,$)}V=Math.max(V,getBBox(ee).height+2*constants.LINE_WIDTH)}),V}function renderArcRow(C,T,$,V){let Y="arcrow";const ee=[];C.forEach(te=>{let J={};switch(aggregatekind(te.kind)){case"empty":J=renderEmptyArc(te,get(T).y),te.kind==="..."&&(Y="arcrowomit"),ee.push({layer:gChart.layers.sequence,element:J});break;case"box":J=createBox(entities.getOAndD(te.from,te.to),te,get(T).y,V),ee.push({title:te.title,layer:gChart.layers.notes,element:J});break;case"inline_expression":J=renderInlineExpressionLabel(te,get(T).y),ee.push({layer:gChart.layers.notes,element:J}),gInlineExpressionMemory.push({arc:te,rownum:T});break;default:J=renderRegularArc(te,$,ee,T,V)}}),createLifeLines($,Y,get(T).height,get(T).y).forEach(te=>{gChart.layers.lifeline.appendChild(te)}),ee.forEach(te=>{te.element&&(te.title&&te.element.appendChild(createTitle(te.title)),te.layer.appendChild(te.element))})}function precalculateArcRowHeights(C,T,$){let V=0;C.forEach((Y,ee)=>{Y.every(te=>te.isVirtual)?set(ee,Math.max(get(ee).height,getArcRowHeight(Y,T,$))):(set(ee,Math.max(get(ee).height,getArcRowHeight(Y,T,$)),V),V++)})}function renderArcRows(C,T,$){gInlineExpressionMemory=[],createLifeLines(T,"arcrow",gChart.arcRowHeight,get(-1).y).forEach(V=>{gChart.layers.lifeline.appendChild(V)}),precalculateArcRowHeights(C,T,$),C.forEach((V,Y)=>{renderArcRow(V,Y,T,$)}),renderInlineExpressions(gInlineExpressionMemory)}function renderInlineExpressionLabel(C,T){const $=entities.getOAndD(C.from,C.to),V=7,Y=T>0,ee=gChart.maxDepth*2*constants.LINE_WIDTH,te=$.to-$.from+(entities.getDims().interEntitySpacing-2*constants.LINE_WIDTH)-V-constants.LINE_WIDTH,J=$.from-(entities.getDims().interEntitySpacing-3*constants.LINE_WIDTH-ee)/2-(gChart.maxDepth-C.depth)*2*constants.LINE_WIDTH,ie=createGroup();Y||(C.label=C.kind+(C.label?": "+C.label:""));const K=createLabel(C,{x:J+constants.LINE_WIDTH-te/2,y:T+gChart.arcRowHeight/4,width:te},{alignLeft:!0,ownBackground:!1,wordwraparcs:gChart.wordWrapArcs}),re=getBBox(K),ne=Math.max(re.height+2*constants.LINE_WIDTH,gChart.arcRowHeight/2-2*constants.LINE_WIDTH),le=Math.min(re.width+2*constants.LINE_WIDTH,te),ae=createEdgeRemark({width:le-constants.LINE_WIDTH+V,height:ne,x:J,y:T},{class:"box inline_expression_label",color:C.linecolor,bgColor:C.textbgcolor,foldSize:V});return ie.appendChild(ae),ie.appendChild(K),ie}function createInlineExpressionBox(C,T,$,V){const Y=gChart.maxDepth*2*constants.LINE_WIDTH,ee=C.to-C.from+entities.getDims().interEntitySpacing-2*constants.LINE_WIDTH-Y,te=C.from-(entities.getDims().interEntitySpacing-2*constants.LINE_WIDTH-Y)/2,J=(gChart.maxDepth-T.depth)*2*constants.LINE_WIDTH;return createRect({width:ee+J*2,height:$||gChart.arcRowHeight-2*constants.LINE_WIDTH,x:te-J,y:V},{class:`box inline_expression ${T.kind}`,color:T.linecolor,bgColor:T.textbgcolor})}function renderInlineExpressions(C){C.forEach(T=>{gChart.layers.inline.appendChild(renderInlineExpression(T,get(T.rownum).y))})}function renderInlineExpression(C,T){const $=get(C.rownum).y,Y=get(C.rownum+C.arc.numberofrows+1).y-$;return C.arc.label="",createInlineExpressionBox(entities.getOAndD(C.arc.from,C.arc.to),C.arc,Y,T)}function createLifeLines(C,T,$,V){return $<gChart.arcRowHeight&&($=gChart.arcRowHeight),C.map(Y=>{const ee=createLine({xFrom:entities.getX(Y.name),yFrom:0-$/2+(V||0),xTo:entities.getX(Y.name),yTo:$/2+(V||0)},{class:T});return Y.linecolor&&ee.setAttribute("style",`stroke:${Y.linecolor};`),ee})}function createSelfRefArc(C,T,$,V,Y,ee){const te=2*(gChart.arcRowHeight/5),J=entities.getDims().interEntitySpacing/2;let ie={};const K=`arc ${getAggregateClass(C)} ${getClass(C)}`;if(V){ie=createGroup();const re=createUTurn({x:T,y:Y,width:J-2*constants.LINE_WIDTH,height:te},Y+$+te-2*constants.LINE_WIDTH,{class:K,dontHitHome:C!=="::",lineWidth:constants.LINE_WIDTH}),ne=createUTurn({x:T,y:Y,width:J,height:te},Y+$+te-constants.LINE_WIDTH,{lineWidth:constants.LINE_WIDTH}),le=createUTurn({x:T,y:Y,width:J,height:te},Y+$+te,{class:K,dontHitHome:C!=="::",lineWidth:constants.LINE_WIDTH});ee&&re.setAttribute("style",`stroke:${ee}`),getAttributes(get$1(),C,ee,T,T).forEach(ae=>{ne.setAttribute(ae.name,ae.value)}),ne.setAttribute("style","stroke:transparent;"),ee&&le.setAttribute("style",`stroke:${ee}`),ie.appendChild(re),ie.appendChild(le),ie.appendChild(ne),ie.setAttribute("class",K)}else ie=createUTurn({x:T,y:Y,width:J,height:te},Y+$+te,{class:K,dontHitHome:C==="-x",lineWidth:constants.LINE_WIDTH}),getAttributes(get$1(),C,ee,T,T).forEach(re=>{ie.setAttribute(re.name,re.value)});return ie}function renderEmptyArc(C,T){return C.kind==="---"?createComment(C,entities.getOAndD(C.from,C.to),T):createLifeLinesText(C,entities.getOAndD(C.from,C.to),T)}function determineYToAbsolute(C,T,$){let V=get(C).y+T;if($){const Y=Math.floor($),ee=$-Y,te=get(C).realRowNumber;V=getByRealRowNumber(te+Y).y+ee*(getByRealRowNumber(te+Y+1).y-getByRealRowNumber(te+Y).y)}return V}function determineDirectionClass(C){return C==="<:>"?"bidi ":C==="::"?"nodi ":""}function createArc(C,T,$,V,Y){const ee=createGroup();let te="arc ";te+=determineDirectionClass(C.kind),te+=`${getAggregateClass(C.kind)} ${getClass(C.kind)}`;const J=[":>","::","<:>"].includes(C.kind),ie=determineYToAbsolute(V,gChart.arcGradient,C.arcskip);if($=determineArcXTo(C.kind,T,$),T===$){ee.appendChild(createSelfRefArc(C.kind,T,ie-get(V).y-gChart.arcGradient,J,get(V).y,C.linecolor));const K=2*entities.getDims().interEntitySpacing/3;ee.appendChild(createLabel(C,{x:T+1.5*constants.LINE_WIDTH-K/2,y:get(V).y-gChart.arcRowHeight/5-constants.LINE_WIDTH/2,width:K},Object.assign({alignLeft:!0,alignAbove:!0,ownBackground:!0},cloneDeep$1(Y))))}else{const K=createLine({xFrom:T,yFrom:get(V).y,xTo:$,yTo:ie},{class:te,doubleLine:J});getAttributes(get$1(),C.kind,C.linecolor,T,$).forEach(re=>{K.setAttribute(re.name,re.value)}),ee.appendChild(K),ee.appendChild(createLabel(C,{x:T,y:get(V).y+(ie-get(V).y)/2,width:$-T},Object.assign({alignAround:!0,alignAbove:gChart.regularArcTextVerticalAlignment==="above",ownBackground:!0},cloneDeep$1(Y))))}return ee}function createLifeLinesText(C,T,$){let V=0,Y=gChart.arcEndX;return C.from&&C.to&&(V=T.from,Y=T.to-T.from),createLabel(C,{x:V,y:$,width:Y},{ownBackground:!0,wordwraparcs:gChart.wordWrapArcs})}function createComment(C,T,$){let V=0,Y=gChart.arcEndX,ee="comment";const te=createGroup();if(C.from&&C.to){const ie=gChart.maxDepth*1*constants.LINE_WIDTH,K=(gChart.maxDepth-C.depth)*2*constants.LINE_WIDTH;V=T.from-(entities.getDims().interEntitySpacing+2*constants.LINE_WIDTH)/2-(K-ie),Y=T.to+(entities.getDims().interEntitySpacing+2*constants.LINE_WIDTH)/2+(K-ie),ee="inline_expression_divider"}const J=createLine({xFrom:V,yFrom:$,xTo:Y,yTo:$},{class:ee});return te.appendChild(J),te.appendChild(createLifeLinesText(C,T,$)),C.linecolor&&J.setAttribute("style",`stroke:${C.linecolor};`),te}function createBox(C,T,$,V){const Y=gChart.maxDepth*2*constants.LINE_WIDTH,ee=C.to-C.from+entities.getDims().interEntitySpacing-2*constants.LINE_WIDTH-Y,te=C.from-(entities.getDims().interEntitySpacing-2*constants.LINE_WIDTH-Y)/2,J=createGroup();let ie;const K=createLabel(T,{x:te,y:$,width:ee},V),re=getBBox(K),ne=Math.max(re.height+2*constants.LINE_WIDTH,gChart.arcRowHeight-2*constants.LINE_WIDTH),le={width:ee,height:ne,x:te,y:$-ne/2};switch(T.kind){case"rbox":ie=createRBox(le,{class:"box rbox",color:T.linecolor,bgColor:T.textbgcolor});break;case"abox":ie=createABox(le,{class:"box abox",color:T.linecolor,bgColor:T.textbgcolor});break;case"note":ie=createNote(le,{class:"box note",color:T.linecolor,bgColor:T.textbgcolor,lineWidth:constants.LINE_WIDTH});break;default:ie=createRect(le,{class:"box",color:T.linecolor,bgColor:T.textbgcolor});break}return J.appendChild(ie),J.appendChild(K),J}const clean=(C,T)=>{gChart.document=init(T),init$1(gChart.document),removeRenderedSVGFromElement(C)};function render(C,T,$,V){const Y=Object.freeze(flatten$2(C)),ee=getParentElement(T,$);return setPrefix($),renderASTPre(Y,T,ee,V||{}),renderASTMain(Y),renderASTPost(Y),webkitNamespaceBugWorkaround(ee.innerHTML)}const renderast=Object.freeze(Object.defineProperty({__proto__:null,clean,render},Symbol.toStringTag,{value:"Module"})),DEFAULT_PARSER=mscgenparser$1,gLang2Parser=Object.freeze({mscgen:mscgenparser$1,xu:xuparser$1,msgenny:msgennyparser$1}),getParser=C=>["ast","json"].includes(C)?JSON:gLang2Parser[C]||DEFAULT_PARSER,getGraphicsRenderer=()=>renderast;function renderMsc(C,T,$){renderMsc$1(C,T||{},$,getParser,getGraphicsRenderer)}const SequenceChart=({msc:C,onClick:T})=>{const $=reactExports.useRef(lodashExports.uniqueId("msc_sequence_diagram_")),V=ee=>{ee.preventDefault();const te=ee.composedPath();for(const J in te){const ie=te[J];if("getAttribute"in ie&&ie.getAttribute("xlink:title")){const K=ie.getAttribute("xlink:title");K&&T(K);break}}};reactExports.useEffect(()=>(C&&(document.getElementById($.current).innerHTML="",renderMsc(C,{additionalTemplate:"fountainpen",mirrorEntitiesOnBottom:!0,elementId:$.current,styleAdditions:"backfround: red"},Y)),()=>{document.getElementById($.current)?.removeEventListener("click",V)}),[C]);function Y(ee,te){if(ee){console.error(ee);return}if(te){document.getElementById($.current)?.addEventListener("click",V);return}console.log("Wat! Error nor success?")}return jsx("div",{id:$.current})},Article=({children:C,classname:T=""})=>{const $=useCodeStyle();return jsx("div",{className:`px-8 pb-8 prose prose-slate overflow-auto max-w-[45vw] dark:prose-invert !select-text no-scrollbar ${T}`,children:jsx(MDXProvider,{components:{a:V=>jsx("a",{target:"_blank",...V,className:"italic"}),pre(V){return jsx("div",{className:"not-prose",css:$,children:jsxs("figure",{css:codeBlockStyle,children:[jsxs("figcaption",{children:[jsx("span",{css:codeBtnStyle}),jsx("span",{css:codeBtnStyle}),jsx("span",{css:codeBtnStyle}),jsx("span",{css:codeFilename,children:V.filename??V?.children?.props?.className?.split("-").at(-1)})]}),jsx("pre",{...V,className:"!bg-[#002b36]",css:css$1({code:{fontFamily:codeFontFamily}},"","")})]})})},img:V=>jsx(Image$1,{src:V.src}),mermaid:Mermaid,Mermaid,Codesandbox:V=>jsx(Codesandbox,{...V}),Codepen:V=>jsx(Codepen,{...V}),SequenceChart:V=>jsx(SequenceChart,{...V})},children:C})})},blogs=Object.assign({"../blog/content/angular/directive.md":()=>__vitePreload(()=>import("./directive-9d875710.js"),["assets/directive-9d875710.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/angular/html-in-service.md":()=>__vitePreload(()=>import("./html-in-service-a15f4d04.js"),["assets/html-in-service-a15f4d04.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/angular/http.md":()=>__vitePreload(()=>import("./http-e2ce317d.js"),["assets/http-e2ce317d.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/angular/module.md":()=>__vitePreload(()=>import("./module-7d0abc34.js"),["assets/module-7d0abc34.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/angular/monaco-editor.md":()=>__vitePreload(()=>import("./monaco-editor-cf9683d0.js"),["assets/monaco-editor-cf9683d0.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/angular/pipe.md":()=>__vitePreload(()=>import("./pipe-0952dcd8.js"),["assets/pipe-0952dcd8.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/angular/project.md":()=>__vitePreload(()=>import("./project-0e194659.js"),["assets/project-0e194659.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/angular/router.md":()=>__vitePreload(()=>import("./router-8eca9dd6.js"),["assets/router-8eca9dd6.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/angular/rxjs.md":()=>__vitePreload(()=>import("./rxjs-9b1b7b0b.js"),["assets/rxjs-9b1b7b0b.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/angular/standalone.md":()=>__vitePreload(()=>import("./standalone-91d2bbe1.js"),["assets/standalone-91d2bbe1.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/javascript/debounce-throttle.md":()=>__vitePreload(()=>import("./debounce-throttle-10e695c4.js"),["assets/debounce-throttle-10e695c4.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/javascript/decorate.md":()=>__vitePreload(()=>import("./decorate-45e04f15.js"),["assets/decorate-45e04f15.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/javascript/defineProperty-proxy.md":()=>__vitePreload(()=>import("./defineProperty-proxy-77afa115.js"),["assets/defineProperty-proxy-77afa115.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/javascript/design-patterns-singleton.md":()=>__vitePreload(()=>import("./design-patterns-singleton-441e5339.js"),["assets/design-patterns-singleton-441e5339.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/javascript/design-patterns-strategy.md":()=>__vitePreload(()=>import("./design-patterns-strategy-255615f3.js"),["assets/design-patterns-strategy-255615f3.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/javascript/design-patterns-subscriber.md":()=>__vitePreload(()=>import("./design-patterns-subscriber-176a57ba.js"),["assets/design-patterns-subscriber-176a57ba.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/javascript/file-upload.md":()=>__vitePreload(()=>import("./file-upload-a814f4e9.js"),["assets/file-upload-a814f4e9.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/javascript/how-equality-operator-work.md":()=>__vitePreload(()=>import("./how-equality-operator-work-548ec29a.js"),["assets/how-equality-operator-work-548ec29a.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/javascript/operator-chaining-nullish-coalescing-operator.md":()=>__vitePreload(()=>import("./operator-chaining-nullish-coalescing-operator-19374c94.js"),["assets/operator-chaining-nullish-coalescing-operator-19374c94.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/javascript/prototype.md":()=>__vitePreload(()=>import("./prototype-de068cdf.js"),["assets/prototype-de068cdf.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/javascript/pwa.md":()=>__vitePreload(()=>import("./pwa-34c66d7c.js"),["assets/pwa-34c66d7c.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/javascript/this.md":()=>__vitePreload(()=>import("./this-5c1325d8.js"),["assets/this-5c1325d8.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/network/http-referer.md":()=>__vitePreload(()=>import("./http-referer-1ffbcd3e.js"),["assets/http-referer-1ffbcd3e.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/node/express.md":()=>__vitePreload(()=>import("./express-52573b05.js"),["assets/express-52573b05.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/others/cors.md":()=>__vitePreload(()=>import("./cors-cc1e822d.js"),["assets/cors-cc1e822d.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/others/git-branch-manager.md":()=>__vitePreload(()=>import("./git-branch-manager-3a9dfd59.js"),["assets/git-branch-manager-3a9dfd59.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/others/github-actions.md":()=>__vitePreload(()=>import("./github-actions-d4b5e3bd.js"),["assets/github-actions-d4b5e3bd.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/others/single-page-app-github-refresh-404.md":()=>__vitePreload(()=>import("./single-page-app-github-refresh-404-7181df80.js"),["assets/single-page-app-github-refresh-404-7181df80.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/basic.mdx":()=>__vitePreload(()=>import("./basic-6fdc276a.js"),["assets/basic-6fdc276a.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/cra-config.md":()=>__vitePreload(()=>import("./cra-config-24723784.js"),["assets/cra-config-24723784.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/css.md":()=>__vitePreload(()=>import("./css-089a9126.js"),["assets/css-089a9126.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/diy.md":()=>__vitePreload(()=>import("./diy-228d12f5.js"),["assets/diy-228d12f5.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/hooks.md":()=>__vitePreload(()=>import("./hooks-0966be72.js"),["assets/hooks-0966be72.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/jsx.mdx":()=>__vitePreload(()=>import("./jsx-356e07a7.js"),["assets/jsx-356e07a7.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/lifecycle.md":()=>__vitePreload(()=>import("./lifecycle-db1b7ba2.js"),["assets/lifecycle-db1b7ba2.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/mobx.md":()=>__vitePreload(()=>import("./mobx-11bd3c78.js"),["assets/mobx-11bd3c78.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/props-state.md":()=>__vitePreload(()=>import("./props-state-c733db19.js"),["assets/props-state-c733db19.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/react-library.md":()=>__vitePreload(()=>import("./react-library-41d09367.js"),["assets/react-library-41d09367.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/redux-basic.mdx":()=>__vitePreload(()=>import("./redux-basic-906e53c8.js"),["assets/redux-basic-906e53c8.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/redux-middleware.mdx":()=>__vitePreload(()=>import("./redux-middleware-082923bf.js"),["assets/redux-middleware-082923bf.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/redux-toolkit.mdx":()=>__vitePreload(()=>import("./redux-toolkit-b7d00f85.js"),["assets/redux-toolkit-b7d00f85.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/router.md":()=>__vitePreload(()=>import("./router-f7454e2d.js"),["assets/router-f7454e2d.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/react/ssr.md":()=>__vitePreload(()=>import("./ssr-38513200.js"),["assets/ssr-38513200.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/typescript/advanced-type.md":()=>__vitePreload(()=>import("./advanced-type-03f02f58.js"),["assets/advanced-type-03f02f58.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/typescript/data-types.md":()=>__vitePreload(()=>import("./data-types-22b1a365.js"),["assets/data-types-22b1a365.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../blog/content/typescript/keywords.md":()=>__vitePreload(()=>import("./keywords-cce10d24.js"),["assets/keywords-cce10d24.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"])}),BlogRoutes={path:"rick/blog",children:Object.entries(blogs).map(([C,T])=>({path:C.split("../blog/content/").at(-1).split(".").at(0),async lazy(){const{default:$,frontmatter:V}=await T();return{Component(){return jsx("div",{children:jsxs(Article,{children:[jsx("h1",{children:V?.title}),jsx($,{})]})})}}}}))},height="95vh",width="65vw",bottomShow=keyframes`
   0% {
      transform: translateY(100px);
      opacity: 0;
    }

    100% {
      transform: translateY(0px);
      opacity: 1;
    }
`,animationDelay=css$1("animation:",bottomShow," 0.8s 0s both;",""),containerStyle=css$1("background-color:var(--color-primary-bg);min-width:",width,";max-width:",width,";height:",height,";display:flex;overflow:hidden;width:100%;font-size:15px;font-weight:500;box-shadow:0 20px 50px rgba(0, 0, 0, 0.3);position:relative;opacity:",containerOpacity,";",""),sidebarStyle={name:"91qfw0",styles:"width:220px;height:100%;padding:30px;display:flex;flex-direction:column;flex-shrink:0;transition-duration:0.2s;overflow-y:auto;overflow-x:hidden"},logoStyle={name:"hxkmqk",styles:"text-decoration:none;color:var(--color-primary-text);font-size:19px;font-weight:600;line-height:34px;position:sticky;text-transform:uppercase;top:0;&:before{content:'';position:absolute;top:-30px;left:0;background:var(--color-primary-bg);width:200px;height:70px;z-index:-1;}"},sideMenuStyle={name:"4zbmsx",styles:"display:flex;flex-direction:column;a{display:flex;align-items:center;text-decoration:none;color:var(--color-primary-text);&+a{margin-top:26px;}}svg{width:30px;padding:2px;border-radius:10px;background-color:var(--color-secondary-bg);flex-shrink:0;margin-right:16px;}"},sideTitleStyle={name:"1gg3m9m",styles:"font-size:12px;letter-spacing:0.07em;margin-bottom:24px"},sideWrapperStyle={name:"bp7z2z",styles:"border-bottom:1px solid var(--color-primary-bg-hover);padding:36px 0;width:145px;&:last-child{border-bottom:none;}"},headerStyle={name:"1sn17kz",styles:"display:flex;align-items:center;flex-shrink:0;padding:30px"},searchBarStyle={name:"1llr9it",styles:`height:34px;display:flex;width:100%;max-width:450px;input{width:100%;height:100%;border:none;outline:none;background-color:var(--color-secondary-bg);border-radius:8px;font-size:14px;font-weight:500;padding:0 40px 0 16px;box-shadow:0 0 0 2px rgba(134, 140, 160, 0.02);background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 56.966 56.966' fill='%23717790c7'%3e%3cpath d='M55.146 51.887L41.588 37.786A22.926 22.926 0 0046.984 23c0-12.682-10.318-23-23-23s-23 10.318-23 23 10.318 23 23 23c4.761 0 9.298-1.436 13.177-4.162l13.661 14.208c.571.593 1.339.92 2.162.92.779 0 1.518-.297 2.079-.837a3.004 3.004 0 00.083-4.242zM23.984 6c9.374 0 17 7.626 17 17s-7.626 17-17 17-17-7.626-17-17 7.626-17 17-17z'/%3e%3c/svg%3e");background-size:14px;background-repeat:no-repeat;background-position:96%;}`},userStyle={name:"betlh9",styles:"display:flex;justify-content:center;align-items:center;align-items:center;padding-left:20px;flex-shrink:0;margin-left:auto;svg{flex-shrink:0;@media screen and (max-width: 575px){display:none;}}"},userImgStyle={name:"1v14chn",styles:"width:30px;height:30px;flex-shrink:0;object-fit:cover;border-radius:50%"},userNameStyle={name:"16txnz8",styles:"font-size:14px;margin:0 6px 0 12px;@media screen and (max-width: 575px){display:none;}"},mainContainerStyle={name:"giev3i",styles:"padding:0 30px 30px;overflow:auto;::-webkit-scrollbar{display:none;}::-webkit-scrollbar-thumb{display:none;}"},mainHeaderStyle={name:"xko2ag",styles:"background:var(--color-primary-bg);font-size:30px;font-weight:700;padding-bottom:20px;position:sticky;top:0;left:0"};async function genMetaData(C){const T={};for(const $ in C){const V=$.split("/"),Y={path:`/one-piece-react/${V[2]}/${V[3]}`,component:C[$],name:V[3],parent:V[2]};T[Y.parent]||(T[Y.parent]=[]),T[Y.parent].push(Y)}return T}const modules=Object.assign({"../modules/chart/sequence/index.tsx":()=>__vitePreload(()=>import("./index-373f969e.js"),["assets/index-373f969e.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../modules/demo/calculator/index.tsx":()=>__vitePreload(()=>import("./index-75767263.js"),["assets/index-75767263.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../modules/demo/climate-dashboard/index.tsx":()=>__vitePreload(()=>import("./index-0c04b271.js"),["assets/index-0c04b271.js","assets/index-c0800d10.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../modules/demo/keyborad/index.tsx":()=>__vitePreload(()=>import("./index-1ac828ef.js"),["assets/index-1ac828ef.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../modules/demo/logo-wall/index.tsx":()=>__vitePreload(()=>import("./index-b4ef0c67.js"),["assets/index-b4ef0c67.js","assets/index-c0800d10.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../modules/demo/navigation/index.tsx":()=>__vitePreload(()=>import("./index-c6d21b5f.js"),["assets/index-c6d21b5f.js","assets/lodash-6114c6d4.js","assets/antd-4d5318cf.js","assets/chance-d5bce0ad.js"]),"../modules/demo/puppy/index.tsx":()=>__vitePreload(()=>import("./index-c899c55e.js"),["assets/index-c899c55e.js","assets/index-c0800d10.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../modules/demo/switch/index.tsx":()=>__vitePreload(()=>import("./index-921482b6.js"),["assets/index-921482b6.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../modules/demo/ticket/index.tsx":()=>__vitePreload(()=>import("./index-3ae03b91.js"),["assets/index-3ae03b91.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../modules/preview/pdf/index.tsx":()=>__vitePreload(()=>Promise.resolve().then(()=>index),void 0),"../modules/rick/blog/index.tsx":()=>__vitePreload(()=>import("./index-2992a3a9.js"),["assets/index-2992a3a9.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../modules/rick/memorial-day/index.tsx":()=>__vitePreload(()=>import("./index-e1367778.js"),["assets/index-e1367778.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/chance-d5bce0ad.js"]),"../modules/rick/music/index.tsx":()=>__vitePreload(()=>import("./index-d8956094.js"),["assets/index-d8956094.js","assets/antd-4d5318cf.js","assets/lodash-6114c6d4.js","assets/vue-bc7fc3c2.js","assets/chance-d5bce0ad.js","assets/index-11bd7e0d.css"])}),metaData=await genMetaData(modules),genRoutes=C=>lodashExports.first(Object.entries(lodashExports.pick(metaData,C))?.map(([T,$])=>({path:T,children:$.map(V=>({path:V.name,async lazy(){const Y=(await V.component()).default;return{Component(){const ee=useOutletContext();return jsxs("div",{children:[jsx("div",{css:mainHeaderStyle,children:lodashExports.upperFirst(ee)}),jsx(Y,{})]})}}}}))})))??[],metaData$1=Object.freeze(Object.defineProperty({__proto__:null,genMetaData,genRoutes,metaData},Symbol.toStringTag,{value:"Module"})),CommandModalContainer={name:"1dg5z6g",styles:"padding-top:1rem;padding-bottom:0.5rem"},CommandModalInputStyle={name:"gi2ma1",styles:"background-color:transparent;border:none;outline:none;color:#e5e5e5;width:100%;font-size:16px;line-height:1;padding:16px;margin-left:1rem;margin-right:1rem"},CommandModalInputDividerWrapperStyle={name:"1md7wsk",styles:"padding-left:16px;padding-right:16px;margin-bottom:4px"},CommandModalInputDividerStyle={name:"b3w6xu",styles:"backgroundcolor:#e5e5e514;height:1px;border:none"},CommandItemTitleStyle={name:"55a4bm",styles:"color:rgb(128, 128, 128);font-size:12px;font-weight:700;padding-top:8px;padding-bottom:8px;user-select:none;padding-left:16px;margin-left:1rem;text-transform:uppercase"},CommandListStyle={name:"12b1smm",styles:"height:24rem;max-height:24rem;overflow-y:scroll"},CommandItemStyle=C=>css$1({color:"var(--color-primary-text)",fontSize:"13px",fontFamily:C?.type==="font"?C.title:"inherit",height:"36px",paddingTop:"8px",paddingBottom:"8px",userSelect:"none",paddingLeft:"24px",cursor:"pointer",marginLeft:"1rem",marginRight:"1rem",textTransform:"uppercase","&.hover":{backgroundColor:"var(--color-primary-bg-hover)",borderRadius:"4px"}},"",""),commandItemCls="command-item",commandHoverCls="hover",fontFamily=["Odibee Sans","Roboto","Fira Code"],CmdModal=()=>{const{onHidden:C,open:T}=useModalOpen(OpenTypeConfig.CommandOpen),$=reactExports.useRef(null),[V,Y]=reactExports.useState([]),[ee,te]=reactExports.useState([]),J=useNavigate(),[ie,K]=reactExports.useState(""),{toggleThemeMode:re,toggleThemeFontFamily:ne}=useTheme();reactExports.useEffect(()=>{(()=>{const se=[];Object.entries(metaData).reverse().forEach(([ue,de])=>{se.push({type:ue,mode:"title",title:lodashExports.upperCase(ue)}),de.forEach(ce=>{se.push({type:ue,mode:"item",title:lodashExports.upperCase(ce.name),meta:ce})})}),se.push({type:"blog",mode:"title",title:"blog"}),BlogRoutes.children?.forEach(ue=>{se.push({type:"blog",mode:"item",title:ue.path.split("/").join(" / "),meta:{path:`/one-piece-react/rick/blog/${ue.path}`,name:"",parent:"Blog"}})}),se.push({type:"theme",mode:"title",title:"theme"}),se.push({type:"theme",mode:"item",title:"dark"}),se.push({type:"theme",mode:"item",title:"light"}),se.push({type:"font",mode:"title",title:"font"}),fontFamily.forEach(ue=>{se.push({type:"font",mode:"item",title:ue})}),Y(se),te(se)})()},[]),reactExports.useEffect(()=>{const ae=se=>{if([Hotkey.ArrowUp,Hotkey.ArrowDown,Hotkey.Enter].includes(se.key)){const ue=document.querySelector(`.${commandItemCls}[data-type=item].${commandHoverCls}`),de=document.querySelectorAll(`.${commandItemCls}[data-type=item]`);let ce;if(ue){if(se.key===Hotkey.Enter){ue.click();return}const be=Array.from(de).findIndex(Le=>Le.classList.contains(commandHoverCls));se.key===Hotkey.ArrowUp&&be!==0&&(ue?.classList.remove(commandHoverCls),ce=de[be-1]),se.key===Hotkey.ArrowDown&&be!==de.length-1&&(ue?.classList.remove(commandHoverCls),ce=de[be+1])}else ce=se.key===Hotkey.ArrowDown?lodashExports.first(de):lodashExports.last(de);ce&&(ce.classList.add(commandHoverCls),ce.scrollIntoView({behavior:"smooth",block:"center"}))}};return T?window.addEventListener("keydown",ae):window.removeEventListener("keydown",ae),()=>{window.removeEventListener("keydown",ae)}},[T]);const le=ae=>{switch(ae.type){case"theme":{re(lodashExports.lowerCase(ae.title));break}case"font":{ne(lodashExports.lowerCase(ae.title));break}default:ae.meta?.path&&(J(ae.meta.path),C())}};return reactExports.useEffect(()=>{T&&setTimeout(()=>{$.current?.focus()},300)},[T]),jsx(Modal,{title:null,footer:null,open:T,bodyStyle:{padding:0},closable:!1,maskClosable:!0,mask:!1,centered:!0,onCancel:()=>{C(),te(V),K("")},children:jsxs("div",{css:CommandModalContainer,children:[jsx("input",{value:ie,placeholder:"Type a command or search",css:CommandModalInputStyle,ref:$,onChange:ae=>{const se=V.filter(ue=>lodashExports.toLower(ue.title).includes(lodashExports.toLower(ae.target.value))||ue.mode==="title"&&V.some(de=>ue.type===de.type&&lodashExports.toLower(de.title).includes(lodashExports.toLower(ae.target.value))));se.some(ue=>ue.mode==="item")&&(K(ae.target.value),te(se))}}),jsx("div",{css:CommandModalInputDividerWrapperStyle,children:jsx("hr",{css:CommandModalInputDividerStyle})}),jsx("div",{css:CommandListStyle,onMouseMove:ae=>{const se=ae.target;se.dataset.type==="item"&&(se.parentNode?.childNodes.forEach(ue=>{ue.classList.remove(commandHoverCls)}),se.classList.add(commandHoverCls))},children:ee.map(ae=>jsx("div",{"data-type":ae.mode,className:commandItemCls,css:ae.mode==="title"?CommandItemTitleStyle:CommandItemStyle(ae),onClick:()=>{le?.(ae)},children:ae.title},`${ae.type}-${ae.title}`))})]})})},doc=document,win=window,docEle=doc.documentElement,createElement=doc.createElement.bind(doc),div=createElement("div"),table=createElement("table"),tbody=createElement("tbody"),tr=createElement("tr"),{isArray,prototype:ArrayPrototype}=Array,{concat,filter,indexOf,map,push,slice,some,splice}=ArrayPrototype,idRe=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,classRe=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,htmlRe=/<.+>/,tagRe=/^\w+$/;function find(C,T){const $=isDocumentFragment(T);return!C||!$&&!isDocument(T)&&!isElement(T)?[]:!$&&classRe.test(C)?T.getElementsByClassName(C.slice(1).replace(/\\/g,"")):!$&&tagRe.test(C)?T.getElementsByTagName(C):T.querySelectorAll(C)}class Cash{constructor(T,$){if(!T)return;if(isCash(T))return T;let V=T;if(isString(T)){const Y=$||doc;if(V=idRe.test(T)&&isDocument(Y)?Y.getElementById(T.slice(1).replace(/\\/g,"")):htmlRe.test(T)?parseHTML(T):isCash(Y)?Y.find(T):isString(Y)?cash(Y).find(T):find(T,Y),!V)return}else if(isFunction(T))return this.ready(T);(V.nodeType||V===win)&&(V=[V]),this.length=V.length;for(let Y=0,ee=this.length;Y<ee;Y++)this[Y]=V[Y]}init(T,$){return new Cash(T,$)}}const fn=Cash.prototype,cash=fn.init;cash.fn=cash.prototype=fn;fn.length=0;fn.splice=splice;typeof Symbol=="function"&&(fn[Symbol.iterator]=ArrayPrototype[Symbol.iterator]);function isCash(C){return C instanceof Cash}function isWindow(C){return!!C&&C===C.window}function isDocument(C){return!!C&&C.nodeType===9}function isDocumentFragment(C){return!!C&&C.nodeType===11}function isElement(C){return!!C&&C.nodeType===1}function isText(C){return!!C&&C.nodeType===3}function isBoolean(C){return typeof C=="boolean"}function isFunction(C){return typeof C=="function"}function isString(C){return typeof C=="string"}function isUndefined(C){return C===void 0}function isNull(C){return C===null}function isNumeric(C){return!isNaN(parseFloat(C))&&isFinite(C)}function isPlainObject(C){if(typeof C!="object"||C===null)return!1;const T=Object.getPrototypeOf(C);return T===null||T===Object.prototype}cash.isWindow=isWindow;cash.isFunction=isFunction;cash.isArray=isArray;cash.isNumeric=isNumeric;cash.isPlainObject=isPlainObject;function each(C,T,$){if($){let V=C.length;for(;V--;)if(T.call(C[V],V,C[V])===!1)return C}else if(isPlainObject(C)){const V=Object.keys(C);for(let Y=0,ee=V.length;Y<ee;Y++){const te=V[Y];if(T.call(C[te],te,C[te])===!1)return C}}else for(let V=0,Y=C.length;V<Y;V++)if(T.call(C[V],V,C[V])===!1)return C;return C}cash.each=each;fn.each=function(C){return each(this,C)};fn.empty=function(){return this.each((C,T)=>{for(;T.firstChild;)T.removeChild(T.firstChild)})};function extend(...C){const T=isBoolean(C[0])?C.shift():!1,$=C.shift(),V=C.length;if(!$)return{};if(!V)return extend(T,cash,$);for(let Y=0;Y<V;Y++){const ee=C[Y];for(const te in ee)T&&(isArray(ee[te])||isPlainObject(ee[te]))?((!$[te]||$[te].constructor!==ee[te].constructor)&&($[te]=new ee[te].constructor),extend(T,$[te],ee[te])):$[te]=ee[te]}return $}cash.extend=extend;fn.extend=function(C){return extend(fn,C)};const splitValuesRe=/\S+/g;function getSplitValues(C){return isString(C)?C.match(splitValuesRe)||[]:[]}fn.toggleClass=function(C,T){const $=getSplitValues(C),V=!isUndefined(T);return this.each((Y,ee)=>{isElement(ee)&&each($,(te,J)=>{V?T?ee.classList.add(J):ee.classList.remove(J):ee.classList.toggle(J)})})};fn.addClass=function(C){return this.toggleClass(C,!0)};fn.removeAttr=function(C){const T=getSplitValues(C);return this.each(($,V)=>{isElement(V)&&each(T,(Y,ee)=>{V.removeAttribute(ee)})})};function attr(C,T){if(C){if(isString(C)){if(arguments.length<2){if(!this[0]||!isElement(this[0]))return;const $=this[0].getAttribute(C);return isNull($)?void 0:$}return isUndefined(T)?this:isNull(T)?this.removeAttr(C):this.each(($,V)=>{isElement(V)&&V.setAttribute(C,T)})}for(const $ in C)this.attr($,C[$]);return this}}fn.attr=attr;fn.removeClass=function(C){return arguments.length?this.toggleClass(C,!1):this.attr("class","")};fn.hasClass=function(C){return!!C&&some.call(this,T=>isElement(T)&&T.classList.contains(C))};fn.get=function(C){return isUndefined(C)?slice.call(this):(C=Number(C),this[C<0?C+this.length:C])};fn.eq=function(C){return cash(this.get(C))};fn.first=function(){return this.eq(0)};fn.last=function(){return this.eq(-1)};function text(C){return isUndefined(C)?this.get().map(T=>isElement(T)||isText(T)?T.textContent:"").join(""):this.each((T,$)=>{isElement($)&&($.textContent=C)})}fn.text=text;function computeStyle(C,T,$){if(!isElement(C))return;const V=win.getComputedStyle(C,null);return $?V.getPropertyValue(T)||void 0:V[T]||C.style[T]}function computeStyleInt(C,T){return parseInt(computeStyle(C,T),10)||0}function getExtraSpace(C,T){return computeStyleInt(C,`border${T?"Left":"Top"}Width`)+computeStyleInt(C,`padding${T?"Left":"Top"}`)+computeStyleInt(C,`padding${T?"Right":"Bottom"}`)+computeStyleInt(C,`border${T?"Right":"Bottom"}Width`)}const defaultDisplay={};function getDefaultDisplay(C){if(defaultDisplay[C])return defaultDisplay[C];const T=createElement(C);doc.body.insertBefore(T,null);const $=computeStyle(T,"display");return doc.body.removeChild(T),defaultDisplay[C]=$!=="none"?$:"block"}function isHidden(C){return computeStyle(C,"display")==="none"}function matches(C,T){const $=C&&(C.matches||C.webkitMatchesSelector||C.msMatchesSelector);return!!$&&!!T&&$.call(C,T)}function getCompareFunction(C){return isString(C)?(T,$)=>matches($,C):isFunction(C)?C:isCash(C)?(T,$)=>C.is($):C?(T,$)=>$===C:()=>!1}fn.filter=function(C){const T=getCompareFunction(C);return cash(filter.call(this,($,V)=>T.call($,V,$)))};function filtered(C,T){return T?C.filter(T):C}fn.detach=function(C){return filtered(this,C).each((T,$)=>{$.parentNode&&$.parentNode.removeChild($)}),this};const fragmentRe=/^\s*<(\w+)[^>]*>/,singleTagRe=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,containers={"*":div,tr:tbody,td:tr,th:tr,thead:table,tbody:table,tfoot:table};function parseHTML(C){if(!isString(C))return[];if(singleTagRe.test(C))return[createElement(RegExp.$1)];const T=fragmentRe.test(C)&&RegExp.$1,$=containers[T]||containers["*"];return $.innerHTML=C,cash($.childNodes).detach().get()}cash.parseHTML=parseHTML;fn.has=function(C){const T=isString(C)?($,V)=>find(C,V).length:($,V)=>V.contains(C);return this.filter(T)};fn.not=function(C){const T=getCompareFunction(C);return this.filter(($,V)=>(!isString(C)||isElement(V))&&!T.call(V,$,V))};function pluck(C,T,$,V){const Y=[],ee=isFunction(T),te=V&&getCompareFunction(V);for(let J=0,ie=C.length;J<ie;J++)if(ee){const K=T(C[J]);K.length&&push.apply(Y,K)}else{let K=C[J][T];for(;K!=null&&!(V&&te(-1,K));)Y.push(K),K=$?K[T]:null}return Y}function getValue(C){return C.multiple&&C.options?pluck(filter.call(C.options,T=>T.selected&&!T.disabled&&!T.parentNode.disabled),"value"):C.value||""}function val(C){return arguments.length?this.each((T,$)=>{const V=$.multiple&&$.options;if(V||checkableRe.test($.type)){const Y=isArray(C)?map.call(C,String):isNull(C)?[]:[String(C)];V?each($.options,(ee,te)=>{te.selected=Y.indexOf(te.value)>=0},!0):$.checked=Y.indexOf($.value)>=0}else $.value=isUndefined(C)||isNull(C)?"":C}):this[0]&&getValue(this[0])}fn.val=val;fn.is=function(C){const T=getCompareFunction(C);return some.call(this,($,V)=>T.call($,V,$))};cash.guid=1;function unique(C){return C.length>1?filter.call(C,(T,$,V)=>indexOf.call(V,T)===$):C}cash.unique=unique;fn.add=function(C,T){return cash(unique(this.get().concat(cash(C,T).get())))};fn.children=function(C){return filtered(cash(unique(pluck(this,T=>T.children))),C)};fn.parent=function(C){return filtered(cash(unique(pluck(this,"parentNode"))),C)};fn.index=function(C){const T=C?cash(C)[0]:this[0],$=C?this:cash(T).parent().children();return indexOf.call($,T)};fn.closest=function(C){const T=this.filter(C);if(T.length)return T;const $=this.parent();return $.length?$.closest(C):T};fn.siblings=function(C){return filtered(cash(unique(pluck(this,T=>cash(T).parent().children().not(T)))),C)};fn.find=function(C){return cash(unique(pluck(this,T=>find(C,T))))};const HTMLCDATARe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,scriptTypeRe=/^$|^module$|\/(java|ecma)script/i,scriptAttributes=["type","src","nonce","noModule"];function evalScripts(C,T){const $=cash(C);$.filter("script").add($.find("script")).each((V,Y)=>{if(scriptTypeRe.test(Y.type)&&docEle.contains(Y)){const ee=createElement("script");ee.text=Y.textContent.replace(HTMLCDATARe,""),each(scriptAttributes,(te,J)=>{Y[J]&&(ee[J]=Y[J])}),T.head.insertBefore(ee,null),T.head.removeChild(ee)}})}function insertElement(C,T,$,V,Y){V?C.insertBefore(T,$?C.firstChild:null):C.nodeName==="HTML"?C.parentNode.replaceChild(T,C):C.parentNode.insertBefore(T,$?C:C.nextSibling),Y&&evalScripts(T,C.ownerDocument)}function insertSelectors(C,T,$,V,Y,ee,te,J){return each(C,(ie,K)=>{each(cash(K),(re,ne)=>{each(cash(T),(le,ae)=>{const se=$?ne:ae,ue=$?ae:ne,de=$?re:le;insertElement(se,de?ue.cloneNode(!0):ue,V,Y,!de)},J)},te)},ee),T}fn.after=function(){return insertSelectors(arguments,this,!1,!1,!1,!0,!0)};fn.append=function(){return insertSelectors(arguments,this,!1,!1,!0)};function html(C){if(!arguments.length)return this[0]&&this[0].innerHTML;if(isUndefined(C))return this;const T=/<script[\s>]/.test(C);return this.each(($,V)=>{isElement(V)&&(T?cash(V).empty().append(C):V.innerHTML=C)})}fn.html=html;fn.appendTo=function(C){return insertSelectors(arguments,this,!0,!1,!0)};fn.wrapInner=function(C){return this.each((T,$)=>{const V=cash($),Y=V.contents();Y.length?Y.wrapAll(C):V.append(C)})};fn.before=function(){return insertSelectors(arguments,this,!1,!0)};fn.wrapAll=function(C){let T=cash(C),$=T[0];for(;$.children.length;)$=$.firstElementChild;return this.first().before(T),this.appendTo($)};fn.wrap=function(C){return this.each((T,$)=>{const V=cash(C)[0];cash($).wrapAll(T?V.cloneNode(!0):V)})};fn.insertAfter=function(C){return insertSelectors(arguments,this,!0,!1,!1,!1,!1,!0)};fn.insertBefore=function(C){return insertSelectors(arguments,this,!0,!0)};fn.prepend=function(){return insertSelectors(arguments,this,!1,!0,!0,!0,!0)};fn.prependTo=function(C){return insertSelectors(arguments,this,!0,!0,!0,!1,!1,!0)};fn.contents=function(){return cash(unique(pluck(this,C=>C.tagName==="IFRAME"?[C.contentDocument]:C.tagName==="TEMPLATE"?C.content.childNodes:C.childNodes)))};fn.next=function(C,T,$){return filtered(cash(unique(pluck(this,"nextElementSibling",T,$))),C)};fn.nextAll=function(C){return this.next(C,!0)};fn.nextUntil=function(C,T){return this.next(T,!0,C)};fn.parents=function(C,T){return filtered(cash(unique(pluck(this,"parentElement",!0,T))),C)};fn.parentsUntil=function(C,T){return this.parents(T,C)};fn.prev=function(C,T,$){return filtered(cash(unique(pluck(this,"previousElementSibling",T,$))),C)};fn.prevAll=function(C){return this.prev(C,!0)};fn.prevUntil=function(C,T){return this.prev(T,!0,C)};fn.map=function(C){return cash(concat.apply([],map.call(this,(T,$)=>C.call(T,$,T))))};fn.clone=function(){return this.map((C,T)=>T.cloneNode(!0))};fn.offsetParent=function(){return this.map((C,T)=>{let $=T.offsetParent;for(;$&&computeStyle($,"position")==="static";)$=$.offsetParent;return $||docEle})};fn.slice=function(C,T){return cash(slice.call(this,C,T))};const dashAlphaRe=/-([a-z])/g;function camelCase(C){return C.replace(dashAlphaRe,(T,$)=>$.toUpperCase())}fn.ready=function(C){const T=()=>setTimeout(C,0,cash);return doc.readyState!=="loading"?T():doc.addEventListener("DOMContentLoaded",T),this};fn.unwrap=function(){return this.parent().each((C,T)=>{if(T.tagName==="BODY")return;const $=cash(T);$.replaceWith($.children())}),this};fn.offset=function(){const C=this[0];if(!C)return;const T=C.getBoundingClientRect();return{top:T.top+win.pageYOffset,left:T.left+win.pageXOffset}};fn.position=function(){const C=this[0];if(!C)return;const T=computeStyle(C,"position")==="fixed",$=T?C.getBoundingClientRect():this.offset();if(!T){const V=C.ownerDocument;let Y=C.offsetParent||V.documentElement;for(;(Y===V.body||Y===V.documentElement)&&computeStyle(Y,"position")==="static";)Y=Y.parentNode;if(Y!==C&&isElement(Y)){const ee=cash(Y).offset();$.top-=ee.top+computeStyleInt(Y,"borderTopWidth"),$.left-=ee.left+computeStyleInt(Y,"borderLeftWidth")}}return{top:$.top-computeStyleInt(C,"marginTop"),left:$.left-computeStyleInt(C,"marginLeft")}};const propMap={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};fn.prop=function(C,T){if(C){if(isString(C))return C=propMap[C]||C,arguments.length<2?this[0]&&this[0][C]:this.each(($,V)=>{V[C]=T});for(const $ in C)this.prop($,C[$]);return this}};fn.removeProp=function(C){return this.each((T,$)=>{delete $[propMap[C]||C]})};const cssVariableRe=/^--/;function isCSSVariable(C){return cssVariableRe.test(C)}const prefixedProps={},{style}=div,vendorsPrefixes=["webkit","moz","ms"];function getPrefixedProp(C,T=isCSSVariable(C)){if(T)return C;if(!prefixedProps[C]){const $=camelCase(C),V=`${$[0].toUpperCase()}${$.slice(1)}`,Y=`${$} ${vendorsPrefixes.join(`${V} `)}${V}`.split(" ");each(Y,(ee,te)=>{if(te in style)return prefixedProps[C]=te,!1})}return prefixedProps[C]}const numericProps={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function getSuffixedValue(C,T,$=isCSSVariable(C)){return!$&&!numericProps[C]&&isNumeric(T)?`${T}px`:T}function css(C,T){if(isString(C)){const $=isCSSVariable(C);return C=getPrefixedProp(C,$),arguments.length<2?this[0]&&computeStyle(this[0],C,$):C?(T=getSuffixedValue(C,T,$),this.each((V,Y)=>{isElement(Y)&&($?Y.style.setProperty(C,T):Y.style[C]=T)})):this}for(const $ in C)this.css($,C[$]);return this}fn.css=css;function attempt(C,T){try{return C(T)}catch{return T}}const JSONStringRe=/^\s+|\s+$/;function getData(C,T){const $=C.dataset[T]||C.dataset[camelCase(T)];return JSONStringRe.test($)?$:attempt(JSON.parse,$)}function setData(C,T,$){$=attempt(JSON.stringify,$),C.dataset[camelCase(T)]=$}function data(C,T){if(!C){if(!this[0])return;const $={};for(const V in this[0].dataset)$[V]=getData(this[0],V);return $}if(isString(C))return arguments.length<2?this[0]&&getData(this[0],C):isUndefined(T)?this:this.each(($,V)=>{setData(V,C,T)});for(const $ in C)this.data($,C[$]);return this}fn.data=data;function getDocumentDimension(C,T){const $=C.documentElement;return Math.max(C.body[`scroll${T}`],$[`scroll${T}`],C.body[`offset${T}`],$[`offset${T}`],$[`client${T}`])}each([!0,!1],(C,T)=>{each(["Width","Height"],($,V)=>{const Y=`${T?"outer":"inner"}${V}`;fn[Y]=function(ee){if(this[0])return isWindow(this[0])?T?this[0][`inner${V}`]:this[0].document.documentElement[`client${V}`]:isDocument(this[0])?getDocumentDimension(this[0],V):this[0][`${T?"offset":"client"}${V}`]+(ee&&T?computeStyleInt(this[0],`margin${$?"Top":"Left"}`)+computeStyleInt(this[0],`margin${$?"Bottom":"Right"}`):0)}})});each(["Width","Height"],(C,T)=>{const $=T.toLowerCase();fn[$]=function(V){if(!this[0])return isUndefined(V)?void 0:this;if(!arguments.length)return isWindow(this[0])?this[0].document.documentElement[`client${T}`]:isDocument(this[0])?getDocumentDimension(this[0],T):this[0].getBoundingClientRect()[$]-getExtraSpace(this[0],!C);const Y=parseInt(V,10);return this.each((ee,te)=>{if(!isElement(te))return;const J=computeStyle(te,"boxSizing");te.style[$]=getSuffixedValue($,Y+(J==="border-box"?getExtraSpace(te,!C):0))})}});const displayProperty="___cd";fn.toggle=function(C){return this.each((T,$)=>{if(!isElement($))return;const V=isHidden($);(isUndefined(C)?V:C)?($.style.display=$[displayProperty]||"",isHidden($)&&($.style.display=getDefaultDisplay($.tagName))):V||($[displayProperty]=computeStyle($,"display"),$.style.display="none")})};fn.hide=function(){return this.toggle(!1)};fn.show=function(){return this.toggle(!0)};const eventsNamespace="___ce",eventsNamespacesSeparator=".",eventsFocus={focus:"focusin",blur:"focusout"},eventsHover={mouseenter:"mouseover",mouseleave:"mouseout"},eventsMouseRe=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function getEventNameBubbling(C){return eventsHover[C]||eventsFocus[C]||C}function parseEventName(C){const T=C.split(eventsNamespacesSeparator);return[T[0],T.slice(1).sort()]}fn.trigger=function(C,T){if(isString(C)){const[V,Y]=parseEventName(C),ee=getEventNameBubbling(V);if(!ee)return this;const te=eventsMouseRe.test(ee)?"MouseEvents":"HTMLEvents";C=doc.createEvent(te),C.initEvent(ee,!0,!0),C.namespace=Y.join(eventsNamespacesSeparator),C.___ot=V}C.___td=T;const $=C.___ot in eventsFocus;return this.each((V,Y)=>{$&&isFunction(Y[C.___ot])&&(Y[`___i${C.type}`]=!0,Y[C.___ot](),Y[`___i${C.type}`]=!1),Y.dispatchEvent(C)})};function getEventsCache(C){return C[eventsNamespace]=C[eventsNamespace]||{}}function addEvent(C,T,$,V,Y){const ee=getEventsCache(C);ee[T]=ee[T]||[],ee[T].push([$,V,Y]),C.addEventListener(T,Y)}function hasNamespaces(C,T){return!T||!some.call(T,$=>C.indexOf($)<0)}function removeEvent(C,T,$,V,Y){const ee=getEventsCache(C);if(T)ee[T]&&(ee[T]=ee[T].filter(([te,J,ie])=>{if(Y&&ie.guid!==Y.guid||!hasNamespaces(te,$)||V&&V!==J)return!0;C.removeEventListener(T,ie)}));else for(T in ee)removeEvent(C,T,$,V,Y)}fn.off=function(C,T,$){if(isUndefined(C))this.each((V,Y)=>{!isElement(Y)&&!isDocument(Y)&&!isWindow(Y)||removeEvent(Y)});else if(isString(C))isFunction(T)&&($=T,T=""),each(getSplitValues(C),(V,Y)=>{const[ee,te]=parseEventName(Y),J=getEventNameBubbling(ee);this.each((ie,K)=>{!isElement(K)&&!isDocument(K)&&!isWindow(K)||removeEvent(K,J,te,T,$)})});else for(const V in C)this.off(V,C[V]);return this};fn.remove=function(C){return filtered(this,C).detach().off(),this};fn.replaceWith=function(C){return this.before(C).remove()};fn.replaceAll=function(C){return cash(C).replaceWith(this),this};function on(C,T,$,V,Y){if(!isString(C)){for(const ee in C)this.on(ee,T,$,C[ee],Y);return this}return isString(T)||(isUndefined(T)||isNull(T)?T="":isUndefined($)?($=T,T=""):(V=$,$=T,T="")),isFunction(V)||(V=$,$=void 0),V?(each(getSplitValues(C),(ee,te)=>{const[J,ie]=parseEventName(te),K=getEventNameBubbling(J),re=J in eventsHover,ne=J in eventsFocus;K&&this.each((le,ae)=>{if(!isElement(ae)&&!isDocument(ae)&&!isWindow(ae))return;const se=function(ue){if(ue.target[`___i${ue.type}`])return ue.stopImmediatePropagation();if(ue.namespace&&!hasNamespaces(ie,ue.namespace.split(eventsNamespacesSeparator))||!T&&(ne&&(ue.target!==ae||ue.___ot===K)||re&&ue.relatedTarget&&ae.contains(ue.relatedTarget)))return;let de=ae;if(T){let be=ue.target;for(;!matches(be,T);)if(be===ae||(be=be.parentNode,!be))return;de=be}Object.defineProperty(ue,"currentTarget",{configurable:!0,get(){return de}}),Object.defineProperty(ue,"delegateTarget",{configurable:!0,get(){return ae}}),Object.defineProperty(ue,"data",{configurable:!0,get(){return $}});const ce=V.call(de,ue,ue.___td);Y&&removeEvent(ae,K,ie,T,se),ce===!1&&(ue.preventDefault(),ue.stopPropagation())};se.guid=V.guid=V.guid||cash.guid++,addEvent(ae,K,ie,T,se)})}),this):this}fn.on=on;function one(C,T,$,V){return this.on(C,T,$,V,!0)}fn.one=one;const queryEncodeCRLFRe=/\r?\n/g;function queryEncode(C,T){return`&${encodeURIComponent(C)}=${encodeURIComponent(T.replace(queryEncodeCRLFRe,`\r
`))}`}const skippableRe=/file|reset|submit|button|image/i,checkableRe=/radio|checkbox/i;fn.serialize=function(){let C="";return this.each((T,$)=>{each($.elements||[$],(V,Y)=>{if(Y.disabled||!Y.name||Y.tagName==="FIELDSET"||skippableRe.test(Y.type)||checkableRe.test(Y.type)&&!Y.checked)return;const ee=getValue(Y);if(!isUndefined(ee)){const te=isArray(ee)?ee:[ee];each(te,(J,ie)=>{C+=queryEncode(Y.name,ie)})}})}),C.slice(1)};const animation="",useShortKey=()=>{const{onToggle:C}=useModalOpen(OpenTypeConfig.CommandOpen);reactExports.useEffect(()=>{const T={commandModalV1:{hotkey:[Hotkey.Meta,Hotkey.S],fn:C},commandModalV2:{hotkey:[Hotkey.Meta,Hotkey.F],fn:C}},$=V=>{(V.metaKey&&lodashExports.toUpper(V.key)===Hotkey.S||V.metaKey&&lodashExports.toUpper(V.key)===Hotkey.F)&&V.preventDefault(),Object.entries(T).forEach(([Y,ee])=>{ee.hotkey.includes(Hotkey.Meta)&&lodashExports.toUpper(V.key)===lodashExports.toUpper(lodashExports.last(ee.hotkey))&&V.metaKey&&ee.fn(),ee.hotkey.includes(Hotkey.Ctrl)&&lodashExports.toUpper(V.key)===lodashExports.toUpper(lodashExports.last(ee.hotkey))&&V.ctrlKey&&ee.fn()})};return window.addEventListener("keydown",$),()=>{window.removeEventListener("keydown",$)}},[C])};function _inheritsLoose(C,T){C.prototype=Object.create(T.prototype),C.prototype.constructor=C,_setPrototypeOf$1(C,T)}function hasClass(C,T){return C.classList?!!T&&C.classList.contains(T):(" "+(C.className.baseVal||C.className)+" ").indexOf(" "+T+" ")!==-1}function addClass(C,T){C.classList?C.classList.add(T):hasClass(C,T)||(typeof C.className=="string"?C.className=C.className+" "+T:C.setAttribute("class",(C.className&&C.className.baseVal||"")+" "+T))}function replaceClassName(C,T){return C.replace(new RegExp("(^|\\s)"+T+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass$1(C,T){C.classList?C.classList.remove(T):typeof C.className=="string"?C.className=replaceClassName(C.className,T):C.setAttribute("class",replaceClassName(C.className&&C.className.baseVal||"",T))}const config={disabled:!1},TransitionGroupContext=React$1.createContext(null);var forceReflow=function C(T){return T.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(C){_inheritsLoose(T,C);function T(V,Y){var ee;ee=C.call(this,V,Y)||this;var te=Y,J=te&&!te.isMounting?V.enter:V.appear,ie;return ee.appearStatus=null,V.in?J?(ie=EXITED,ee.appearStatus=ENTERING):ie=ENTERED:V.unmountOnExit||V.mountOnEnter?ie=UNMOUNTED:ie=EXITED,ee.state={status:ie},ee.nextCallback=null,ee}T.getDerivedStateFromProps=function(Y,ee){var te=Y.in;return te&&ee.status===UNMOUNTED?{status:EXITED}:null};var $=T.prototype;return $.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},$.componentDidUpdate=function(Y){var ee=null;if(Y!==this.props){var te=this.state.status;this.props.in?te!==ENTERING&&te!==ENTERED&&(ee=ENTERING):(te===ENTERING||te===ENTERED)&&(ee=EXITING)}this.updateStatus(!1,ee)},$.componentWillUnmount=function(){this.cancelNextCallback()},$.getTimeouts=function(){var Y=this.props.timeout,ee,te,J;return ee=te=J=Y,Y!=null&&typeof Y!="number"&&(ee=Y.exit,te=Y.enter,J=Y.appear!==void 0?Y.appear:te),{exit:ee,enter:te,appear:J}},$.updateStatus=function(Y,ee){if(Y===void 0&&(Y=!1),ee!==null)if(this.cancelNextCallback(),ee===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var te=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);te&&forceReflow(te)}this.performEnter(Y)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},$.performEnter=function(Y){var ee=this,te=this.props.enter,J=this.context?this.context.isMounting:Y,ie=this.props.nodeRef?[J]:[ReactDOM.findDOMNode(this),J],K=ie[0],re=ie[1],ne=this.getTimeouts(),le=J?ne.appear:ne.enter;if(!Y&&!te||config.disabled){this.safeSetState({status:ENTERED},function(){ee.props.onEntered(K)});return}this.props.onEnter(K,re),this.safeSetState({status:ENTERING},function(){ee.props.onEntering(K,re),ee.onTransitionEnd(le,function(){ee.safeSetState({status:ENTERED},function(){ee.props.onEntered(K,re)})})})},$.performExit=function(){var Y=this,ee=this.props.exit,te=this.getTimeouts(),J=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!ee||config.disabled){this.safeSetState({status:EXITED},function(){Y.props.onExited(J)});return}this.props.onExit(J),this.safeSetState({status:EXITING},function(){Y.props.onExiting(J),Y.onTransitionEnd(te.exit,function(){Y.safeSetState({status:EXITED},function(){Y.props.onExited(J)})})})},$.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},$.safeSetState=function(Y,ee){ee=this.setNextCallback(ee),this.setState(Y,ee)},$.setNextCallback=function(Y){var ee=this,te=!0;return this.nextCallback=function(J){te&&(te=!1,ee.nextCallback=null,Y(J))},this.nextCallback.cancel=function(){te=!1},this.nextCallback},$.onTransitionEnd=function(Y,ee){this.setNextCallback(ee);var te=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),J=Y==null&&!this.props.addEndListener;if(!te||J){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var ie=this.props.nodeRef?[this.nextCallback]:[te,this.nextCallback],K=ie[0],re=ie[1];this.props.addEndListener(K,re)}Y!=null&&setTimeout(this.nextCallback,Y)},$.render=function(){var Y=this.state.status;if(Y===UNMOUNTED)return null;var ee=this.props,te=ee.children;ee.in,ee.mountOnEnter,ee.unmountOnExit,ee.appear,ee.enter,ee.exit,ee.timeout,ee.addEndListener,ee.onEnter,ee.onEntering,ee.onEntered,ee.onExit,ee.onExiting,ee.onExited,ee.nodeRef;var J=_objectWithoutPropertiesLoose$2(ee,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React$1.createElement(TransitionGroupContext.Provider,{value:null},typeof te=="function"?te(Y,J):React$1.cloneElement(React$1.Children.only(te),J))},T}(React$1.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$1(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$1,onEntering:noop$1,onEntered:noop$1,onExit:noop$1,onExiting:noop$1,onExited:noop$1};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;var _addClass=function C(T,$){return T&&$&&$.split(" ").forEach(function(V){return addClass(T,V)})},removeClass=function C(T,$){return T&&$&&$.split(" ").forEach(function(V){return removeClass$1(T,V)})},CSSTransition=function(C){_inheritsLoose(T,C);function T(){for(var V,Y=arguments.length,ee=new Array(Y),te=0;te<Y;te++)ee[te]=arguments[te];return V=C.call.apply(C,[this].concat(ee))||this,V.appliedClasses={appear:{},enter:{},exit:{}},V.onEnter=function(J,ie){var K=V.resolveArguments(J,ie),re=K[0],ne=K[1];V.removeClasses(re,"exit"),V.addClass(re,ne?"appear":"enter","base"),V.props.onEnter&&V.props.onEnter(J,ie)},V.onEntering=function(J,ie){var K=V.resolveArguments(J,ie),re=K[0],ne=K[1],le=ne?"appear":"enter";V.addClass(re,le,"active"),V.props.onEntering&&V.props.onEntering(J,ie)},V.onEntered=function(J,ie){var K=V.resolveArguments(J,ie),re=K[0],ne=K[1],le=ne?"appear":"enter";V.removeClasses(re,le),V.addClass(re,le,"done"),V.props.onEntered&&V.props.onEntered(J,ie)},V.onExit=function(J){var ie=V.resolveArguments(J),K=ie[0];V.removeClasses(K,"appear"),V.removeClasses(K,"enter"),V.addClass(K,"exit","base"),V.props.onExit&&V.props.onExit(J)},V.onExiting=function(J){var ie=V.resolveArguments(J),K=ie[0];V.addClass(K,"exit","active"),V.props.onExiting&&V.props.onExiting(J)},V.onExited=function(J){var ie=V.resolveArguments(J),K=ie[0];V.removeClasses(K,"exit"),V.addClass(K,"exit","done"),V.props.onExited&&V.props.onExited(J)},V.resolveArguments=function(J,ie){return V.props.nodeRef?[V.props.nodeRef.current,J]:[J,ie]},V.getClassNames=function(J){var ie=V.props.classNames,K=typeof ie=="string",re=K&&ie?ie+"-":"",ne=K?""+re+J:ie[J],le=K?ne+"-active":ie[J+"Active"],ae=K?ne+"-done":ie[J+"Done"];return{baseClassName:ne,activeClassName:le,doneClassName:ae}},V}var $=T.prototype;return $.addClass=function(Y,ee,te){var J=this.getClassNames(ee)[te+"ClassName"],ie=this.getClassNames("enter"),K=ie.doneClassName;ee==="appear"&&te==="done"&&K&&(J+=" "+K),te==="active"&&Y&&forceReflow(Y),J&&(this.appliedClasses[ee][te]=J,_addClass(Y,J))},$.removeClasses=function(Y,ee){var te=this.appliedClasses[ee],J=te.base,ie=te.active,K=te.done;this.appliedClasses[ee]={},J&&removeClass(Y,J),ie&&removeClass(Y,ie),K&&removeClass(Y,K)},$.render=function(){var Y=this.props;Y.classNames;var ee=_objectWithoutPropertiesLoose$2(Y,["classNames"]);return React$1.createElement(Transition$1,_extends$3({},ee,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},T}(React$1.Component);CSSTransition.defaultProps={classNames:""};CSSTransition.propTypes={};const CSSTransition$1=CSSTransition;var _leaveRenders,_enterRenders;function areChildrenDifferent(C,T){return!(C===T||React$1.isValidElement(C)&&React$1.isValidElement(T)&&C.key!=null&&C.key===T.key)}var modes={out:"out-in",in:"in-out"},callHook=function C(T,$,V){return function(){var Y;T.props[$]&&(Y=T.props)[$].apply(Y,arguments),V()}},leaveRenders=(_leaveRenders={},_leaveRenders[modes.out]=function(C){var T=C.current,$=C.changeState;return React$1.cloneElement(T,{in:!1,onExited:callHook(T,"onExited",function(){$(ENTERING,null)})})},_leaveRenders[modes.in]=function(C){var T=C.current,$=C.changeState,V=C.children;return[T,React$1.cloneElement(V,{in:!0,onEntered:callHook(V,"onEntered",function(){$(ENTERING)})})]},_leaveRenders),enterRenders=(_enterRenders={},_enterRenders[modes.out]=function(C){var T=C.children,$=C.changeState;return React$1.cloneElement(T,{in:!0,onEntered:callHook(T,"onEntered",function(){$(ENTERED,React$1.cloneElement(T,{in:!0}))})})},_enterRenders[modes.in]=function(C){var T=C.current,$=C.children,V=C.changeState;return[React$1.cloneElement(T,{in:!1,onExited:callHook(T,"onExited",function(){V(ENTERED,React$1.cloneElement($,{in:!0}))})}),React$1.cloneElement($,{in:!0})]},_enterRenders),SwitchTransition=function(C){_inheritsLoose(T,C);function T(){for(var V,Y=arguments.length,ee=new Array(Y),te=0;te<Y;te++)ee[te]=arguments[te];return V=C.call.apply(C,[this].concat(ee))||this,V.state={status:ENTERED,current:null},V.appeared=!1,V.changeState=function(J,ie){ie===void 0&&(ie=V.state.current),V.setState({status:J,current:ie})},V}var $=T.prototype;return $.componentDidMount=function(){this.appeared=!0},T.getDerivedStateFromProps=function(Y,ee){return Y.children==null?{current:null}:ee.status===ENTERING&&Y.mode===modes.in?{status:ENTERING}:ee.current&&areChildrenDifferent(ee.current,Y.children)?{status:EXITING}:{current:React$1.cloneElement(Y.children,{in:!0})}},$.render=function(){var Y=this.props,ee=Y.children,te=Y.mode,J=this.state,ie=J.status,K=J.current,re={children:ee,current:K,changeState:this.changeState,status:ie},ne;switch(ie){case ENTERING:ne=enterRenders[te](re);break;case EXITING:ne=leaveRenders[te](re);break;case ENTERED:ne=K}return React$1.createElement(TransitionGroupContext.Provider,{value:{isMounting:!this.appeared}},ne)},T}(React$1.Component);SwitchTransition.propTypes={};SwitchTransition.defaultProps={mode:modes.out};const SwitchTransition$1=SwitchTransition,Content=()=>{const C=useLocation(),T=matchRoutes(routes,C)?.at(-1)?.route,$=reactExports.useRef(null),V=useOutlet(T?.path),Y=useNavigation();return reactExports.useEffect(()=>{Y.state==="idle"&&setTimeout(()=>{$.current?.scrollTo(0,0)},300)},[Y.state]),jsx("div",{css:mainContainerStyle,ref:$,children:jsx(SwitchTransition$1,{children:jsx(CSSTransition$1,{timeout:300,mountOnEnter:!0,unmountOnExit:!0,in:!0,children:()=>jsx("div",{css:animationDelay,children:V})},C.pathname)})})},themeSwitchStyle={name:"moofjf",styles:"&.light{.btn-switch{right:auto;left:9%;animation:animationClickOn 0.7s;}.bxs-moon{animation:rotateOn 0.7s;}.bxs-sun{animation:shakeOn 0.7s;}}&.dark{.btn-switch{left:auto;right:9%;animation:animationClickOff 0.7s;}.bxs-moon{animation:rotateOff 0.7s;}.bxs-sun{animation:shakeOff 0.7s;}}.theme-switch{height:65vh;display:flex;flex-direction:column;align-items:center;justify-content:center;#switch{background-color:var(--color-secondary-bg);animation:clickOff 0.5s;}#switch{border:none;width:15vw;height:8vw;border-radius:4vw;position:absolute;cursor:pointer;.btn-switch{display:block;background-color:var(--color-active);width:6vw;height:6vw;border-radius:3vw;position:absolute;z-index:0;top:13%;}i{font-size:4vw;position:absolute;z-index:1;top:26%;&.bxs-sun{left:15%;}&.bxs-moon{right:15%;}}@media only screen and (max-width: 1130px){width:10rem;height:5rem;border-radius:5rem;.btn-switch{width:3.8rem;height:3.8rem;border-radius:3rem;}i{font-size:2.3rem;top:28%;&.bxs-sun{left:16%;}&.bxs-moon{right:16%;}}}@media only screen and (min-width: 1620px){width:15rem;height:8rem;border-radius:5rem;.switch-side{&--left,&--right{width:10rem;height:8rem;border-radius:4rem;}}.btn-switch{width:6rem;height:6rem;border-radius:3vw;}i{font-size:4rem;top:25%;&.bxs-sun{left:15.5%;}&.bxs-moon{right:15.5%;}}}}}@keyframes clickOff{0%{transform:scale(1);}50%{transform:scale(0.9);}100%{transform:scale(1);}}@keyframes clickOn{0%{transform:scale(1);}50%{transform:scale(0.9);}100%{transform:scale(1);}}@keyframes shakeOff{0%{transform:scale3d(1, 1, 1);}30%{transform:scale3d(0.75, 1.25, 1);}40%{transform:scale3d(1.25, 0.75, 1);}50%{transform:scale3d(0.85, 1.15, 1);}65%{transform:scale3d(1.05, 0.95, 1);}75%{transform:scale3d(0.95, 1.05, 1);}100%{transform:scale3d(1, 1, 1);}}@keyframes shakeOn{0%{transform:scale3d(1, 1, 1);}30%{transform:scale3d(1.25, 0.75, 1);}40%{transform:scale3d(0.75, 1.25, 1);}50%{transform:scale3d(1.15, 0.85, 1);}65%{transform:scale3d(0.95, 1.05, 1);}75%{transform:scale3d(1.05, 0.95, 1);}100%{transform:scale3d(1, 1, 1);}}@keyframes rotateOff{50%{transform:rotate(180deg);}}@keyframes rotateOn{50%{transform:rotate(-180deg);}}@keyframes animationClickOff{0%{right:auto;left:9%;}50%{width:13vw;}100%{left:auto;right:9%;}}@keyframes animationClickOn{0%{left:auto;right:9%;}50%{width:13vw;}100%{right:auto;left:9%;}}@media only screen and (max-width: 1130px){@keyframes animationClickOff{0%{right:auto;left:9%;}50%{width:8.5rem;}100%{left:auto;right:9%;}}@keyframes animationClickOn{0%{left:auto;right:9%;}50%{width:8.5rem;}100%{right:auto;left:9%;}}}@media only screen and (min-width: 1800px){@keyframes animationClickOff{0%{right:auto;left:9%;}50%{width:13rem;}100%{left:auto;right:9%;}}@keyframes animationClickOn{0%{left:auto;right:9%;}50%{width:13rem;}100%{right:auto;left:9%;}}}"},ThemeSwitch=({className:C=""})=>{const{toggleThemeMode:T}=useTheme();return jsx(ThemeWrapper,{style:themeSwitchStyle,children:jsx("div",{className:`theme-switch ${C}`,children:jsxs("button",{type:"button",id:"switch",onClick:()=>{T()},children:[jsx("i",{className:"bx bxs-sun"}),jsx("span",{className:"btn-switch"}),jsx("i",{className:"bx bxs-moon"})]})})})};var GithubOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"outlined"};const GithubOutlinedSvg=GithubOutlined$2;var GithubOutlined=function C(T,$){return reactExports.createElement(AntdIcon,_extends$3({},T,{ref:$,icon:GithubOutlinedSvg}))};const GithubOutlined$1=reactExports.forwardRef(GithubOutlined);var _ref={name:"1quj625",styles:"background:var(--color-secondary-bg)"};const Header=()=>{const{onShow:C}=useModalOpen(OpenTypeConfig.CommandOpen);return jsxs("div",{css:headerStyle,children:[jsx("div",{css:searchBarStyle,children:jsx("input",{type:"text",readOnly:!0,placeholder:`Search    [ ${Hotkey.Meta} + ${Hotkey.S} / ${Hotkey.F} ]`,onFocus:C})}),jsxs("div",{css:userStyle,children:[jsx("img",{css:userImgStyle,src:"https://cdn.jsdelivr.net/gh/rick-chou/rick-assets/png/2.png",alt:""}),jsx("div",{className:"flex cursor-pointer",children:jsx("div",{css:userNameStyle,children:"Rick.Zhou"})}),jsx(Divider,{type:"vertical",css:_ref}),jsx(GithubOutlined$1,{className:"cursor-pointer",onClick:()=>window.open("https://github.com/rick-chou")}),jsx(ThemeSwitch,{className:"scale-[0.2] !w-4 !h-4 ml-8"})]})]})};function _createMdxContent$1(C){const T=Object.assign({p:"p",h2:"h2",h3:"h3",ul:"ul",li:"li",input:"input",img:"img"},useMDXComponents(),C.components);return jsxs(Fragment,{children:[jsx("h1",{align:"center",children:"ONE PIECE"}),`
`,jsxs("p",{align:"center",children:[jsx("img",{src:"https://cdn.jsdelivr.net/gh/rick-chou/rick-assets/png/28.png",alt:"",width:"100px"}),jsx("i",{children:jsxs(T.p,{children:[`Abandon all the past and bonds, don't begrudge the tears shed for the dream
`,jsx("br",{})," - Luffy."]})}),jsx("br",{})]}),`
`,jsxs("p",{align:"center",children:[jsx(Link,{to:"/one-piece-react/rick/blog/",children:jsx("strong",{children:"Blog"})}),jsx("span",{children:"."}),jsx("a",{href:"https://juejin.cn/user/1574156383563496",children:jsx("strong",{children:"JueJin"})})]}),`
`,jsxs("p",{align:"center",className:"flex justify-center item-center",children:[jsx("img",{src:"https://cdn.jsdelivr.net/gh/rick-chou/rick-assets/webp/js.webp",width:"80"}),jsx("img",{src:"https://cdn.jsdelivr.net/gh/rick-chou/rick-assets/webp/react.webp",width:"80"}),jsx("img",{src:"https://cdn.jsdelivr.net/gh/rick-chou/rick-assets/webp/vue.webp",width:"80"}),jsx("img",{src:"https://cdn.jsdelivr.net/gh/rick-chou/rick-assets/webp/python.webp",width:"80"}),jsx("img",{src:"https://cdn.jsdelivr.net/gh/rick-chou/rick-assets/webp/github.webp",width:"80"}),jsx("img",{src:"https://cdn.jsdelivr.net/gh/rick-chou/rick-assets/webp/vscode.webp",width:"80"})]}),`
`,jsx("hr",{}),`
`,jsx(T.h2,{children:" Time Machine"}),`
`,jsx(T.h3,{children:"2021"}),`
`,jsxs(T.ul,{className:"contains-task-list",children:[`
`,jsxs(T.li,{className:"task-list-item",children:[jsx(T.input,{type:"checkbox",checked:!0,disabled:!0})," ","Graduation!   "]}),`
`,jsxs(T.li,{className:"task-list-item",children:[jsx(T.input,{type:"checkbox",checked:!0,disabled:!0})," ","Vue2 Developer "]}),`
`,jsxs(T.li,{className:"task-list-item",children:[jsx(T.input,{type:"checkbox",checked:!0,disabled:!0})," ","React Developer "]}),`
`]}),`
`,jsx(T.h3,{children:"2022"}),`
`,jsxs(T.ul,{className:"contains-task-list",children:[`
`,jsxs(T.li,{className:"task-list-item",children:[jsx(T.input,{type:"checkbox",checked:!0,disabled:!0})," ","React Native Developer "]}),`
`]}),`
`,jsx(T.h3,{children:"2023"}),`
`,jsxs(T.ul,{className:"contains-task-list",children:[`
`,jsxs(T.li,{className:"task-list-item",children:[jsx(T.input,{type:"checkbox",checked:!0,disabled:!0})," ","Angular2.0+ Developer "]}),`
`,jsxs(T.li,{className:"task-list-item",children:[jsx(T.input,{type:"checkbox",checked:!0,disabled:!0})," ","React Developer "]}),`
`,jsxs(T.li,{className:"task-list-item",children:[jsx(T.input,{type:"checkbox",checked:!0,disabled:!0})," ","Learn Java "]}),`
`,jsxs(T.li,{className:"task-list-item",children:[jsx(T.input,{type:"checkbox",disabled:!0})," ","Get married "]}),`
`]}),`
`,jsx(T.p,{children:jsx(T.img,{src:"https://cdn.jsdelivr.net/gh/rick-chou/rick-assets/jpg/43.jpg",alt:"bg"})})]})}function MDXContent$1(C={}){const{wrapper:T}=Object.assign({},useMDXComponents(),C.components);return T?jsx(T,Object.assign({},C,{children:jsx(_createMdxContent$1,C)})):_createMdxContent$1(C)}function _createMdxContent(C){return jsx(Fragment,{})}function MDXContent(C={}){const{wrapper:T}=Object.assign({},useMDXComponents(),C.components);return T?jsx(T,Object.assign({},C,{children:jsx(_createMdxContent,C)})):_createMdxContent()}const Homepage=()=>jsxs(Article,{children:[jsx(MDXContent$1,{}),jsx(MDXContent,{})]}),chance=new Chance;chance.mixin({svg(C={size:40,lines:20,circles:10,triangles:10,opacity:.3,background:chance.color()}){function T(V=-50,Y=150){return chance.integer({min:V,max:Y})}let $='<svg version="1.1" viewBox="0 0 24 24"';$+='xmlns="http://www.w3.org/2000/svg"',$+='style="background-color:'+C.background+'">';for(let V=0;V<C.lines;V++)$+='<line stroke="'+chance.color()+'" ',$+='stroke-width="'+T(1,5)+'" ',$+='opacity="'+C.opacity+'" ',$+='x1="'+T()+'" y1="'+T()+'" ',$+='x2="'+T()+'" y2="'+T()+'" />';for(let V=0;V<C.circles;V++)$+='<circle cx="'+T()+'" ',$+='cy="'+T()+'" ',$+='r="'+T(1,C.size/2)+'" ',$+='opacity="'+C.opacity+'" ',$+='fill="'+chance.color()+'"/>';for(let V=0;V<C.triangles;V++){const Y=C.size;$+='<polygon fill="'+chance.color()+'" points="',$+=T()+","+T()+" ",$+=T(-Y,Y)+","+T(-Y,Y)+" ",$+=T(-Y,Y)+","+T(-Y,Y),$+='" opacity="'+C.opacity+'" ',$+='fill="'+chance.color()+'"/>'}return $+"</svg>"}});const genRandomSvg=C=>chance.svg(C),isMac=()=>/(Mac|iP[ahno]+[de])/i.test(navigator.userAgent),SideBar=()=>jsxs("div",{css:sidebarStyle,children:[jsxs(Link,{css:logoStyle,to:"/one-piece-react/",children:["@","Rick.Zhou"]}),!lodashExports.isEmpty(metaData)&&Object.entries(metaData).reverse().map(([C,T])=>jsxs("div",{css:sideWrapperStyle,children:[jsx("div",{css:sideTitleStyle,children:lodashExports.upperCase(C)}),jsx("div",{css:sideMenuStyle,children:T.map($=>jsxs(Link,{to:$.path,children:[jsx("div",{dangerouslySetInnerHTML:{__html:genRandomSvg()}}),lodashExports.startCase($.name)]},$.path))})]},C))]}),Sidebar=reactExports.memo(SideBar),Blog=()=>{const C=useLocation();return useTheme(),useShortKey(),jsxs("div",{css:containerStyle,children:[jsx(Sidebar,{}),jsxs("div",{className:"flex flex-col flex-1",children:[jsx(Header,{}),(()=>C.pathname==="/one-piece-react/"?jsx("div",{className:"flex justify-center overflow-auto",children:jsx(Homepage,{})}):jsx(Content,{}))()]})]})},ReplWrapper=()=>jsx("div",{className:"h-[95vh] w-[65vw] p-6 bg-white",children:jsx("iframe",{src:"https://rick-chou.github.io/repl/",className:"h-[95vh] w-[65vw]"})}),appList=[Blog,ReplWrapper],Bg="/one-piece-react/assets/bg-f8da1978.jpg",globalStyle=css$1("::-webkit-scrollbar{width:2px;border-radius:10px;}::-webkit-scrollbar-thumb{background-color:var(--color-primary-bg-hover);border-radius:10px;}body{font-family:var(--body-font);color:var(--color-primary-text);background-image:url(",Bg,");background-position:center;background-size:cover;background-repeat:no-repeat;background-blend-mode:color-dodge;background-color:rgba(18, 21, 39, 0.86);display:flex;justify-content:center;align-items:center;flex-direction:column;padding:1em 2em;width:100%;height:100vh;overflow:hidden;user-select:none;&:before{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0.4;content:'';}}",""),App=({apps:C})=>{const{fontFamily:T}=useTheme();return useMount$1(()=>{cash.fn.addSwitchAppAnimation=function(){return this.each(function(){const V=cash(this).find(".sub-app");let Y=V.filter(".sub-app--current"),ee;V.on("click",function(){Y.is(this)||(V.removeClass("sub-app--current sub-app--out sub-app--next"),Y.addClass("sub-app--out"),Y=cash(this).addClass("sub-app--current"),ee=Y.next(),ee=ee.length?ee:V.first(),ee.addClass("sub-app--next"))}),Y.length||(Y=V.last(),V.first().trigger("click"))})},cash(".app-wrapper").addSwitchAppAnimation()}),jsxs(ConfigProvider,{theme:{token:{fontFamily:T}},children:[jsx(Global,{styles:globalStyle}),jsx(Theme,{}),jsx(CmdModal,{}),jsx(ScrollRestoration,{}),jsx(Appwrapper,{children:jsx("div",{className:"app-wrapper",children:C.map(($,V)=>jsx("div",{className:"sub-app",children:jsx($,{})},V))})})]})},App$1=()=>jsx(App,{apps:appList}),ErrorPage=()=>{const C=useRouteError();return console.log("error.message",C.stack),jsxs("div",{className:"h-screen flex justify-center items-center bg-white py-6 sm:py-8 lg:py-12",children:[jsx("div",{className:"px-4 md:px-8",children:jsxs("div",{className:"relative mx-auto flex h-96 w-full items-center justify-center overflow-hidden rounded-2xl bg-gray-100 shadow-lg sm:w-96",children:[jsx("img",{src:"https://cdn.jsdelivr.net/gh/rick-chou/rick-assets/png/2.png",loading:"lazy",alt:"Ops",className:"absolute inset-0 h-full w-full object-cover object-center"}),jsxs("div",{className:"relative flex flex-col items-center justify-center p-8 md:p-16",children:[jsx("h1",{className:"mb-2 text-center text-2xl font-bold text-slate-600 md:text-3xl lg:text-4xl",children:"Oops"}),jsx("p",{className:"mb-8 text-center text-slate-500 md:text-lg",children:"Congratulations you found a bug"}),jsx("a",{href:"https://github.com/rick-chou/one-piece-react/issues/new",target:"_blank",className:"inline-block rounded-lg bg-gray-200 px-8 py-3 text-center text-sm font-semibold text-gray-500 outline-none ring-indigo-300 transition duration-100 hover:bg-gray-300 focus-visible:ring active:text-gray-700 md:text-base",rel:"noreferrer",children:"New issue"})]})]})}),jsx("div",{className:"prose prose-xl max-w-none prose-slate",children:jsx("pre",{children:jsx("code",{children:C.stack})})})]})},RickRoutes=genRoutes("rick"),DemoRoutes=genRoutes("demo"),ChartRoutes=genRoutes("chart"),PreviewRoutes=genRoutes("preview"),routes=[{path:"/one-piece-react/",element:jsx(App$1,{}),children:[DemoRoutes,RickRoutes,ChartRoutes,BlogRoutes,PreviewRoutes],errorElement:jsx(ErrorPage,{})},{path:"*",loader(){return redirect("/one-piece-react/")}}],router=createBrowserRouter(routes);var reduxLogger={exports:{}};(function(C,T){(function($,V){V(T)})(commonjsGlobal,function($){function V(ge,ke){ge.super_=ke,ge.prototype=Object.create(ke.prototype,{constructor:{value:ge,enumerable:!1,writable:!0,configurable:!0}})}function Y(ge,ke){Object.defineProperty(this,"kind",{value:ge,enumerable:!0}),ke&&ke.length&&Object.defineProperty(this,"path",{value:ke,enumerable:!0})}function ee(ge,ke,Ee){ee.super_.call(this,"E",ge),Object.defineProperty(this,"lhs",{value:ke,enumerable:!0}),Object.defineProperty(this,"rhs",{value:Ee,enumerable:!0})}function te(ge,ke){te.super_.call(this,"N",ge),Object.defineProperty(this,"rhs",{value:ke,enumerable:!0})}function J(ge,ke){J.super_.call(this,"D",ge),Object.defineProperty(this,"lhs",{value:ke,enumerable:!0})}function ie(ge,ke,Ee){ie.super_.call(this,"A",ge),Object.defineProperty(this,"index",{value:ke,enumerable:!0}),Object.defineProperty(this,"item",{value:Ee,enumerable:!0})}function K(ge,ke,Ee){var Me=ge.slice((Ee||ke)+1||ge.length);return ge.length=ke<0?ge.length+ke:ke,ge.push.apply(ge,Me),ge}function re(ge){var ke=typeof ge>"u"?"undefined":bt(ge);return ke!=="object"?ke:ge===Math?"math":ge===null?"null":Array.isArray(ge)?"array":Object.prototype.toString.call(ge)==="[object Date]"?"date":typeof ge.toString=="function"&&/^\/.*\//.test(ge.toString())?"regexp":"object"}function ne(ge,ke,Ee,Me,Oe,pe,Ce){Oe=Oe||[],Ce=Ce||[];var Re=Oe.slice(0);if(typeof pe<"u"){if(Me){if(typeof Me=="function"&&Me(Re,pe))return;if((typeof Me>"u"?"undefined":bt(Me))==="object"){if(Me.prefilter&&Me.prefilter(Re,pe))return;if(Me.normalize){var De=Me.normalize(Re,pe,ge,ke);De&&(ge=De[0],ke=De[1])}}}Re.push(pe)}re(ge)==="regexp"&&re(ke)==="regexp"&&(ge=ge.toString(),ke=ke.toString());var Ne=typeof ge>"u"?"undefined":bt(ge),He=typeof ke>"u"?"undefined":bt(ke),Ge=Ne!=="undefined"||Ce&&Ce[Ce.length-1].lhs&&Ce[Ce.length-1].lhs.hasOwnProperty(pe),it=He!=="undefined"||Ce&&Ce[Ce.length-1].rhs&&Ce[Ce.length-1].rhs.hasOwnProperty(pe);if(!Ge&&it)Ee(new te(Re,ke));else if(!it&&Ge)Ee(new J(Re,ge));else if(re(ge)!==re(ke))Ee(new ee(Re,ge,ke));else if(re(ge)==="date"&&ge-ke!==0)Ee(new ee(Re,ge,ke));else if(Ne==="object"&&ge!==null&&ke!==null)if(Ce.filter(function(ot){return ot.lhs===ge}).length)ge!==ke&&Ee(new ee(Re,ge,ke));else{if(Ce.push({lhs:ge,rhs:ke}),Array.isArray(ge)){var ut;for(ge.length,ut=0;ut<ge.length;ut++)ut>=ke.length?Ee(new ie(Re,ut,new J(void 0,ge[ut]))):ne(ge[ut],ke[ut],Ee,Me,Re,ut,Ce);for(;ut<ke.length;)Ee(new ie(Re,ut,new te(void 0,ke[ut++])))}else{var tt=Object.keys(ge),lt=Object.keys(ke);tt.forEach(function(ot,dt){var vt=lt.indexOf(ot);vt>=0?(ne(ge[ot],ke[ot],Ee,Me,Re,ot,Ce),lt=K(lt,vt)):ne(ge[ot],void 0,Ee,Me,Re,ot,Ce)}),lt.forEach(function(ot){ne(void 0,ke[ot],Ee,Me,Re,ot,Ce)})}Ce.length=Ce.length-1}else ge!==ke&&(Ne==="number"&&isNaN(ge)&&isNaN(ke)||Ee(new ee(Re,ge,ke)))}function le(ge,ke,Ee,Me){return Me=Me||[],ne(ge,ke,function(Oe){Oe&&Me.push(Oe)},Ee),Me.length?Me:void 0}function ae(ge,ke,Ee){if(Ee.path&&Ee.path.length){var Me,Oe=ge[ke],pe=Ee.path.length-1;for(Me=0;Me<pe;Me++)Oe=Oe[Ee.path[Me]];switch(Ee.kind){case"A":ae(Oe[Ee.path[Me]],Ee.index,Ee.item);break;case"D":delete Oe[Ee.path[Me]];break;case"E":case"N":Oe[Ee.path[Me]]=Ee.rhs}}else switch(Ee.kind){case"A":ae(ge[ke],Ee.index,Ee.item);break;case"D":ge=K(ge,ke);break;case"E":case"N":ge[ke]=Ee.rhs}return ge}function se(ge,ke,Ee){if(ge&&ke&&Ee&&Ee.kind){for(var Me=ge,Oe=-1,pe=Ee.path?Ee.path.length-1:0;++Oe<pe;)typeof Me[Ee.path[Oe]]>"u"&&(Me[Ee.path[Oe]]=typeof Ee.path[Oe]=="number"?[]:{}),Me=Me[Ee.path[Oe]];switch(Ee.kind){case"A":ae(Ee.path?Me[Ee.path[Oe]]:Me,Ee.index,Ee.item);break;case"D":delete Me[Ee.path[Oe]];break;case"E":case"N":Me[Ee.path[Oe]]=Ee.rhs}}}function ue(ge,ke,Ee){if(Ee.path&&Ee.path.length){var Me,Oe=ge[ke],pe=Ee.path.length-1;for(Me=0;Me<pe;Me++)Oe=Oe[Ee.path[Me]];switch(Ee.kind){case"A":ue(Oe[Ee.path[Me]],Ee.index,Ee.item);break;case"D":Oe[Ee.path[Me]]=Ee.lhs;break;case"E":Oe[Ee.path[Me]]=Ee.lhs;break;case"N":delete Oe[Ee.path[Me]]}}else switch(Ee.kind){case"A":ue(ge[ke],Ee.index,Ee.item);break;case"D":ge[ke]=Ee.lhs;break;case"E":ge[ke]=Ee.lhs;break;case"N":ge=K(ge,ke)}return ge}function de(ge,ke,Ee){if(ge&&ke&&Ee&&Ee.kind){var Me,Oe,pe=ge;for(Oe=Ee.path.length-1,Me=0;Me<Oe;Me++)typeof pe[Ee.path[Me]]>"u"&&(pe[Ee.path[Me]]={}),pe=pe[Ee.path[Me]];switch(Ee.kind){case"A":ue(pe[Ee.path[Me]],Ee.index,Ee.item);break;case"D":pe[Ee.path[Me]]=Ee.lhs;break;case"E":pe[Ee.path[Me]]=Ee.lhs;break;case"N":delete pe[Ee.path[Me]]}}}function ce(ge,ke,Ee){if(ge&&ke){var Me=function(Oe){Ee&&!Ee(ge,ke,Oe)||se(ge,ke,Oe)};ne(ge,ke,Me)}}function be(ge){return"color: "+Pe[ge].color+"; font-weight: bold"}function Le(ge){var ke=ge.kind,Ee=ge.path,Me=ge.lhs,Oe=ge.rhs,pe=ge.index,Ce=ge.item;switch(ke){case"E":return[Ee.join("."),Me,"",Oe];case"N":return[Ee.join("."),Oe];case"D":return[Ee.join(".")];case"A":return[Ee.join(".")+"["+pe+"]",Ce];default:return[]}}function ve(ge,ke,Ee,Me){var Oe=le(ge,ke);try{Me?Ee.groupCollapsed("diff"):Ee.group("diff")}catch{Ee.log("diff")}Oe?Oe.forEach(function(pe){var Ce=pe.kind,Re=Le(pe);Ee.log.apply(Ee,["%c "+Pe[Ce].text,be(Ce)].concat(ct(Re)))}):Ee.log(" no diff ");try{Ee.groupEnd()}catch{Ee.log(" diff end  ")}}function ye(ge,ke,Ee,Me){switch(typeof ge>"u"?"undefined":bt(ge)){case"object":return typeof ge[Me]=="function"?ge[Me].apply(ge,ct(Ee)):ge[Me];case"function":return ge(ke);default:return ge}}function Ae(ge){var ke=ge.timestamp,Ee=ge.duration;return function(Me,Oe,pe){var Ce=["action"];return Ce.push("%c"+String(Me.type)),ke&&Ce.push("%c@ "+Oe),Ee&&Ce.push("%c(in "+pe.toFixed(2)+" ms)"),Ce.join(" ")}}function Be(ge,ke){var Ee=ke.logger,Me=ke.actionTransformer,Oe=ke.titleFormatter,pe=Oe===void 0?Ae(ke):Oe,Ce=ke.collapsed,Re=ke.colors,De=ke.level,Ne=ke.diff,He=typeof ke.titleFormatter>"u";ge.forEach(function(Ge,it){var ut=Ge.started,tt=Ge.startedTime,lt=Ge.action,ot=Ge.prevState,dt=Ge.error,vt=Ge.took,St=Ge.nextState,Tt=ge[it+1];Tt&&(St=Tt.prevState,vt=Tt.started-ut);var $t=Me(lt),It=typeof Ce=="function"?Ce(function(){return St},lt,Ge):Ce,qt=ht(tt),Vt=Re.title?"color: "+Re.title($t)+";":"",ar=["color: gray; font-weight: lighter;"];ar.push(Vt),ke.timestamp&&ar.push("color: gray; font-weight: lighter;"),ke.duration&&ar.push("color: gray; font-weight: lighter;");var sr=pe($t,qt,vt);try{It?Re.title&&He?Ee.groupCollapsed.apply(Ee,["%c "+sr].concat(ar)):Ee.groupCollapsed(sr):Re.title&&He?Ee.group.apply(Ee,["%c "+sr].concat(ar)):Ee.group(sr)}catch{Ee.log(sr)}var fr=ye(De,$t,[ot],"prevState"),nr=ye(De,$t,[$t],"action"),lr=ye(De,$t,[dt,ot],"error"),cr=ye(De,$t,[St],"nextState");if(fr)if(Re.prevState){var dr="color: "+Re.prevState(ot)+"; font-weight: bold";Ee[fr]("%c prev state",dr,ot)}else Ee[fr]("prev state",ot);if(nr)if(Re.action){var Sr="color: "+Re.action($t)+"; font-weight: bold";Ee[nr]("%c action    ",Sr,$t)}else Ee[nr]("action    ",$t);if(dt&&lr)if(Re.error){var _t="color: "+Re.error(dt,ot)+"; font-weight: bold;";Ee[lr]("%c error     ",_t,dt)}else Ee[lr]("error     ",dt);if(cr)if(Re.nextState){var nt="color: "+Re.nextState(St)+"; font-weight: bold";Ee[cr]("%c next state",nt,St)}else Ee[cr]("next state",St);Ne&&ve(ot,St,Ee,It);try{Ee.groupEnd()}catch{Ee.log(" log end ")}})}function qe(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=Object.assign({},_e,ge),Ee=ke.logger,Me=ke.stateTransformer,Oe=ke.errorTransformer,pe=ke.predicate,Ce=ke.logErrors,Re=ke.diffPredicate;if(typeof Ee>"u")return function(){return function(Ne){return function(He){return Ne(He)}}};if(ge.getState&&ge.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(Ne){return function(He){return Ne(He)}}};var De=[];return function(Ne){var He=Ne.getState;return function(Ge){return function(it){if(typeof pe=="function"&&!pe(He,it))return Ge(it);var ut={};De.push(ut),ut.started=pt.now(),ut.startedTime=new Date,ut.prevState=Me(He()),ut.action=it;var tt=void 0;if(Ce)try{tt=Ge(it)}catch(ot){ut.error=Oe(ot)}else tt=Ge(it);ut.took=pt.now()-ut.started,ut.nextState=Me(He());var lt=ke.diff&&typeof Re=="function"?Re(He,it):ke.diff;if(Be(De,Object.assign({},ke,{diff:lt})),De.length=0,ut.error)throw ut.error;return tt}}}}var Ue,Ke,Je=function(ge,ke){return new Array(ke+1).join(ge)},mt=function(ge,ke){return Je("0",ke-ge.toString().length)+ge},ht=function(ge){return mt(ge.getHours(),2)+":"+mt(ge.getMinutes(),2)+":"+mt(ge.getSeconds(),2)+"."+mt(ge.getMilliseconds(),3)},pt=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},ct=function(ge){if(Array.isArray(ge)){for(var ke=0,Ee=Array(ge.length);ke<ge.length;ke++)Ee[ke]=ge[ke];return Ee}return Array.from(ge)},We=[];Ue=(typeof commonjsGlobal>"u"?"undefined":bt(commonjsGlobal))==="object"&&commonjsGlobal?commonjsGlobal:typeof window<"u"?window:{},Ke=Ue.DeepDiff,Ke&&We.push(function(){typeof Ke<"u"&&Ue.DeepDiff===le&&(Ue.DeepDiff=Ke,Ke=void 0)}),V(ee,Y),V(te,Y),V(J,Y),V(ie,Y),Object.defineProperties(le,{diff:{value:le,enumerable:!0},observableDiff:{value:ne,enumerable:!0},applyDiff:{value:ce,enumerable:!0},applyChange:{value:se,enumerable:!0},revertChange:{value:de,enumerable:!0},isConflict:{value:function(){return typeof Ke<"u"},enumerable:!0},noConflict:{value:function(){return We&&(We.forEach(function(ge){ge()}),We=null),le},enumerable:!0}});var Pe={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},_e={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(ge){return ge},actionTransformer:function(ge){return ge},errorTransformer:function(ge){return ge},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},xe=function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=ge.dispatch,Ee=ge.getState;return typeof ke=="function"||typeof Ee=="function"?qe()({dispatch:ke,getState:Ee}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};$.defaults=_e,$.createLogger=qe,$.logger=xe,$.default=xe,Object.defineProperty($,"__esModule",{value:!0})})})(reduxLogger,reduxLogger.exports);var KEY_PREFIX="persist:",FLUSH="persist/FLUSH",REHYDRATE="persist/REHYDRATE",PAUSE="persist/PAUSE",PERSIST="persist/PERSIST",PURGE="persist/PURGE",REGISTER="persist/REGISTER",DEFAULT_VERSION=-1;function _typeof$1(C){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function($){return typeof $}:_typeof$1=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$1(C)}function ownKeys$2(C,T){var $=Object.keys(C);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(C);T&&(V=V.filter(function(Y){return Object.getOwnPropertyDescriptor(C,Y).enumerable})),$.push.apply($,V)}return $}function _objectSpread$2(C){for(var T=1;T<arguments.length;T++){var $=arguments[T]!=null?arguments[T]:{};T%2?ownKeys$2($,!0).forEach(function(V){_defineProperty$2(C,V,$[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors($)):ownKeys$2($).forEach(function(V){Object.defineProperty(C,V,Object.getOwnPropertyDescriptor($,V))})}return C}function _defineProperty$2(C,T,$){return T in C?Object.defineProperty(C,T,{value:$,enumerable:!0,configurable:!0,writable:!0}):C[T]=$,C}function autoMergeLevel1(C,T,$,V){V.debug;var Y=_objectSpread$2({},$);return C&&_typeof$1(C)==="object"&&Object.keys(C).forEach(function(ee){ee!=="_persist"&&T[ee]===$[ee]&&(Y[ee]=C[ee])}),Y}function createPersistoid(C){var T=C.blacklist||null,$=C.whitelist||null,V=C.transforms||[],Y=C.throttle||0,ee="".concat(C.keyPrefix!==void 0?C.keyPrefix:KEY_PREFIX).concat(C.key),te=C.storage,J;C.serialize===!1?J=function(ye){return ye}:typeof C.serialize=="function"?J=C.serialize:J=defaultSerialize;var ie=C.writeFailHandler||null,K={},re={},ne=[],le=null,ae=null,se=function(ye){Object.keys(ye).forEach(function(Ae){ce(Ae)&&K[Ae]!==ye[Ae]&&ne.indexOf(Ae)===-1&&ne.push(Ae)}),Object.keys(K).forEach(function(Ae){ye[Ae]===void 0&&ce(Ae)&&ne.indexOf(Ae)===-1&&K[Ae]!==void 0&&ne.push(Ae)}),le===null&&(le=setInterval(ue,Y)),K=ye};function ue(){if(ne.length===0){le&&clearInterval(le),le=null;return}var ve=ne.shift(),ye=V.reduce(function(Ae,Be){return Be.in(Ae,ve,K)},K[ve]);if(ye!==void 0)try{re[ve]=J(ye)}catch(Ae){console.error("redux-persist/createPersistoid: error serializing state",Ae)}else delete re[ve];ne.length===0&&de()}function de(){Object.keys(re).forEach(function(ve){K[ve]===void 0&&delete re[ve]}),ae=te.setItem(ee,J(re)).catch(be)}function ce(ve){return!($&&$.indexOf(ve)===-1&&ve!=="_persist"||T&&T.indexOf(ve)!==-1)}function be(ve){ie&&ie(ve)}var Le=function(){for(;ne.length!==0;)ue();return ae||Promise.resolve()};return{update:se,flush:Le}}function defaultSerialize(C){return JSON.stringify(C)}function getStoredState(C){var T=C.transforms||[],$="".concat(C.keyPrefix!==void 0?C.keyPrefix:KEY_PREFIX).concat(C.key),V=C.storage;C.debug;var Y;return C.deserialize===!1?Y=function(te){return te}:typeof C.deserialize=="function"?Y=C.deserialize:Y=defaultDeserialize,V.getItem($).then(function(ee){if(ee)try{var te={},J=Y(ee);return Object.keys(J).forEach(function(ie){te[ie]=T.reduceRight(function(K,re){return re.out(K,ie,J)},Y(J[ie]))}),te}catch(ie){throw ie}else return})}function defaultDeserialize(C){return JSON.parse(C)}function purgeStoredState(C){var T=C.storage,$="".concat(C.keyPrefix!==void 0?C.keyPrefix:KEY_PREFIX).concat(C.key);return T.removeItem($,warnIfRemoveError)}function warnIfRemoveError(C){}function ownKeys$1(C,T){var $=Object.keys(C);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(C);T&&(V=V.filter(function(Y){return Object.getOwnPropertyDescriptor(C,Y).enumerable})),$.push.apply($,V)}return $}function _objectSpread$1(C){for(var T=1;T<arguments.length;T++){var $=arguments[T]!=null?arguments[T]:{};T%2?ownKeys$1($,!0).forEach(function(V){_defineProperty$1(C,V,$[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors($)):ownKeys$1($).forEach(function(V){Object.defineProperty(C,V,Object.getOwnPropertyDescriptor($,V))})}return C}function _defineProperty$1(C,T,$){return T in C?Object.defineProperty(C,T,{value:$,enumerable:!0,configurable:!0,writable:!0}):C[T]=$,C}function _objectWithoutProperties(C,T){if(C==null)return{};var $=_objectWithoutPropertiesLoose(C,T),V,Y;if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(C);for(Y=0;Y<ee.length;Y++)V=ee[Y],!(T.indexOf(V)>=0)&&Object.prototype.propertyIsEnumerable.call(C,V)&&($[V]=C[V])}return $}function _objectWithoutPropertiesLoose(C,T){if(C==null)return{};var $={},V=Object.keys(C),Y,ee;for(ee=0;ee<V.length;ee++)Y=V[ee],!(T.indexOf(Y)>=0)&&($[Y]=C[Y]);return $}var DEFAULT_TIMEOUT=5e3;function persistReducer(C,T){var $=C.version!==void 0?C.version:DEFAULT_VERSION;C.debug;var V=C.stateReconciler===void 0?autoMergeLevel1:C.stateReconciler,Y=C.getStoredState||getStoredState,ee=C.timeout!==void 0?C.timeout:DEFAULT_TIMEOUT,te=null,J=!1,ie=!0,K=function(ne){return ne._persist.rehydrated&&te&&!ie&&te.update(ne),ne};return function(re,ne){var le=re||{},ae=le._persist,se=_objectWithoutProperties(le,["_persist"]),ue=se;if(ne.type===PERSIST){var de=!1,ce=function(qe,Ue){de||(ne.rehydrate(C.key,qe,Ue),de=!0)};if(ee&&setTimeout(function(){!de&&ce(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(C.key,'"')))},ee),ie=!1,te||(te=createPersistoid(C)),ae)return _objectSpread$1({},T(ue,ne),{_persist:ae});if(typeof ne.rehydrate!="function"||typeof ne.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return ne.register(C.key),Y(C).then(function(Be){var qe=C.migrate||function(Ue,Ke){return Promise.resolve(Ue)};qe(Be,$).then(function(Ue){ce(Ue)},function(Ue){ce(void 0,Ue)})},function(Be){ce(void 0,Be)}),_objectSpread$1({},T(ue,ne),{_persist:{version:$,rehydrated:!1}})}else{if(ne.type===PURGE)return J=!0,ne.result(purgeStoredState(C)),_objectSpread$1({},T(ue,ne),{_persist:ae});if(ne.type===FLUSH)return ne.result(te&&te.flush()),_objectSpread$1({},T(ue,ne),{_persist:ae});if(ne.type===PAUSE)ie=!0;else if(ne.type===REHYDRATE){if(J)return _objectSpread$1({},ue,{_persist:_objectSpread$1({},ae,{rehydrated:!0})});if(ne.key===C.key){var be=T(ue,ne),Le=ne.payload,ve=V!==!1&&Le!==void 0?V(Le,re,be,C):be,ye=_objectSpread$1({},ve,{_persist:_objectSpread$1({},ae,{rehydrated:!0})});return K(ye)}}}if(!ae)return T(re,ne);var Ae=T(ue,ne);return Ae===ue?re:K(_objectSpread$1({},Ae,{_persist:ae}))}}function _toConsumableArray(C){return _arrayWithoutHoles(C)||_iterableToArray(C)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(C){if(Symbol.iterator in Object(C)||Object.prototype.toString.call(C)==="[object Arguments]")return Array.from(C)}function _arrayWithoutHoles(C){if(Array.isArray(C)){for(var T=0,$=new Array(C.length);T<C.length;T++)$[T]=C[T];return $}}function ownKeys(C,T){var $=Object.keys(C);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(C);T&&(V=V.filter(function(Y){return Object.getOwnPropertyDescriptor(C,Y).enumerable})),$.push.apply($,V)}return $}function _objectSpread(C){for(var T=1;T<arguments.length;T++){var $=arguments[T]!=null?arguments[T]:{};T%2?ownKeys($,!0).forEach(function(V){_defineProperty(C,V,$[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors($)):ownKeys($).forEach(function(V){Object.defineProperty(C,V,Object.getOwnPropertyDescriptor($,V))})}return C}function _defineProperty(C,T,$){return T in C?Object.defineProperty(C,T,{value:$,enumerable:!0,configurable:!0,writable:!0}):C[T]=$,C}var initialState={registry:[],bootstrapped:!1},persistorReducer=function C(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:initialState,$=arguments.length>1?arguments[1]:void 0;switch($.type){case REGISTER:return _objectSpread({},T,{registry:[].concat(_toConsumableArray(T.registry),[$.key])});case REHYDRATE:var V=T.registry.indexOf($.key),Y=_toConsumableArray(T.registry);return Y.splice(V,1),_objectSpread({},T,{registry:Y,bootstrapped:Y.length===0});default:return T}};function persistStore(C,T,$){var V=$||!1,Y=createStore(persistorReducer,initialState,T&&T.enhancer?T.enhancer:void 0),ee=function(K){Y.dispatch({type:REGISTER,key:K})},te=function(K,re,ne){var le={type:REHYDRATE,payload:re,err:ne,key:K};C.dispatch(le),Y.dispatch(le),V&&J.getState().bootstrapped&&(V(),V=!1)},J=_objectSpread({},Y,{purge:function(){var K=[];return C.dispatch({type:PURGE,result:function(ne){K.push(ne)}}),Promise.all(K)},flush:function(){var K=[];return C.dispatch({type:FLUSH,result:function(ne){K.push(ne)}}),Promise.all(K)},pause:function(){C.dispatch({type:PAUSE})},persist:function(){C.dispatch({type:PERSIST,register:ee,rehydrate:te})}});return T&&T.manualPersist||J.persist(),J}var createWebStorage$1={},getStorage$1={};getStorage$1.__esModule=!0;getStorage$1.default=getStorage;function _typeof(C){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function($){return typeof $}:_typeof=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof(C)}function noop(){}var noopStorage={getItem:noop,setItem:noop,removeItem:noop};function hasStorage(C){if((typeof self>"u"?"undefined":_typeof(self))!=="object"||!(C in self))return!1;try{var T=self[C],$="redux-persist ".concat(C," test");T.setItem($,"test"),T.getItem($),T.removeItem($)}catch{return!1}return!0}function getStorage(C){var T="".concat(C,"Storage");return hasStorage(T)?self[T]:noopStorage}createWebStorage$1.__esModule=!0;createWebStorage$1.default=createWebStorage;var _getStorage=_interopRequireDefault$1(getStorage$1);function _interopRequireDefault$1(C){return C&&C.__esModule?C:{default:C}}function createWebStorage(C){var T=(0,_getStorage.default)(C);return{getItem:function(V){return new Promise(function(Y,ee){Y(T.getItem(V))})},setItem:function(V,Y){return new Promise(function(ee,te){ee(T.setItem(V,Y))})},removeItem:function(V){return new Promise(function(Y,ee){Y(T.removeItem(V))})}}}var default_1=void 0,_createWebStorage=_interopRequireDefault(createWebStorage$1);function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}var _default=(0,_createWebStorage.default)("local");default_1=_default;const name="@rickzhou/awesome",version="2.1.0",persistKey=`${name}-${version}`,persistConfig={key:persistKey,storage:default_1},persistedReducer=persistReducer(persistConfig,combineReducers({modalOpen:modalOpenSlice$1,theme:themeSlice$1})),store=configureStore({devTools:!1,reducer:persistedReducer,middleware(C){return C({serializableCheck:{ignoredActions:[FLUSH,REHYDRATE,PAUSE,PERSIST,PURGE,REGISTER]}})}}),persistor=persistStore(store),RickAwesome=()=>jsx(Provider,{store,children:jsx(PersistGate,{loading:null,persistor,children:jsx(RouterProvider,{router})})});client.createRoot(document.getElementById("root")).render(jsx(RickAwesome,{}));export{copyObject$4 as $,Article as A,evaluate as B,ContentWrapper as C,interpolateToCurve as D,setupGraphViewbox$1 as E,Fragment as F,defaultConfig as G,setDiagramTitle as H,getDiagramTitle as I,utils as J,clear$1 as K,Link as L,isObjectLike$2 as M,baseGetTag as N,Symbol$4 as O,isArray$4 as P,isObject$4 as Q,isArrayLike$1 as R,SequenceChart as S,ThemeWrapper as T,arrayLikeKeys$1 as U,baseKeys as V,memoize$2 as W,isArguments$2 as X,setToString$1 as Y,overRest as Z,__vitePreload as _,jsxs as a,pi as a$,keysIn$4 as a0,getPrototype$3 as a1,cloneArrayBuffer$4 as a2,cloneTypedArray$2 as a3,getTag$4 as a4,nodeUtil$3 as a5,baseUnary$2 as a6,copyArray$2 as a7,isBuffer$2 as a8,cloneBuffer$1 as a9,isPlainObject$1 as aA,rgba$1 as aB,decodeEntities as aC,curveBasis as aD,dedent as aE,setConfig as aF,parseGenericTypes as aG,getConfig as aH,setupGraphViewbox as aI,random as aJ,define as aK,extend$2 as aL,Rgb as aM,Color$2 as aN,rgbConvert as aO,nogamma as aP,hue as aQ,constant$1 as aR,interpolateNumber as aS,color as aT,interpolateRgb as aU,interpolateString as aV,selectSvgElement as aW,tau as aX,defaultConfig$1 as aY,cleanAndMerge as aZ,parseFontSize as a_,initCloneObject$2 as aa,Stack$1 as ab,assignValue$1 as ac,MapCache$1 as ad,eq as ae,Uint8Array$3 as af,isTypedArray$1 as ag,isLength as ah,isIndex as ai,identity as aj,baseFor$1 as ak,root$1 as al,baseRest as am,isIterateeCall as an,baseAssignValue as ao,Set$2 as ap,isArrayLikeObject as aq,constant as ar,isFunction$1 as as,isEmpty as at,merge$2 as au,Selection$1 as av,root$2 as aw,array as ax,_ as ay,Color$1 as az,useNavigate as b,cos as b0,sin as b1,halfPi as b2,epsilon as b3,sqrt as b4,min as b5,abs as b6,atan2 as b7,asin as b8,acos as b9,max as ba,getThemeVariables$2 as bb,addFunction as bc,ZERO_WIDTH_SPACE as bd,generateId as be,commonjsRequire as bf,commonDb as bg,isDark$1 as bh,lighten$1 as bi,darken$1 as bj,metaData$1 as bk,css$1 as c,ThemeSwitch as d,useTheme as e,getAccDescription as f,getAccTitle as g,setAccDescription as h,isMac as i,jsx as j,getConfig$1 as k,sanitizeText$2 as l,assignWithDepth$1 as m,calculateTextWidth as n,select as o,log$1 as p,configureSvgSize as q,common$1 as r,setAccTitle as s,calculateTextHeight$1 as t,useMDXComponents as u,dist as v,wrapLabel as w,lineBreakRegex as x,curveLinear as y,getStylesFromArray as z};
